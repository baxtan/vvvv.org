import{ae as h,ak as u,af as y}from"./app.js";import{u as k}from"./app-BusinessListStore-CNxD6-Fu.js";import{_ as B,a as g,b as w}from"./app-ConnectionListView-067OUA7R.js";import{l as C,w as S,f as v,N as a,P as b,u as t,O as N,o,b as m,c as $,a1 as l,Q as x,F as L}from"./app-vue-Chj5ZsMy.js";import"./app-icons-DRCsUfN5.js";import"./app-lodash-Cpj98o6Y.js";import"./app-ListStoreHelper-CRUkMKDL.js";import"./app-LinksHelper-C0DPfYCg.js";import"./app-Location-BjG01-we.js";import"./app-Internships-L3loBx4R.js";const R={class:"row mb-2"},V={class:"col-12 col-lg-4"},A={__name:"BusinessList",setup(q){const i=y(),c=h(),e=k();C(async()=>{e.setSection("list"),await r(c.query)}),S(()=>c.query,async(s,n)=>{s!=n&&await r(c.query)},{deep:!0});async function r(s){if(s.b){u(s.b);return}else s.section&&e.setSection(s.section,s.type);try{await e.getData()}catch(n){console.log(n)}}function p(s){s=="connections"?i.push({name:"Businesses",query:{section:s,type:e.selectedConnection.key??"github"}}):s=="list"&&i.push({name:"Businesses",query:{section:s}})}function f(s){i.push({name:"Businesses",query:{section:e.selectedSection.key,type:s}})}const _=v(()=>{if(e.list?.list)return`${e.list.list.total} Businesses that use vvvv:`});return(s,n)=>{const d=N("n-spin");return o(),a(d,{show:t(e).loading},{default:b(()=>[m("div",R,[m("div",V,[x(B,{sections:t(e).sections,selected:t(e).selectedSection.key,onSelect:p},null,8,["sections","selected"])])]),!t(e).loading&&t(e).list?(o(),$(L,{key:0},[t(e).selectedSection.key=="list"?(o(),a(g,{key:0,list:t(e).list.list,title:_.value,onClick:t(u)},null,8,["list","title","onClick"])):l("",!0),t(e).selectedSection.key=="connections"?(o(),a(w,{key:1,list:t(e).list.connections,options:t(e).socialOptions,connection:t(e).selectedConnection,connectionKey:"business",onChange:f},null,8,["list","options","connection"])):l("",!0)],64)):l("",!0)]),_:1},8,["show"])}}};export{A as default};
