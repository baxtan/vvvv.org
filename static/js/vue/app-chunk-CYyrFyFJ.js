import{r as f,c as y,G as l,a0 as u,H as s,I as c,F as p,R as v,Q as h,P as d,K as g,M as w,o as b,O as k,L as m}from"./app-chunk-DZzY5mmt.js";import{_ as $,$ as x,a7 as _,a3 as B,a9 as C}from"./app.js";import{_ as L,a as j}from"./app-chunk-w8SK0U1n.js";import{_ as A}from"./app-chunk-Dns4o9-F.js";import{_ as M}from"./app-chunk-DqLUBY3p.js";import"./app-chunk-CH2Cnt03.js";import"./app-chunk-OBQLImDs.js";import"./app-chunk-cNDEcVgS.js";import"./app-chunk-C5HaSN46.js";const P="?withoutEnlargement=true&quality=90&fit=cover&width=120",E=x.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function H(t){const n=E+t,o=await fetch(n);if(o.ok){const a=await o.json();if(a.data.length==0)throw"Can't find a profile for this company";const e={...a.data[0]};return e.logo=e?.logo?$(e.logo)+P:null,e}else throw new Error("Can't load Profile")}const R={key:0,class:"my-3 pt-2 border-top"},N={key:0,class:"mb-1"},S=["href"],V={__name:"Links",props:["data"],setup(t){const n=t,o=f([{name:"Contact",url:_(n.data.contact_url)},{name:"Projects",url:_(n.data.projects_url)},{name:"Jobs",url:_(n.data.jobs_url)}]),a=y(()=>o.value.some(e=>e.url!=null||""));return console.log(o),(e,i)=>a.value?(s(),l("div",R,[i[0]||(i[0]=c("p",{class:"text-muted mb-2"},"Direct links:",-1)),(s(!0),l(p,null,v(o.value,r=>(s(),l(p,{key:r.name},[r.url?(s(),l("p",N,[c("a",{href:r.url,target:"_blank"},h(r.name),9,S)])):u("",!0)],64))),128))])):u("",!0)}},I=["src"],U={class:"my-3"},q={__name:"InstitutionBasics",props:["data"],setup(t){const n=["website","github","nuget","mastodon","pixelfed"];return(o,a)=>(s(),l("div",null,[t.data.logo?(s(),l("img",{key:0,src:t.data.logo,alt:"logo",class:"img-fluid"},null,8,I)):u("",!0),c("div",U,[c("h5",null,h(t.data.name),1)]),d(L,{data:t.data},null,8,["data"]),Object.keys(t.data.social)>0?(s(),g(A,{key:1,class:"mt-4 mb-4 pt-3 border-top",social:t.data.social,order:n},null,8,["social"])):u("",!0),d(M,{data:t.data.internships,text:"Accepting internship applications"},null,8,["data"]),d(V,{class:"links",data:t.data},null,8,["data"]),d(j,{class:"maintained mt-4 pt-3 border-top",data:t.data.owner},null,8,["data"])]))}},D={key:0},F={class:"row"},G={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},K={key:0,class:"col-12 col-md-6 col-lg-8"},O=["innerHTML"],et={__name:"BusinessView",setup(t){const o=w().params.name,a=f(null),e=f(!1);let i;return b(async()=>{try{e.value=!0,a.value=await H(o),document.title="Profile: "+a.value.name,i=B(a.value.description)}catch(r){console.log(r)}finally{e.value=!1}}),(r,T)=>(s(),g(m(C),{show:e.value},{default:k(()=>[a.value?(s(),l("div",D,[c("div",F,[c("div",G,[d(q,{class:"mb-3",data:a.value},null,8,["data"])]),m(i)?(s(),l("div",K,[c("p",{innerHTML:m(i)},null,8,O)])):u("",!0)])])):u("",!0)]),_:1},8,["show"]))}};export{et as default};
