import{ax as Y,d as K,W as Z,h as I,ay as ee,u as te,x as Q,y as ae,b as h,z as le,az as ne,U as q,ae as i,af as s,aA as se,aB as H,ac as D,an as c,au as a,M as U,aC as b,ag as g,ah as y,aD as re,am as F,ai as v,aE as oe,aw as j,aF as ie,aG as ce,as as ue,r as S,ad as E,ar as de,aH as me,aI as ve,aJ as pe,at as fe,aj as ge,aK as W,ak as J,aL as he}from"./app.js";import{g as ye}from"./app-get-slot-Bk_rJcZu.js";import{_ as be}from"./app-SocialView-C3aZtlak.js";import{_ as _e}from"./app-Location-BWlBn7Gy.js";import"./app-LocationOutline-BOhip31t.js";const we={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"};function ke(){return we}const xe={self:ke};let A;function $e(){if(!Y)return!0;if(A===void 0){const e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);const n=e.scrollHeight===1;return document.body.removeChild(e),A=n}return A}const Ce=Object.assign(Object.assign({},Q.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemClass:String,itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),Se=K({name:"Space",props:Ce,setup(e){const{mergedClsPrefixRef:n,mergedRtlRef:l}=te(e),t=Q("Space","-space",void 0,xe,e,n),o=ae("Space",l,n);return{useGap:$e(),rtlEnabled:o,mergedClsPrefix:n,margin:h(()=>{const{size:u}=e;if(Array.isArray(u))return{horizontal:u[0],vertical:u[1]};if(typeof u=="number")return{horizontal:u,vertical:u};const{self:{[le("gap",u)]:M}}=t.value,{row:m,col:_}=ne(M);return{horizontal:q(_),vertical:q(m)}})}},render(){const{vertical:e,reverse:n,align:l,inline:t,justify:o,itemClass:u,itemStyle:M,margin:m,wrap:_,mergedClsPrefix:w,rtlEnabled:L,useGap:k,wrapItem:z,internalUseGap:N}=this,x=Z(ye(this),!1);if(!x.length)return null;const O=`${m.horizontal}px`,B=`${m.horizontal/2}px`,R=`${m.vertical}px`,p=`${m.vertical/2}px`,$=x.length-1,C=o.startsWith("space-");return I("div",{role:"none",class:[`${w}-space`,L&&`${w}-space--rtl`],style:{display:t?"inline-flex":"flex",flexDirection:e&&!n?"column":e&&n?"column-reverse":!e&&n?"row-reverse":"row",justifyContent:["start","end"].includes(o)?`flex-${o}`:o,flexWrap:!_||e?"nowrap":"wrap",marginTop:k||e?"":`-${p}`,marginBottom:k||e?"":`-${p}`,alignItems:l,gap:k?`${m.vertical}px ${m.horizontal}px`:""}},!z&&(k||N)?x:x.map((T,r)=>T.type===ee?T:I("div",{role:"none",class:u,style:[M,{maxWidth:"100%"},k?"":e?{marginBottom:r!==$?R:""}:L?{marginLeft:C?o==="space-between"&&r===$?"":B:r!==$?O:"",marginRight:C?o==="space-between"&&r===0?"":B:"",paddingTop:p,paddingBottom:p}:{marginRight:C?o==="space-between"&&r===$?"":B:r!==$?O:"",marginLeft:C?o==="space-between"&&r===0?"":B:"",paddingTop:p,paddingBottom:p}]},T)))}}),je={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Me=K({name:"CalendarOutline",render:function(n,l){return s(),i("svg",je,l[0]||(l[0]=[se('<rect fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" x="48" y="80" width="416" height="384" rx="48"></rect><circle cx="296" cy="232" r="24" fill="currentColor"></circle><circle cx="376" cy="232" r="24" fill="currentColor"></circle><circle cx="296" cy="312" r="24" fill="currentColor"></circle><circle cx="376" cy="312" r="24" fill="currentColor"></circle><circle cx="136" cy="312" r="24" fill="currentColor"></circle><circle cx="216" cy="312" r="24" fill="currentColor"></circle><circle cx="136" cy="392" r="24" fill="currentColor"></circle><circle cx="216" cy="392" r="24" fill="currentColor"></circle><circle cx="296" cy="392" r="24" fill="currentColor"></circle><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" stroke-linecap="round" d="M128 48v32"></path><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" stroke-linecap="round" d="M384 48v32"></path><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" d="M464 160H48"></path>',13)]))}}),Be={class:"card-body"},Fe=["src"],Le=["innerHTML"],Te={class:"row"},Oe={key:0,class:"col-12 col-lg-6"},Re={class:"pr-lg-2"},Ee=["innerHTML"],He={key:1,class:"col-12 col-lg-6"},ze={class:"pl-lg-2"},Ne=["innerHTML"],Pe={class:"card-text"},Ge="",Ue={__name:"HireView",props:{data:Object,contact:String},setup(e){const n=h(()=>e.data?{description:H(e.data.description),contact:e.data.contact,skills_vvvv:H(e.data.skills_vvvv),skills_other:H(e.data.skills_other),image:e.data.image?D(e.data.image)+Ge:null,availableFor:e.data.availableFor?e.data.availableFor.map(l=>l.AvailableFor_Options_id?l.AvailableFor_Options_id.value:""):[]}:{});return(l,t)=>(s(),i("div",Be,[n.value.image?(s(),i("img",{key:0,src:n.value.image,class:"img-fluid pt-2 mb-4"},null,8,Fe)):c("",!0),n.value.description?(s(),i("p",{key:1,class:"card-text",innerHTML:n.value.description},null,8,Le)):c("",!0),a("div",Te,[n.value.skills_vvvv?(s(),i("div",Oe,[a("div",Re,[t[0]||(t[0]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"vvvv skills")],-1)),a("p",{class:"card-text",innerHTML:n.value.skills_vvvv},null,8,Ee)])])):c("",!0),n.value.skills_other?(s(),i("div",He,[a("div",ze,[t[1]||(t[1]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"other skills")],-1)),a("p",{class:"card-text",innerHTML:n.value.skills_other},null,8,Ne)])])):c("",!0)]),n.value.contact?(s(),i(U,{key:2},[t[2]||(t[2]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"contact")],-1)),a("p",Pe,b(n.value.contact),1)],64)):c("",!0),n.value.availableFor.length>0?(s(),i(U,{key:3},[t[3]||(t[3]=a("p",{class:"py-0 mb-2 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"Available for")],-1)),g(v(Se),null,{default:y(()=>[(s(!0),i(U,null,re(n.value.availableFor,o=>(s(),F(v(oe),{class:"mr-2",bordered:!1},{default:y(()=>[j(b(o),1)]),_:2},1024))),256))]),_:1})],64)):c("",!0)]))}},Ae={class:"joined border-top pt-3"},Ve={key:0},De={key:1},Ie={__name:"BetaGammaUser",props:["data"],setup(e){return(n,l)=>(s(),i("div",Ae,[l[2]||(l[2]=a("p",{class:"joined mb-2"},"Using:",-1)),e.data.beta?(s(),i("div",Ve,[l[0]||(l[0]=j("vvvv beta since ")),a("b",null,b(e.data.beta),1)])):c("",!0),e.data.gamma?(s(),i("div",De,[l[1]||(l[1]=j("vvvv gamma since ")),a("b",null,b(e.data.gamma),1)])):c("",!0)]))}},qe=["href"],We={class:"mb-1 d-flex text-align-center"},Je=["href"],Ke={class:"mb-1"},Qe={__name:"Maintains",props:["data"],setup(e){return(n,l)=>(s(),i("div",null,[l[2]||(l[2]=a("div",{class:"mb-2"},"Maintains:",-1)),e.data.company?(s(),i("a",{key:0,href:"/business/"+e.data.company.name,onClick:l[0]||(l[0]=t=>v(ie)(e.data.company.name,t))},[a("div",We,b(e.data.company.name),1)],8,qe)):c("",!0),e.data.edu?(s(),i("a",{key:1,href:"/edu/"+e.data.edu.name,onClick:l[1]||(l[1]=t=>v(ce)(e.data.edu.name,t))},[a("p",Ke,b(e.data.edu.name),1)],8,Je)):c("",!0)]))}},Xe={key:0,class:"userView"},Ye={class:"row"},Ze={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},et={class:"my-3"},tt=["href"],at={key:0,class:"text-muted mb-1"},lt={class:"joined mb-2"},nt={class:"col-12 mt-3 mt-md-0 pt-md-0 col-md-6 col-lg-8 profileContent"},st={key:0,class:"mb-4 description"},rt=["innerHTML"],ot={key:1},it={key:0,class:"card"},V=120,pt={__name:"UserView",setup(e){const n=ue();fe();const l=n.params.username,t=S(null),o=S(null),u=S(null),M=S(null),m=S(!1),_=S(null),w=S({}),L=`?withoutEnlargement=true&quality=90&fit=cover&width=${V}&height=${V}`,k=`${E.GET_USERS}?filter[username][_eq]=${l}
            &fields=*,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value,related.social.*`,z=`${E.GET_COMPANIES}?filter[owner][username][_eq]=${l}&fields=name`,N=`${E.GET_EDUS}?filter[owner][username][_eq]=${l}&fields=name`;de(async()=>{m.value=!0,window.scrollTo({top:0,left:0,behavior:"smooth"});try{let r=await fetch(k),d=await r.json();if(!r.ok||d.data?.length==0)throw"Can't find a profile for this user";const f=d.data[0];document.title="Profile: "+f.username,t.value=f,M.value=t.value.userpic?`${D(t.value.userpic)}${L}`:null,o.value=f.related[0]?.hire,u.value=f.related[0]?.social,_.value=H(t.value.description);const X=[x(z),x(N)],[P,G]=await Promise.allSettled(X);P.status==="fulfilled"&&P.value&&(w.value.company=P.value),G.status==="fulfilled"&&G.value&&(w.value.edu=G.value)}catch(r){console.error(r)}finally{m.value=!1}});async function x(r){const d=await fetch(r),f=await d.json();return d.ok&&f.data?.length>0?{name:f.data[0].name,logo:f.data[0].logo?`${D(f.data[0].logo)}${L}`:null}:null}const O={year:"numeric",month:"short",day:"numeric"},B=h(()=>new Date(t.value.date_created).toLocaleString("en-US",O)),R=h(()=>({city:t.value.location_city,country:t.value.location_country})),p=h(()=>{const r=[t.value.name,t.value.surname].filter(Boolean).join(" ");return r||null}),$=h(()=>`${E.FORUM}u/${t.value.username}/summary`),C=h(()=>{const r={beta:t.value.beta_since,gamma:t.value.gamma_since};return r.beta||r.gamma?r:null});h(()=>{let r=null;return u.value?.website&&u.value.website!==""&&(r={name:ve(u.value.website),link:me(u.value.website)}),r});const T=h(()=>o.value.skills_other||o.value.skills_vvvv||o.value.contact||o.value.availableFor&&o.value.availableFor.length>0||o.value.description||o.value.image);return(r,d)=>(s(),F(v(pe),{show:m.value},{default:y(()=>[t.value?(s(),i("div",Xe,[a("div",Ye,[a("div",Ze,[g(v(ge),{objectFit:"contain",round:"",size:V,src:M.value},null,8,["src"]),a("div",et,[a("h5",null,[j(b(t.value.username)+" ",1),a("a",{href:$.value,target:"_blank",class:"pl-2",alt:"Forum Profile"},[g(v(W),{trigger:"hover"},{trigger:y(()=>[g(v(J),null,{default:y(()=>[g(v(he))]),_:1})]),default:y(()=>[d[0]||(d[0]=j(" Open Forum Profile "))]),_:1})],8,tt)]),p.value?(s(),i("p",at,b(p.value),1)):c("",!0)]),a("div",lt,[g(v(W),{trigger:"hover"},{trigger:y(()=>[g(v(J),{size:"1.2rem",class:"mr-2"},{default:y(()=>[g(v(Me))]),_:1})]),default:y(()=>[d[1]||(d[1]=j(" Joined "))]),_:1}),j(" "+b(B.value),1)]),R.value?(s(),F(_e,{key:0,location:R.value,class:"pb-2"},null,8,["location"])):c("",!0),Object.keys(w.value).length>0?(s(),F(Qe,{key:1,data:w.value,class:"border-top py-3 mt-4"},null,8,["data"])):c("",!0),u.value?(s(),F(be,{key:2,class:"my-1 py-2 border-top",social:u.value},null,8,["social"])):c("",!0),C.value?(s(),F(Ie,{key:3,data:C.value},null,8,["data"])):c("",!0)]),a("div",nt,[d[3]||(d[3]=a("hr",{class:"d-block d-md-none"},null,-1)),_.value?(s(),i("div",st,[a("p",{innerHTML:_.value},null,8,rt)])):c("",!0),o.value&&o.value.available?(s(),i("div",ot,[d[2]||(d[2]=a("h4",{class:"h4"},"Available for hire",-1)),T.value?(s(),i("div",it,[g(Ue,{data:o.value},null,8,["data"])])):c("",!0)])):c("",!0)])])])):c("",!0)]),_:1},8,["show"]))}};export{pt as default};
