import{d as J,ae as n,af as s,av as K,r as m,ap as B,am as y,as as a,ah as f,ai as u,an as o,aw as Q,ax as h,M as $,b as _,ay as j,ac as H,ag as v,az as W,aA as X,au as b,aB as Z,aC as ee,aq as te,ad as x,aD as ae,aE as le,aF as se,ar as ne,aj as oe,aG as U,ak as A,aH as re}from"./app.js";import{N as ie}from"./app-Space-CohAo84o.js";import{_ as ce}from"./app-SocialView-Bm2MClfs.js";import{_ as ue}from"./app-Location-p6anrmfV.js";import{N as de}from"./app-PerformantEllipsis-BXAi2AII.js";import"./app-LocationOutline-DNQ6lrCI.js";const ve={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},me=J({name:"CalendarOutline",render:function(r,l){return s(),n("svg",ve,l[0]||(l[0]=[K('<rect fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" x="48" y="80" width="416" height="384" rx="48"></rect><circle cx="296" cy="232" r="24" fill="currentColor"></circle><circle cx="376" cy="232" r="24" fill="currentColor"></circle><circle cx="296" cy="312" r="24" fill="currentColor"></circle><circle cx="376" cy="312" r="24" fill="currentColor"></circle><circle cx="136" cy="312" r="24" fill="currentColor"></circle><circle cx="216" cy="312" r="24" fill="currentColor"></circle><circle cx="136" cy="392" r="24" fill="currentColor"></circle><circle cx="216" cy="392" r="24" fill="currentColor"></circle><circle cx="296" cy="392" r="24" fill="currentColor"></circle><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" stroke-linecap="round" d="M128 48v32"></path><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" stroke-linecap="round" d="M384 48v32"></path><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" d="M464 160H48"></path>',13)]))}}),fe=["innerHTML"],he=["innerHTML"],ge={__name:"ClippedText",props:["text","maxLength","clippedLength"],setup(t){const r=["Show More","Show Less"],l=m(0),e=m(!1),c=m(t.text);B(()=>{t.text.length>t.maxLength&&(e.value=!0),c.value=t.text.trim()});function g(){l.value?l.value=0:l.value=1}return(C,k)=>(s(),n($,null,[e.value&&l.value==0?(s(),y(u(de),{key:0,"line-clamp":"3",tooltip:"false"},{default:f(()=>[a("span",{innerHTML:t.text},null,8,fe)]),_:1})):(s(),n("span",{key:1,innerHTML:t.text},null,8,he)),a("div",null,[e.value?(s(),n("a",{key:0,href:"#",onClick:Q(g,["prevent"])},h(r[l.value]),1)):o("",!0)])],64))}},pe={class:"card-body"},_e=["src"],ye=["innerHTML"],be={class:"row"},ke={key:0,class:"col-12 col-lg-6"},we={class:"pr-lg-2"},xe=["innerHTML"],$e={key:1,class:"col-12 col-lg-6"},Ce={class:"pl-lg-2"},Le=["innerHTML"],Me={class:"card-text"},Te="",je={__name:"HireView",props:{data:Object,contact:String},setup(t){const r=_(()=>t.data?{description:j(t.data.description),contact:t.data.contact,skills_vvvv:j(t.data.skills_vvvv),skills_other:j(t.data.skills_other),image:t.data.image?H(t.data.image)+Te:null,availableFor:t.data.availableFor?t.data.availableFor.map(l=>l.AvailableFor_Options_id?l.AvailableFor_Options_id.value:""):[]}:{});return(l,e)=>(s(),n("div",pe,[r.value.image?(s(),n("img",{key:0,src:r.value.image,class:"img-fluid pt-2 mb-4"},null,8,_e)):o("",!0),r.value.description?(s(),n("p",{key:1,class:"card-text",innerHTML:r.value.description},null,8,ye)):o("",!0),e[4]||(e[4]=a("hr",{class:"d-lg-none mt-3 mt-lg-0"},null,-1)),a("div",be,[r.value.skills_vvvv?(s(),n("div",ke,[a("div",we,[e[0]||(e[0]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"vvvv skills")],-1)),a("p",{class:"card-text",innerHTML:r.value.skills_vvvv},null,8,xe)])])):o("",!0),r.value.skills_vvvv?(s(),n("div",$e,[a("div",Ce,[e[1]||(e[1]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"other skills")],-1)),a("p",{class:"card-text",innerHTML:r.value.skills_other},null,8,Le)])])):o("",!0)]),r.value.contact?(s(),n($,{key:2},[e[2]||(e[2]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"contact")],-1)),a("p",Me,h(r.value.contact),1)],64)):o("",!0),r.value.availableFor.length>0?(s(),n($,{key:3},[e[3]||(e[3]=a("p",{class:"py-0 mb-2 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"Available for")],-1)),v(u(ie),null,{default:f(()=>[(s(!0),n($,null,W(r.value.availableFor,c=>(s(),y(u(X),{class:"mr-2",bordered:!1},{default:f(()=>[b(h(c),1)]),_:2},1024))),256))]),_:1})],64)):o("",!0)]))}},Fe={class:"joined border-top pt-3"},He={key:0},Ne={key:1},Se={__name:"BetaGammaUser",props:["data"],setup(t){return(r,l)=>(s(),n("div",Fe,[l[2]||(l[2]=a("p",{class:"joined mb-2"},"Using:",-1)),t.data.beta?(s(),n("div",He,[l[0]||(l[0]=b("vvvv beta since ")),a("b",null,h(t.data.beta),1)])):o("",!0),t.data.gamma?(s(),n("div",Ne,[l[1]||(l[1]=b("vvvv gamma since ")),a("b",null,h(t.data.gamma),1)])):o("",!0)]))}},Oe=["href"],Ee={class:"mb-1 d-flex text-align-center"},Pe=["href"],Ue={class:"mb-1"},Ae={__name:"Maintains",props:["data"],setup(t){return(r,l)=>(s(),n("div",null,[l[2]||(l[2]=a("div",{class:"mb-2"},"Maintains:",-1)),t.data.company?(s(),n("a",{key:0,href:"/business/"+t.data.company.name,onClick:l[0]||(l[0]=e=>u(Z)(t.data.company.name,e))},[a("div",Ee,h(t.data.company.name),1)],8,Oe)):o("",!0),t.data.edu?(s(),n("a",{key:1,href:"/edu/"+t.data.edu.name,onClick:l[1]||(l[1]=e=>u(ee)(t.data.edu.name,e))},[a("p",Ue,h(t.data.edu.name),1)],8,Pe)):o("",!0)]))}},Be={key:0,class:"userView"},Re={class:"row"},Ve={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},De={class:"my-3"},qe=["href"],Ge={key:0,class:"text-muted mb-1"},ze={class:"joined mb-2"},Ie={class:"col-12 col-md-6 col-lg-8 profileContent"},Ye={key:0,class:"mb-4 description"},Je={key:1},Ke={key:0,class:"card"},F=120,at={__name:"UserView",setup(t){const r=te();ne();const l=r.params.username,e=m(null),c=m(null),g=m(null),C=m(null),k=m(!1),L=m(null),w=m({}),N=`?withoutEnlargement=true&quality=90&fit=cover&width=${F}&height=${F}`,R=`${x.GET_USERS}?filter[username][_eq]=${l}
            &fields=*,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value,related.social.*`,V=`${x.GET_COMPANIES}?filter[owner][username][_eq]=${l}&fields=name,logo`,D=`${x.GET_EDUS}?filter[owner][username][_eq]=${l}&fields=name,logo`;B(async()=>{k.value=!0,window.scrollTo({top:0,left:0,behavior:"smooth"});try{let i=await fetch(R),d=await i.json();if(!i.ok||d.data?.length==0)throw"Can't find a profile for this user";const p=d.data[0];document.title="Profile: "+p.username,e.value=p,C.value=e.value.userpic?`${H(e.value.userpic)}${N}`:null,c.value=p.related[0]?.hire,g.value=p.related[0]?.social,L.value=e.value.description;const Y=[S(V),S(D)],[M,T]=await Promise.allSettled(Y);M.status==="fulfilled"&&M.value&&(w.value.company=M.value),T.status==="fulfilled"&&T.value&&(w.value.edu=T.value)}catch(i){console.error(i)}finally{k.value=!1}});async function S(i){const d=await fetch(i),p=await d.json();return d.ok&&p.data?.length>0?{name:p.data[0].name,logo:p.data[0].logo?`${H(p.data[0].logo)}${N}`:null}:null}const q={year:"numeric",month:"short",day:"numeric"},G=_(()=>new Date(e.value.date_created).toLocaleString("en-US",q)),O=_(()=>({city:e.value.location_city,country:e.value.location_country})),E=_(()=>{const i=[e.value.name,e.value.surname].filter(Boolean).join(" ");return i||null}),z=_(()=>`${x.FORUM}u/${e.value.username}/summary`),P=_(()=>{const i={};return e.value.beta_since&&(i.beta=new Date(e.value.beta_since).getFullYear()),e.value.gamma_since&&(i.gamma=new Date(e.value.gamma_since).getFullYear()),Object.keys(i).length>0?i:null});_(()=>{let i=null;return g.value?.website&&g.value.website!==""&&(i={name:le(g.value.website),link:ae(g.value.website)}),i});const I=_(()=>c.skills_other||c.skills_vvvv||c.contact||c.availableFor.length>0||c.description||c.image);return(i,d)=>(s(),y(u(se),{show:k.value},{default:f(()=>[e.value?(s(),n("div",Be,[a("div",Re,[a("div",Ve,[v(u(oe),{objectFit:"contain",round:"",size:F,src:C.value},null,8,["src"]),a("div",De,[a("h5",null,[b(h(e.value.username)+" ",1),a("a",{href:z.value,target:"_blank",class:"pl-2",alt:"Forum Profile"},[v(u(U),{trigger:"hover"},{trigger:f(()=>[v(u(A),null,{default:f(()=>[v(u(re))]),_:1})]),default:f(()=>[d[0]||(d[0]=b(" Open Forum Profile "))]),_:1})],8,qe)]),E.value?(s(),n("p",Ge,h(E.value),1)):o("",!0)]),a("div",ze,[v(u(U),{trigger:"hover"},{trigger:f(()=>[v(u(A),{size:"1.2rem",class:"mr-2"},{default:f(()=>[v(u(me))]),_:1})]),default:f(()=>[d[1]||(d[1]=b(" Joined "))]),_:1}),b(" "+h(G.value),1)]),O.value?(s(),y(ue,{key:0,location:O.value},null,8,["location"])):o("",!0),Object.keys(w.value).length>0?(s(),y(Ae,{key:1,data:w.value,class:"border-top pt-2 mt-4"},null,8,["data"])):o("",!0),g.value?(s(),y(ce,{key:2,class:"mt-4 mb-4 pt-3 border-top",social:g.value},null,8,["social"])):o("",!0),P.value?(s(),y(Se,{key:3,data:P.value},null,8,["data"])):o("",!0)]),a("div",Ie,[L.value?(s(),n("div",Ye,[v(ge,{text:L.value,maxLength:255,clippedLength:100},null,8,["text"])])):o("",!0),c.value&&c.value.available?(s(),n("div",Je,[d[2]||(d[2]=a("h4",{class:"h4"},"Available for hire",-1)),I.value?(s(),n("div",Ke,[v(je,{data:c.value},null,8,["data"])])):o("",!0)])):o("",!0)])])])):o("",!0)]),_:1},8,["show"]))}};export{at as default};
