import{ac as v,ad as y,r as f,aD as _,b as w,ae as c,an as d,af as o,as as n,M as p,az as b,ax as h,ag as u,am as g,ai as m,aJ as k,aq as $,ap as x,ay as B,ah as C,aF as L}from"./app.js";import{_ as j,a as A}from"./app-LocationFull-DgV_pOB8.js";import{_ as M}from"./app-SocialView-CdAX0V5A.js";import{_ as E}from"./app-Internships-DTp7ZjkH.js";import"./app-LocationOutline-DNQ6lrCI.js";import"./app-CheckmarkCircle-Bc_kYk8y.js";const P="?withoutEnlargement=true&quality=90&fit=cover&width=120",H=y.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function N(a){const l=H+a,s=await fetch(l);if(s.ok){const e=await s.json();if(e.data.length==0)throw"Can't find a profile for this company";const t={...e.data[0]};return t.logo=t?.logo?v(t.logo)+P:null,t}else throw new Error("Can't load Profile")}const R={key:0,class:"my-3 pt-2 border-top"},S={key:0,class:"mb-1"},V=["href"],q={__name:"Links",props:["data"],setup(a){const l=a,s=f([{name:"Contact",url:_(l.data.contact_url)},{name:"Projects",url:_(l.data.projects_url)},{name:"Jobs",url:_(l.data.jobs_url)}]),e=w(()=>s.value.some(t=>t.url!=null||""));return console.log(s),(t,i)=>e.value?(o(),c("div",R,[i[0]||(i[0]=n("p",{class:"text-muted mb-2"},"Direct links:",-1)),(o(!0),c(p,null,b(s.value,r=>(o(),c(p,{key:r.name},[r.url?(o(),c("p",S,[n("a",{href:r.url,target:"_blank"},h(r.name),9,V)])):d("",!0)],64))),128))])):d("",!0)}},D=["src"],U={class:"my-3"},F={__name:"InstitutionBasics",props:["data"],setup(a){return(l,s)=>(o(),c("div",null,[n("img",{src:a.data.logo||m(k),alt:"logo",class:"img-fluid"},null,8,D),n("div",U,[n("h5",null,h(a.data.name),1)]),u(j,{data:a.data},null,8,["data"]),Object.keys(a.data.social)>0?(o(),g(M,{key:0,class:"mt-4 mb-4 pt-3 border-top",social:a.data.social},null,8,["social"])):d("",!0),u(E,{data:a.data.internships,text:"Accepting internship applications"},null,8,["data"]),u(q,{class:"links",data:a.data},null,8,["data"]),u(A,{class:"maintained mt-4 pt-3 border-top",data:a.data.owner},null,8,["data"])]))}},I={key:0},J={class:"row"},T={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},z={key:0,class:"col-12 col-md-6 col-lg-8"},G=["innerHTML"],aa={__name:"BusinessView",setup(a){const s=$().params.name,e=f(null),t=f(!1);let i;return x(async()=>{try{t.value=!0,e.value=await N(s),document.title="Profile: "+e.value.name,i=B(e.value.description)}catch(r){console.log(r)}finally{t.value=!1}}),(r,O)=>(o(),g(m(L),{show:t.value},{default:C(()=>[e.value?(o(),c("div",I,[n("div",J,[n("div",T,[u(F,{class:"mb-3",data:e.value},null,8,["data"])]),m(i)?(o(),c("div",z,[n("p",{innerHTML:m(i)},null,8,G)])):d("",!0)])])):d("",!0)]),_:1},8,["show"]))}};export{aa as default};
