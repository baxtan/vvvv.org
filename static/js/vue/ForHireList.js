import{a4 as f,r as u,ae as h,ac as m,a9 as p,a8 as v,ah as b,a5 as w,a2 as s,a1 as d,H as y,aL as k,a3 as r,ag as B,af as x}from"./app.js";import{_ as C}from"./HireView.js";import"./utils.js";import"./Tag.js";const F=f.BASEURL+`items/User?fields=*,related.social.contact,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value
&filter[related][hire][available][_eq]=true&sort=name&meta=filter_count`;async function L(o){o.value=!0;try{return(await(await fetch(F)).json()).data.map(e=>{const t=[e.name,e.surname].filter(Boolean).join(" ");return{username:e.username,title:t?`${t} (${e.username})`:e.username,contact:e.related[0].social??null,hire:e.related[0].hire??null}})}catch(n){console.log(n)}finally{o.value=!1}}const $={class:"d-flex flex-row mb-3"},g={class:"mr-4"},j=["onClick"],H={class:"card mb-5"},D={__name:"ForHireList",emits:["showProfile"],setup(o,{emit:n}){const l=w(),i=u(!0),e=u([]);h(async()=>{e.value=await L(i)});const t=c=>{l.push(`/user?u=${c}`)};return(c,U)=>(s(),m(v(b),{show:i.value},{default:p(()=>[(s(!0),d(y,null,k(e.value,(a,_)=>(s(),d("div",{id:"UsersForHire",key:_},[r("div",$,[r("h3",g,B(a.title),1),r("button",{class:"btn btn-sm btn-outline-secondary",onClick:N=>t(a.username)},"Profile",8,j)]),r("div",H,[a.hire?(s(),m(C,{key:0,data:a.hire,contact:a.contact},null,8,["data","contact"])):x("",!0)])]))),128))]),_:1},8,["show"]))}};export{D as default};
