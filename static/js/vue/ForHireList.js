import{af as y,r as h,ao as _,ae as F,at as v,ab as i,aq as c,ac as s,ad as o,ag as d,as as u,aj as m,ai as n,M as g,au as b,ap as k,av as w,ak as N,am as p,ax as x,ay as C}from"./app.js";import{_ as H}from"./Location.js";import{N as A,a as B}from"./Space.js";import"./LocationOutline.js";const j=y.BASEURL+`items/User?fields=*,related.social.contact,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value
&filter[related][hire][available][_eq]=true&sort=username&meta=filter_count`;async function E(){const a=await fetch(j),t=await a.json();if(a.ok)return t.data.map(e=>{const r=[e.name,e.surname].filter(Boolean).join(" ");return{username:e.username,name:r??null,contact:e.related[0].social??null,location:{city:e.location_city,country:e.location_country},hire:e.related[0].hire??null}});throw Error("Connection Error")}const L={class:"imageContainer"},U=["src","alt"],M={class:"card-body"},O={class:"card-title"},S={class:"card-text"},T=["innerHTML"],V={key:0,class:"mt-2"},$={__name:"ForHireCard",props:{data:Object},setup(a){const t=h(null);return _(()=>{a.data.hire&&(t.value={description:v(a.data.hire.description),contact:a.data.hire.contact,skills_vvvv:v(a.data.hire.skills_vvvv),skills_other:v(a.data.hire.skills_other),image:a.data.hire.image?F(a.data.hire.image):null,availableFor:a.data.hire.availableFor?a.data.hire.availableFor.map(l=>l.AvailableFor_Options_id?l.AvailableFor_Options_id.value:""):[]})}),(l,e)=>t.value?(s(),i("div",{key:0,class:"card mb-5",onClick:e[0]||(e[0]=r=>n(p)(a.data.username,r))},[o("div",L,[t.value.image?(s(),i("img",{key:0,src:t.value.image,class:"card-img-top",alt:a.data.username},null,8,U)):c("",!0)]),o("div",M,[o("h4",O,u(a.data.username),1),o("p",S,u(a.data.title),1),d(n(A),{"line-clamp":"3",tooltip:"false"},{default:m(()=>[o("span",{innerHTML:t.value.skills_vvvv},null,8,T)]),_:1}),t.value.availableFor.length>0?(s(),i("div",V,[d(n(B),null,{default:m(()=>[(s(!0),i(g,null,b(t.value.availableFor,r=>(s(),k(n(w),{bordered:!1},{default:m(()=>[N(u(r),1)]),_:2},1024))),256))]),_:1})])):c("",!0),d(H,{location:a.data.location,class:"border-top pt-2 mt-3"},null,8,["location"])])])):c("",!0)}},P={key:0},q={class:"row"},J={__name:"ForHireList",emits:["showProfile"],setup(a,{emit:t}){C();const l=h(!0),e=h([]);return _(async()=>{try{l.value=!0,e.value=await E(l)}catch(r){console.log(r)}finally{l.value=!1}}),(r,D)=>(s(),k(n(x),{show:l.value},{default:m(()=>[e.value&&e.value.length>0?(s(),i("p",P,"A list of "+u(e.value.length)+" professionals available for hire.",1)):c("",!0),o("div",q,[(s(!0),i(g,null,b(e.value,f=>(s(),i("div",{id:"UsersForHire",class:"col-md-6 col-lg-4 col-12",key:f.username},[d($,{data:f},null,8,["data"])]))),128))])]),_:1},8,["show"]))}};export{J as default};
