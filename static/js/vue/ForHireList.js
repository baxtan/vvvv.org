import{a5 as h,r as c,af as p,ag as m,a9 as v,a8 as u,ah as w,ai as b,a2 as t,a1 as d,H as k,am as y,a3 as s,ak as B,ac as j,aj as x}from"./app.js";import{a as C}from"./HireView.js";import"./Space.js";const F=h.BASEURL+`items/User?fields=*,related.social.contact,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value
&filter[related][hire][available][_eq]=true&sort=name&meta=filter_count`;async function U(r){r.value=!0;try{return(await(await fetch(F)).json()).data.map(e=>{const l=[e.name,e.surname].filter(Boolean).join(" ");return{username:e.username,title:l?`${l} (${e.username})`:e.username,contact:e.related[0].social??null,hire:e.related[0].hire??null}})}catch(o){console.log(o)}finally{r.value=!1}}const g={class:"d-flex flex-row mb-3"},H={class:"mr-4"},L=["href","onClick"],N={class:"card mb-5"},$={__name:"ForHireList",emits:["showProfile"],setup(r,{emit:o}){b();const n=c(!0),i=c([]);return p(async()=>{i.value=await U(n)}),(e,l)=>(t(),m(u(w),{show:n.value},{default:v(()=>[(t(!0),d(k,null,y(i.value,(a,f)=>(t(),d("div",{id:"UsersForHire",key:f},[s("div",g,[s("h3",H,B(a.title),1),s("a",{href:"/user/"+a.username,class:"btn btn-sm btn-outline-secondary",onClick:_=>u(j)(a.username,_)},"Profile",8,L)]),s("div",N,[a.hire?(t(),m(C,{key:0,data:a.hire,contact:a.contact},null,8,["data","contact"])):x("",!0)])]))),128))]),_:1},8,["show"]))}};export{$ as default};
