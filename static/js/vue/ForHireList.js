import{a1 as y,r as c,aa as g,a0 as w,af as v,Z as o,ac as d,_ as s,$ as i,ae as u,H as h,a2 as _,a5 as f,ag as k,ab as F,a4 as m,ah as N,a6 as x,a8 as A,ak as p,al as B}from"./app.js";import{N as C}from"./Space.js";const H=y.BASEURL+`items/User?fields=*,related.social.contact,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value
&filter[related][hire][available][_eq]=true&sort=username&meta=filter_count`;async function U(a){return(await(await fetch(H)).json()).data.map(e=>{const n=[e.name,e.surname].filter(Boolean).join(" ");return{username:e.username,name:n??null,contact:e.related[0].social??null,hire:e.related[0].hire??null}})}const j={class:"imageContainer"},L=["src","alt"],O={class:"card-body"},S={class:"card-title"},V={class:"card-text"},$={__name:"ForHireCard",props:{data:Object},setup(a){const r=c(null);return g(()=>{a.data.hire&&(r.value={description:v(a.data.hire.description),contact:a.data.hire.contact,skills_vvvv:v(a.data.hire.skills_vvvv),skills_other:v(a.data.hire.skills_other),image:a.data.hire.image?w(a.data.hire.image):null,availableFor:a.data.hire.availableFor?a.data.hire.availableFor.map(t=>t.AvailableFor_Options_id?t.AvailableFor_Options_id.value:""):[]})}),(t,l)=>r.value?(s(),o("div",{key:0,class:"card mb-5",onClick:l[0]||(l[0]=e=>m(A)(a.data.username,e))},[i("div",j,[r.value.image?(s(),o("img",{key:0,src:r.value.image,class:"card-img-top",alt:a.data.username},null,8,L)):d("",!0)]),i("div",O,[i("h4",S,u(a.data.username),1),i("p",V,u(a.data.title),1),r.value.availableFor.length>0?(s(),o(h,{key:0},[l[1]||(l[1]=i("p",{class:"py-0 mb-2 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[i("b",null,"Available for")],-1)),_(m(C),null,{default:f(()=>[(s(!0),o(h,null,k(r.value.availableFor,e=>(s(),F(m(N),{class:"mr-2",bordered:!1},{default:f(()=>[x(u(e),1)]),_:2},1024))),256))]),_:1})],64)):d("",!0)])])):d("",!0)}},R={key:0},D={class:"row"},q={__name:"ForHireList",emits:["showProfile"],setup(a,{emit:r}){B();const t=c(!0),l=c([]),e=c(0);return g(async()=>{try{t.value=!0,l.value=await U(t),t.value=!1,e.value=l.value.length}catch(n){console.log(n)}}),(n,E)=>(s(),F(m(p),{show:t.value},{default:f(()=>[e.value>0?(s(),o("p",R,"A list of "+u(e.value)+" professionals available for hire.",1)):d("",!0),i("div",D,[(s(!0),o(h,null,k(l.value,b=>(s(),o("div",{id:"UsersForHire",class:"col-md-6 col-lg-4 col-12",key:b.username},[_($,{data:b},null,8,["data"])]))),128))])]),_:1},8,["show"]))}};export{q as default};
