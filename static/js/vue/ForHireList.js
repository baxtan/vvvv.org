import{a5 as f,r as u,af as h,ag as m,a9 as p,a8 as v,ak as b,b1 as k,a2 as s,a1 as d,H as w,aU as y,a3 as r,ai as B,ah as x}from"./app.js";import{_ as C}from"./HireView.js";const F=f.BASEURL+`items/User?fields=*,related.social.contact,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value
&filter[related][hire][available][_eq]=true&sort=name&meta=filter_count`;async function U(n){n.value=!0;try{return(await(await fetch(F)).json()).data.map(e=>{const t=[e.name,e.surname].filter(Boolean).join(" ");return{username:e.username,title:t?`${t} (${e.username})`:e.username,contact:e.related[0].social??null,hire:e.related[0].hire??null}})}catch(o){console.log(o)}finally{n.value=!1}}const $={class:"d-flex flex-row mb-3"},g={class:"mr-4"},j=["onClick"],H={class:"card mb-5"},S={__name:"ForHireList",emits:["showProfile"],setup(n,{emit:o}){const i=k(),l=u(!0),e=u([]);h(async()=>{e.value=await U(l)});const t=c=>{i.push(`/user?u=${c}`)};return(c,L)=>(s(),m(v(b),{show:l.value},{default:p(()=>[(s(!0),d(w,null,y(e.value,(a,_)=>(s(),d("div",{id:"UsersForHire",key:_},[r("div",$,[r("h3",g,B(a.title),1),r("button",{class:"btn btn-sm btn-outline-secondary",onClick:N=>t(a.username)},"Profile",8,j)]),r("div",H,[a.hire?(s(),m(C,{key:0,data:a.hire,contact:a.contact},null,8,["data","contact"])):x("",!0)])]))),128))]),_:1},8,["show"]))}};export{S as default};
