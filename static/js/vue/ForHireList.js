import{ae as F,r as d,an as b,ad as p,as as f,aa as i,ap as u,ab as s,ac as o,af as m,ar as v,ai as h,ah as n,M as g,at as y,ao as k,au as w,aj as N,al as x,ax as H,ay as j}from"./app.js";import{_ as A}from"./Location.js";import{N as B,a as C}from"./Space.js";import"./LocationOutline.js";const L=F.BASEURL+`items/User?fields=*,related.social.contact,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value
&filter[related][hire][available][_eq]=true&sort=username&meta=filter_count`;async function U(a){return(await(await fetch(L)).json()).data.map(e=>{const c=[e.name,e.surname].filter(Boolean).join(" ");return{username:e.username,name:c??null,contact:e.related[0].social??null,location:{city:e.location_city,country:e.location_country},hire:e.related[0].hire??null}})}const M={class:"imageContainer"},O=["src","alt"],S={class:"card-body"},T={class:"card-title"},V={class:"card-text"},$=["innerHTML"],E={key:0,class:"mt-2"},P={__name:"ForHireCard",props:{data:Object},setup(a){const t=d(null);return b(()=>{a.data.hire&&(t.value={description:f(a.data.hire.description),contact:a.data.hire.contact,skills_vvvv:f(a.data.hire.skills_vvvv),skills_other:f(a.data.hire.skills_other),image:a.data.hire.image?p(a.data.hire.image):null,availableFor:a.data.hire.availableFor?a.data.hire.availableFor.map(l=>l.AvailableFor_Options_id?l.AvailableFor_Options_id.value:""):[]})}),(l,r)=>t.value?(s(),i("div",{key:0,class:"card mb-5",onClick:r[0]||(r[0]=e=>n(x)(a.data.username,e))},[o("div",M,[t.value.image?(s(),i("img",{key:0,src:t.value.image,class:"card-img-top",alt:a.data.username},null,8,O)):u("",!0)]),o("div",S,[o("h4",T,v(a.data.username),1),o("p",V,v(a.data.title),1),m(n(B),{"line-clamp":"3",tooltip:"false"},{default:h(()=>[o("span",{innerHTML:t.value.skills_vvvv},null,8,$)]),_:1}),t.value.availableFor.length>0?(s(),i("div",E,[m(n(C),null,{default:h(()=>[(s(!0),i(g,null,y(t.value.availableFor,e=>(s(),k(n(w),{bordered:!1},{default:h(()=>[N(v(e),1)]),_:2},1024))),256))]),_:1})])):u("",!0),m(A,{location:a.data.location,class:"border-top pt-2 mt-3"},null,8,["location"])])])):u("",!0)}},R={key:0},D={class:"row"},K={__name:"ForHireList",emits:["showProfile"],setup(a,{emit:t}){j();const l=d(!0),r=d([]),e=d(0);return b(async()=>{try{l.value=!0,r.value=await U(l),l.value=!1,e.value=r.value.length}catch(c){console.log(c)}}),(c,q)=>(s(),k(n(H),{show:l.value},{default:h(()=>[e.value>0?(s(),i("p",R,"A list of "+v(e.value)+" professionals available for hire.",1)):u("",!0),o("div",D,[(s(!0),i(g,null,y(r.value,_=>(s(),i("div",{id:"UsersForHire",class:"col-md-6 col-lg-4 col-12",key:_.username},[m(P,{data:_},null,8,["data"])]))),128))])]),_:1},8,["show"]))}};export{K as default};
