import{a5 as w,a6 as h,ab as g,ae as b,aj as y,ak as k,al as R}from"./app.js";import{_ as E,a as U}from"./app-InstitutionBasics-4eZjzxFr.js";import{N}from"./app-Alert-DWhvnbrk.js";import{r,l as x,f as A,N as m,P as p,u as _,o as n,a1 as i,c as f,x as C,R as H,b as l,Q as v,F as B}from"./app-vue-Chj5ZsMy.js";import"./app-icons-DRCsUfN5.js";import"./app-lodash-Cpj98o6Y.js";import"./app-SocialView-B3NNHe5C.js";import"./app-LinksHelper-CkUh4jxH.js";import"./app-Internships-B7scWU79.js";const M="?withoutEnlargement=true&quality=98&fit=cover&width=300&format=png",P=h.BASEURL+"items/Edu?fields=*,social.*,owner.username,people.User_Role_id.role,people.User_Role_id.user_id.username&filter[slug][_eq]=";async function S(u){const d=P+u,s=await fetch(d),e=await s.json();if(s.ok){if(e.data.length==0)throw"Can't find a profile for this Educational Institution";const t={...e.data[0]};return t.people=t.people.filter(o=>o.User_Role_id.user_id!==null),t.people=t.people.map(o=>({role:o.User_Role_id.role,username:o.User_Role_id.user_id.username,link:"/people/"+o.User_Role_id.user_id.username})),t.logo=t?.logo?w(t.logo)+M:null,t}else throw new Error("Can't load Profile")}const V={key:1},I={class:"row"},L={class:"col-12 col-md-6 col-lg-4 mb-sm-2"},T={class:"col-12 col-md-6 col-lg-8 mt-md-0 pt-md-0 profileContent"},j=["innerHTML"],O={__name:"EduView",setup(u){const s=g().params?.slug,e=r(null),t=r(!1),o=r(null);return x(async()=>{window.scrollTo({top:0,left:0,behavior:"smooth"});try{t.value=!0,o.value=null,e.value=await S(s),document.title="Profile: "+e.value.name,e.value.description=b(e.value.description)}catch(a){console.log(a),o.value="Something went wrong or maybe an Institutional Institution is simply not yet confirmed."}finally{t.value=!1}}),A(()=>{let a=null;return e.value.social?.website&&e.value.social.website!==""&&(a={name:k(e.value.social.website),link:y(e.value.social.website)}),a}),(a,c)=>(n(),m(_(R),{show:t.value},{default:p(()=>[o.value?(n(),m(_(N),{key:0,title:"Hoppala",type:"warning"},{default:p(()=>[C(H(o.value),1)]),_:1})):i("",!0),e.value?(n(),f("div",V,[l("div",I,[l("div",L,[v(E,{data:e.value},null,8,["data"])]),l("div",T,[e.value.description?(n(),f(B,{key:0},[c[0]||(c[0]=l("div",{class:"border-top d-flex d-md-none mt-2 mb-4"},null,-1)),l("p",{innerHTML:e.value.description},null,8,j)],64)):i("",!0),v(U,{class:"maintained mt-4 pt-3 border-top d-block d-md-none",data:e.value.owner},null,8,["data"])])])])):i("",!0)]),_:1},8,["show"]))}};export{O as default};
