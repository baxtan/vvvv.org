import{C as s}from"./app-business-Dncwq2rW.js";import{d as i}from"./app-vendor-Cnr6Sbkk.js";const h=i("forHireList",{state:()=>({items:[],total:0,fetched:!1}),actions:{async fetch(r=!1){if(!(this.fetched&&!r))try{const{items:e,total:a}=await l();this.items=e,this.total=a,this.fetched=!0}catch{this.fetched=!1}}}}),n=s.GET_USERS+`?fields=*,related.social.contact,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value
&filter[related][hire][available][_eq]=true&sort=username&meta=filter_count`;async function l(){const r=await fetch(n),e=await r.json();if(r.ok)return{items:e.data.map(t=>{const o=[t.name,t.surname].filter(Boolean).join(" ");return{username:t.username,name:o??null,contact:t.related[0].social??null,location:{city:t.location_city,country:t.location_country},hire:t.related[0].hire??null}}),total:e.meta?.filter_count??0};throw Error("Connection Error")}export{h as u};
