import{ac as p,ad as _,as as h,r as m,ar as v,aB as w,am as y,ah as g,ai as s,aJ as k,af as n,ae as u,an as d,au as l,ag as f}from"./app.js";import{_ as B,a as b}from"./app-InstitutionBasics-BmUmzrbB.js";import"./app-SocialView-TC0-A7rk.js";import"./app-LocationOutline-BOhip31t.js";import"./app-Internships-uRuhFmNz.js";import"./app-CheckmarkCircle-C6fpvPTS.js";const C="?withoutEnlargement=true&quality=90&fit=cover&width=150",A=_.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function E(r){const i=A+r,o=await fetch(i);if(o.ok){const e=await o.json();if(e.data.length==0)throw"Can't find a profile for this company";const a={...e.data[0]};return a.logo=a?.logo?p(a.logo)+C:null,a}else throw new Error("Can't load Profile")}const M={key:0},L={class:"row"},N={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},P={key:0,class:"col-12 col-md-6 col-lg-8 mt-3 mt-md-0 profileContent"},R=["innerHTML"],q={__name:"BusinessView",setup(r){const o=h().params?.name??"vvvv",e=m(null),a=m(!1);let t;return v(async()=>{window.scrollTo({top:0,left:0,behavior:"smooth"});try{a.value=!0,e.value=await E(o),document.title="Profile: "+e.value.name,t=w(e.value.description)}catch(c){console.log(c),error.value="Something went wrong or maybe a business you are looking for is simply not yet confirmed."}finally{a.value=!1}}),(c,S)=>(n(),y(s(k),{show:a.value},{default:g(()=>[e.value?(n(),u("div",M,[l("div",L,[l("div",N,[f(B,{class:"mb-3",data:e.value},null,8,["data"])]),s(t)?(n(),u("div",P,[l("p",{innerHTML:s(t)},null,8,R),f(b,{class:"maintained mt-4 pt-3 border-top d-block d-md-none",data:e.value.owner},null,8,["data"])])):d("",!0)])])):d("",!0)]),_:1},8,["show"]))}};export{q as default};
