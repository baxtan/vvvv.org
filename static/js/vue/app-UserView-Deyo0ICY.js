import{aB as X,d as K,Y as Z,h as q,aC as ee,u as te,y as Y,z as ae,e as h,A as le,aD as se,W as D,ah as i,ai as n,aE as ne,aF as H,af as I,ar as c,ay as a,O as z,aG as b,aj as g,ak as y,aH as re,aq as F,al as v,aI as oe,aA as M,aJ as ie,aK as ce,aw as ue,r as j,ag as R,av as de,aL as me,aM as ve,aN as pe,ax as fe,am as ge,an as he,aO as W,ao as J,aP as ye}from"./app.js";import{g as be}from"./app-get-slot-Bk_rJcZu.js";import{_ as _e}from"./app-SocialView-D0fDWkCF.js";import{_ as we}from"./app-Location-Oowz5cVb.js";import"./app-LocationOutline-DpPS-T59.js";const ke={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"};function xe(){return ke}const $e={self:xe};let U;function Ce(){if(!X)return!0;if(U===void 0){const e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);const s=e.scrollHeight===1;return document.body.removeChild(e),U=s}return U}const Se=Object.assign(Object.assign({},Y.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemClass:String,itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),je=K({name:"Space",props:Se,setup(e){const{mergedClsPrefixRef:s,mergedRtlRef:l}=te(e),t=Y("Space","-space",void 0,$e,e,s),o=ae("Space",l,s);return{useGap:Ce(),rtlEnabled:o,mergedClsPrefix:s,margin:h(()=>{const{size:u}=e;if(Array.isArray(u))return{horizontal:u[0],vertical:u[1]};if(typeof u=="number")return{horizontal:u,vertical:u};const{self:{[le("gap",u)]:_}}=t.value,{row:m,col:w}=se(_);return{horizontal:D(w),vertical:D(m)}})}},render(){const{vertical:e,reverse:s,align:l,inline:t,justify:o,itemClass:u,itemStyle:_,margin:m,wrap:w,mergedClsPrefix:k,rtlEnabled:L,useGap:x,wrapItem:N,internalUseGap:P}=this,$=Z(be(this),!1);if(!$.length)return null;const T=`${m.horizontal}px`,B=`${m.horizontal/2}px`,E=`${m.vertical}px`,p=`${m.vertical/2}px`,C=$.length-1,S=o.startsWith("space-");return q("div",{role:"none",class:[`${k}-space`,L&&`${k}-space--rtl`],style:{display:t?"inline-flex":"flex",flexDirection:e&&!s?"column":e&&s?"column-reverse":!e&&s?"row-reverse":"row",justifyContent:["start","end"].includes(o)?`flex-${o}`:o,flexWrap:!w||e?"nowrap":"wrap",marginTop:x||e?"":`-${p}`,marginBottom:x||e?"":`-${p}`,alignItems:l,gap:x?`${m.vertical}px ${m.horizontal}px`:""}},!N&&(x||P)?$:$.map((O,r)=>O.type===ee?O:q("div",{role:"none",class:u,style:[_,{maxWidth:"100%"},x?"":e?{marginBottom:r!==C?E:""}:L?{marginLeft:S?o==="space-between"&&r===C?"":B:r!==C?T:"",marginRight:S?o==="space-between"&&r===0?"":B:"",paddingTop:p,paddingBottom:p}:{marginRight:S?o==="space-between"&&r===C?"":B:r!==C?T:"",marginLeft:S?o==="space-between"&&r===0?"":B:"",paddingTop:p,paddingBottom:p}]},O)))}}),Me={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Be=K({name:"CalendarOutline",render:function(s,l){return n(),i("svg",Me,l[0]||(l[0]=[ne('<rect fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" x="48" y="80" width="416" height="384" rx="48"></rect><circle cx="296" cy="232" r="24" fill="currentColor"></circle><circle cx="376" cy="232" r="24" fill="currentColor"></circle><circle cx="296" cy="312" r="24" fill="currentColor"></circle><circle cx="376" cy="312" r="24" fill="currentColor"></circle><circle cx="136" cy="312" r="24" fill="currentColor"></circle><circle cx="216" cy="312" r="24" fill="currentColor"></circle><circle cx="136" cy="392" r="24" fill="currentColor"></circle><circle cx="216" cy="392" r="24" fill="currentColor"></circle><circle cx="296" cy="392" r="24" fill="currentColor"></circle><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" stroke-linecap="round" d="M128 48v32"></path><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" stroke-linecap="round" d="M384 48v32"></path><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" d="M464 160H48"></path>',13)]))}}),Fe={class:"card-body"},Le=["src"],Oe=["innerHTML"],Te={class:"row"},Ee={key:0,class:"col-12 col-lg-6"},Re={class:"pr-lg-2"},He=["innerHTML"],ze={key:1,class:"col-12 col-lg-6"},Ne={class:"pl-lg-2"},Pe=["innerHTML"],Ae={class:"card-text"},Ge="?withoutEnlargement=true&quality=90&fit=cover&width=720",Ue={__name:"HireView",props:{data:Object,contact:String},setup(e){const s=h(()=>e.data?{description:H(e.data.description),contact:e.data.contact,skills_vvvv:H(e.data.skills_vvvv),skills_other:H(e.data.skills_other),image:e.data.image?I(e.data.image)+Ge:null,availableFor:e.data.availableFor?e.data.availableFor.map(l=>l.AvailableFor_Options_id?l.AvailableFor_Options_id.value:""):[]}:{});return(l,t)=>(n(),i("div",Fe,[s.value.image?(n(),i("img",{key:0,src:s.value.image,class:"img-fluid pt-2 mb-4"},null,8,Le)):c("",!0),s.value.description?(n(),i("p",{key:1,class:"card-text",innerHTML:s.value.description},null,8,Oe)):c("",!0),a("div",Te,[s.value.skills_vvvv?(n(),i("div",Ee,[a("div",Re,[t[0]||(t[0]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"vvvv skills")],-1)),a("p",{class:"card-text",innerHTML:s.value.skills_vvvv},null,8,He)])])):c("",!0),s.value.skills_other?(n(),i("div",ze,[a("div",Ne,[t[1]||(t[1]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"other skills")],-1)),a("p",{class:"card-text",innerHTML:s.value.skills_other},null,8,Pe)])])):c("",!0)]),s.value.contact?(n(),i(z,{key:2},[t[2]||(t[2]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"contact")],-1)),a("p",Ae,b(s.value.contact),1)],64)):c("",!0),s.value.availableFor.length>0?(n(),i(z,{key:3},[t[3]||(t[3]=a("p",{class:"py-0 mb-2 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"Available for")],-1)),g(v(je),null,{default:y(()=>[(n(!0),i(z,null,re(s.value.availableFor,o=>(n(),F(v(oe),{class:"mr-2",bordered:!1},{default:y(()=>[M(b(o),1)]),_:2},1024))),256))]),_:1})],64)):c("",!0)]))}},Ve={class:"joined border-top pt-3"},Ie={key:0},qe={key:1},De={__name:"BetaGammaUser",props:["data"],setup(e){return(s,l)=>(n(),i("div",Ve,[l[2]||(l[2]=a("p",{class:"joined mb-2"},"Using:",-1)),e.data.beta?(n(),i("div",Ie,[l[0]||(l[0]=M("vvvv beta since ")),a("b",null,b(e.data.beta),1)])):c("",!0),e.data.gamma?(n(),i("div",qe,[l[1]||(l[1]=M("vvvv gamma since ")),a("b",null,b(e.data.gamma),1)])):c("",!0)]))}},We=["href"],Je={class:"mb-1 d-flex text-align-center"},Ke=["href"],Ye={class:"mb-1"},Qe={__name:"Maintains",props:["data"],setup(e){return(s,l)=>(n(),i("div",null,[l[2]||(l[2]=a("div",{class:"mb-2"},"Maintains:",-1)),e.data.company?(n(),i("a",{key:0,href:"/business/"+e.data.company.name,onClick:l[0]||(l[0]=t=>v(ie)(e.data.company.name,t))},[a("div",Je,b(e.data.company.name),1)],8,We)):c("",!0),e.data.edu?(n(),i("a",{key:1,href:"/edu/"+e.data.edu.name,onClick:l[1]||(l[1]=t=>v(ce)(e.data.edu.name,t))},[a("p",Ye,b(e.data.edu.name),1)],8,Ke)):c("",!0)]))}},Xe={key:0,class:"userView"},Ze={class:"row"},et={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},tt={class:"my-3"},at=["href"],lt={key:0,class:"text-muted mb-1"},st={class:"joined mb-2"},nt={class:"col-12 mt-3 mt-md-0 pt-md-0 col-md-6 col-lg-8 profileContent"},rt={class:"mb-4 description"},ot=["innerHTML"],it={key:1},ct={key:0,class:"card"},V=120,ft={__name:"UserView",setup(e){const s=ue();fe();const l=s.params.username,t=j(null),o=j(null),u=j(null),_=j(null),m=j(!1),w=j(null),k=j({}),L=`?withoutEnlargement=true&quality=90&fit=cover&width=${V}&height=${V}`,x=`${R.GET_USERS}?filter[username][_eq]=${l}
            &fields=*,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value,related.social.*`,N=`${R.GET_COMPANIES}?filter[owner][username][_eq]=${l}&fields=name`,P=`${R.GET_EDUS}?filter[owner][username][_eq]=${l}&fields=name`;de(async()=>{m.value=!0,window.scrollTo({top:0,left:0,behavior:"smooth"});try{let r=await fetch(x),d=await r.json();if(!r.ok||d.data?.length==0)throw"Can't find a profile for this user";const f=d.data[0];document.title="Profile: "+f.username,t.value=f,_.value=t.value.userpic?`${I(t.value.userpic)}${L}`:null,o.value=f.related[0]?.hire,u.value=f.related[0]?.social,w.value=H(t.value.description);const Q=[$(N),$(P)],[A,G]=await Promise.allSettled(Q);A.status==="fulfilled"&&A.value&&(k.value.company=A.value),G.status==="fulfilled"&&G.value&&(k.value.edu=G.value)}catch(r){console.error(r)}finally{m.value=!1}});async function $(r){const d=await fetch(r),f=await d.json();return d.ok&&f.data?.length>0?{name:f.data[0].name,logo:f.data[0].logo?`${I(f.data[0].logo)}${L}`:null}:null}const T={year:"numeric",month:"short",day:"numeric"},B=h(()=>new Date(t.value.date_created).toLocaleString("en-US",T)),E=h(()=>({city:t.value.location_city,country:t.value.location_country})),p=h(()=>{const r=[t.value.name,t.value.surname].filter(Boolean).join(" ");return r||null}),C=h(()=>`${R.FORUM}u/${t.value.username}/summary`),S=h(()=>{const r={beta:t.value.beta_since,gamma:t.value.gamma_since};return r.beta||r.gamma?r:null});h(()=>{let r=null;return u.value?.website&&u.value.website!==""&&(r={name:ve(u.value.website),link:me(u.value.website)}),r});const O=h(()=>o.value.skills_other||o.value.skills_vvvv||o.value.contact||o.value.availableFor&&o.value.availableFor.length>0||o.value.description||o.value.image);return(r,d)=>(n(),F(v(pe),{show:m.value},{default:y(()=>[t.value?(n(),i("div",Xe,[a("div",Ze,[a("div",et,[g(v(ge),{objectFit:"contain",round:"",size:V,src:_.value,class:he({noImageBack:_.value!==null})},null,8,["src","class"]),a("div",tt,[a("h5",null,[M(b(t.value.username)+" ",1),a("a",{href:C.value,target:"_blank",class:"pl-2",alt:"Forum Profile"},[g(v(W),{trigger:"hover"},{trigger:y(()=>[g(v(J),null,{default:y(()=>[g(v(ye))]),_:1})]),default:y(()=>[d[0]||(d[0]=M(" Open Forum Profile "))]),_:1})],8,at)]),p.value?(n(),i("p",lt,b(p.value),1)):c("",!0)]),a("div",st,[g(v(W),{trigger:"hover"},{trigger:y(()=>[g(v(J),{size:"1.2rem",class:"mr-2"},{default:y(()=>[g(v(Be))]),_:1})]),default:y(()=>[d[1]||(d[1]=M(" Joined "))]),_:1}),M(" "+b(B.value),1)]),E.value?(n(),F(we,{key:0,location:E.value,class:"pb-2"},null,8,["location"])):c("",!0),Object.keys(k.value).length>0?(n(),F(Qe,{key:1,data:k.value,class:"border-top py-3 mt-4"},null,8,["data"])):c("",!0),u.value?(n(),F(_e,{key:2,class:"my-1 py-2 border-top",social:u.value},null,8,["social"])):c("",!0),S.value?(n(),F(De,{key:3,data:S.value},null,8,["data"])):c("",!0)]),a("div",nt,[w.value?(n(),i(z,{key:0},[d[2]||(d[2]=a("hr",{class:"d-block d-md-none"},null,-1)),a("div",rt,[a("p",{innerHTML:w.value},null,8,ot)])],64)):c("",!0),o.value&&o.value.available?(n(),i("div",it,[d[3]||(d[3]=a("h4",{class:"h4"},"Available for hire",-1)),O.value?(n(),i("div",ct,[g(Ue,{data:o.value},null,8,["data"])])):c("",!0)])):c("",!0)])])])):c("",!0)]),_:1},8,["show"]))}};export{ft as default};
