import{ae as k,af as E,aw as x,r as f,ao as N,at as A,b as C,ax as H,ay as I,ap as v,aj as _,ai as n,az as M,ac as s,aq as o,ab as i,ak as g,as as d,ad as a,ag as p,an as B,aE as P,am as S}from"./app.js";import{_ as V}from"./SocialView.js";import{_ as L}from"./LocationFull.js";import{N as R}from"./Alert.js";import"./LocationOutline.js";const T="?withoutEnlargement=true&quality=90&fit=cover&width=120",U=E.BASEURL+"items/Edu?fields=*,social.*,owner.username&filter[name][_eq]=";async function j(h){const w=U+h,r=await fetch(w),e=await r.json();if(r.ok){if(e.data.length==0)throw"Can't find a profile for this Educational Institution";const t={...e.data[0]};return t.logo=t?.logo?k(t.logo)+T:null,t}else throw new Error("Can't load Profile")}const q={key:1},z={class:"row"},$={class:"col-12 col-md-6 col-lg-4 text-center mb-sm-4"},D={class:"text-center mb-3"},G=["src"],K={class:"my-3"},F={class:"my-3"},J=["href"],O={key:1,class:"maintained mt-4 pt-3 border-top"},Q=["href"],W={key:0,class:"col-12 col-md-6 col-lg-8"},X=["innerHTML"],se={__name:"EduView",setup(h){const r=x().params.name,e=f(null),t=f(!1),u=f(null),y=["website","github","nuget","mastodon","pixelfed"];N(async()=>{try{t.value=!0,u.value=null,e.value=await j(r),e.value.description=A(e.value.description)}catch(l){console.log(l),u.value="Something went wrong. Maybe an Institutional Institution is simply not yet confirmed."}finally{t.value=!1}});const m=C(()=>{let l=null;return e.value.social?.website&&e.value.social.website!==""&&(l={name:I(e.value.social.website),link:H(e.value.social.website)}),l});return(l,c)=>(s(),v(n(M),{show:t.value},{default:_(()=>[u.value?(s(),v(n(R),{key:0,title:"Hoppala",type:"warning"},{default:_(()=>[g(d(u.value),1)]),_:1})):o("",!0),e.value?(s(),i("div",q,[a("div",z,[a("div",$,[a("div",D,[e.value.logo?(s(),i("img",{key:0,src:e.value.logo,alt:"logo",class:"img-fluid"},null,8,G)):o("",!0),a("div",K,[a("h5",null,d(e.value.name),1)]),p(L,{data:e.value},null,8,["data"]),a("div",F,[m.value?(s(),i("a",{key:0,href:m.value.link,target:"_blank"},d(m.value.name),9,J)):o("",!0)]),e.value.owner?(s(),i("div",O,[c[1]||(c[1]=g(" This page is maintained by: ")),a("div",null,[p(n(B),{size:"20",class:"mr-2"},{default:_(()=>[p(n(P))]),_:1}),a("a",{href:"/user/"+e.value.owner.username,onClick:c[0]||(c[0]=b=>n(S)(e.value.owner.username,b))},d(e.value.owner.username),9,Q)])])):o("",!0),e.value.social?(s(),v(V,{key:2,class:"text-left mt-4 mb-4 pt-3 border-top",social:e.value.social,order:y},null,8,["social"])):o("",!0)])]),e.value.description?(s(),i("div",W,[a("p",{innerHTML:e.value.description},null,8,X)])):o("",!0)])])):o("",!0)]),_:1},8,["show"]))}};export{se as default};
