import{af as g,ag as y,ay as b,r as u,ao as k,av as x,b as E,az as A,aA as N,ah as d,ai as v,ak as p,aB as B,ac as a,an as o,ab as r,as as H,au as m,ad as s,aj as h}from"./app.js";import{_ as M}from"./SocialView.js";import{_ as C,a as S}from"./MaintainedBy.js";import{N as V}from"./Alert.js";import"./LocationOutline.js";const I="?withoutEnlargement=true&quality=90&fit=cover&width=120",L=y.BASEURL+"items/Edu?fields=*,social.*,owner.username&filter[name][_eq]=";async function R(_){const f=L+_,n=await fetch(f),e=await n.json();if(n.ok){if(e.data.length==0)throw"Can't find a profile for this Educational Institution";const t={...e.data[0]};return t.logo=t?.logo?g(t.logo)+I:null,t}else throw new Error("Can't load Profile")}const j={key:1},P={class:"row"},T={class:"col-12 col-md-6 col-lg-4 text-center mb-sm-4"},U={class:"text-center mb-3"},$=["src"],q={class:"my-3"},z={class:"my-3"},D=["href"],G={key:0,class:"col-12 col-md-6 col-lg-8"},K=["innerHTML"],Y={__name:"EduView",setup(_){const n=b().params.name,e=u(null),t=u(!1),i=u(null),w=["website","github","nuget","mastodon","pixelfed"];k(async()=>{try{t.value=!0,i.value=null,e.value=await R(n),e.value.description=x(e.value.description)}catch(l){console.log(l),i.value="Something went wrong. Maybe an Institutional Institution is simply not yet confirmed."}finally{t.value=!1}});const c=E(()=>{let l=null;return e.value.social?.website&&e.value.social.website!==""&&(l={name:N(e.value.social.website),link:A(e.value.social.website)}),l});return(l,F)=>(a(),d(p(B),{show:t.value},{default:v(()=>[i.value?(a(),d(p(V),{key:0,title:"Hoppala",type:"warning"},{default:v(()=>[H(m(i.value),1)]),_:1})):o("",!0),e.value?(a(),r("div",j,[s("div",P,[s("div",T,[s("div",U,[e.value.logo?(a(),r("img",{key:0,src:e.value.logo,alt:"logo",class:"img-fluid"},null,8,$)):o("",!0),s("div",q,[s("h5",null,m(e.value.name),1)]),h(C,{data:e.value},null,8,["data"]),s("div",z,[c.value?(a(),r("a",{key:0,href:c.value.link,target:"_blank"},m(c.value.name),9,D)):o("",!0)]),e.value.social?(a(),d(M,{key:1,class:"text-left mt-4 mb-4 pt-3 border-top",social:e.value.social,order:w},null,8,["social"])):o("",!0),h(S,{class:"text-left maintained mt-4 pt-3",data:e.value.owner},null,8,["data"])])]),e.value.description?(a(),r("div",G,[s("p",{innerHTML:e.value.description},null,8,K)])):o("",!0)])])):o("",!0)]),_:1},8,["show"]))}};export{Y as default};
