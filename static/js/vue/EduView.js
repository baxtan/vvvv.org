import{ae as k,af as E,aw as x,r as f,ao as N,at as C,b as A,aC as H,aD as I,ap as v,aj as _,ai as n,ax as M,ac as s,aq as o,ab as c,ak as g,as as d,ad as a,ag as p,an as B,aE as P,am as S}from"./app.js";import{_ as V}from"./SocialView.js";import{_ as L}from"./LocationFull.js";import{N as R}from"./Alert.js";import"./LocationOutline.js";const T="?withoutEnlargement=true&quality=90&fit=cover&width=120",U=E.BASEURL+"items/Edu?fields=*,social.*,owner.username&filter[name][_eq]=";async function j(h){const w=U+h,i=await fetch(w),e=await i.json();if(i.ok){if(e.data.length==0)throw"Can't find a profile for this Educational Institution";const t={...e.data[0]};return t.logo=t?.logo?k(t.logo)+T:null,t}else throw new Error("Can't load Profile")}const q={key:1},D={class:"row"},$={class:"col-12 col-md-6 col-lg-4 text-center mb-sm-4"},z={class:"text-center mb-3"},G=["src"],K={class:"my-3"},F=["href"],J={key:2,class:"maintained mt-4 pt-3 border-top"},O=["href"],Q={class:"col-12 col-md-6 col-lg-8"},W=["innerHTML"],te={__name:"EduView",setup(h){const i=x().params.name,e=f(null),t=f(!1),r=f(null),y=["website","github","nuget","mastodon","pixelfed"];N(async()=>{try{t.value=!0,r.value=null,e.value=await j(i),e.value.description=C(e.value.description)}catch(l){console.log(l),r.value="Something went wrong. Maybe an Institutional Institution is simply not yet confirmed."}finally{t.value=!1}});const m=A(()=>{let l=null;return e.value.social&&e.value.social?.website!==""&&(l={name:I(e.value.social.website),link:H(e.value.social.website)}),l});return(l,u)=>(s(),v(n(M),{show:t.value},{default:_(()=>[r.value?(s(),v(n(R),{key:0,title:"Hoppala",type:"warning"},{default:_(()=>[g(d(r.value),1)]),_:1})):o("",!0),e.value?(s(),c("div",q,[a("div",D,[a("div",$,[a("div",z,[e.value.logo?(s(),c("img",{key:0,src:e.value.logo,alt:"logo",class:"img-fluid"},null,8,G)):o("",!0),a("div",K,[a("h5",null,d(e.value.name),1)]),p(L,{data:e.value},null,8,["data"]),m.value?(s(),c("a",{key:1,href:m.value.link},d(m.value.name),9,F)):o("",!0),e.value.owner?(s(),c("div",J,[u[1]||(u[1]=g(" This page is maintained by: ")),a("div",null,[p(n(B),{size:"20",class:"mr-2"},{default:_(()=>[p(n(P))]),_:1}),a("a",{href:"/user/"+e.value.owner.username,onClick:u[0]||(u[0]=b=>n(S)(e.value.owner.username,b))},d(e.value.owner.username),9,O)])])):o("",!0),e.value.social?(s(),v(V,{key:3,class:"text-left mt-4 mb-4 pt-3 border-top",social:e.value.social,order:y},null,8,["social"])):o("",!0)])]),a("div",Q,[a("p",{innerHTML:e.value.description},null,8,W)])])])):o("",!0)]),_:1},8,["show"]))}};export{te as default};
