import{af as w,ag as g,aq as y,r,aw as b,az as k,b as E,aE as x,aF as N,ah as c,ai as f,ak as _,aG as A,ac as t,an as l,ab as u,au as H,ay as p,ad as s,aj as v}from"./app.js";import{_ as M}from"./SocialView.js";import{_ as B,a as C}from"./LocationFull.js";import{N as S}from"./Alert.js";import"./LocationOutline.js";const V="?withoutEnlargement=true&quality=90&fit=cover&width=120",I=g.BASEURL+"items/Edu?fields=*,social.*,owner.username&filter[name][_eq]=";async function L(d){const m=I+d,n=await fetch(m),e=await n.json();if(n.ok){if(e.data.length==0)throw"Can't find a profile for this Educational Institution";const a={...e.data[0]};return a.logo=a?.logo?w(a.logo)+V:null,a}else throw new Error("Can't load Profile")}const R={key:1},j={class:"row"},q={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},P={class:"mb-3"},T=["src"],U={class:"my-3"},$={key:0,class:"col-12 col-md-6 col-lg-8"},G=["innerHTML"],Q={__name:"EduView",setup(d){const n=y().params.name,e=r(null),a=r(!1),i=r(null),h=["website","github","nuget","mastodon","pixelfed"];return b(async()=>{try{a.value=!0,i.value=null,e.value=await L(n),e.value.description=k(e.value.description)}catch(o){console.log(o),i.value="Something went wrong. Maybe an Institutional Institution is simply not yet confirmed."}finally{a.value=!1}}),E(()=>{let o=null;return e.value.social?.website&&e.value.social.website!==""&&(o={name:N(e.value.social.website),link:x(e.value.social.website)}),o}),(o,z)=>(t(),c(_(A),{show:a.value},{default:f(()=>[i.value?(t(),c(_(S),{key:0,title:"Hoppala",type:"warning"},{default:f(()=>[H(p(i.value),1)]),_:1})):l("",!0),e.value?(t(),u("div",R,[s("div",j,[s("div",q,[s("div",P,[e.value.logo?(t(),u("img",{key:0,src:e.value.logo,alt:"logo",class:"img-fluid"},null,8,T)):l("",!0),s("div",U,[s("h5",null,p(e.value.name),1)]),v(B,{data:e.value},null,8,["data"]),e.value.social?(t(),c(M,{key:1,class:"text-left mt-4 mb-4 pt-3 border-top",social:e.value.social,order:h},null,8,["social"])):l("",!0),v(C,{class:"text-left maintained mt-4 pt-3",data:e.value.owner},null,8,["data"])])]),e.value.description?(t(),u("div",$,[s("p",{innerHTML:e.value.description},null,8,G)])):l("",!0)])])):l("",!0)]),_:1},8,["show"]))}};export{Q as default};
