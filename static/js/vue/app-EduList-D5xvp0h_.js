import{ac as p,H as h,r as v,O as w,d as E,a3 as u,a as S,f as k,b as a,s as C,o as c,h as r,K as d,g as n,t as f,F as L,l as N,aa as B,j as T,ab as V}from"./app-profile-DxpktdD5.js";import{_ as $}from"./app-Location-DA6Md2aj.js";const b=p("eduList",{state:()=>({items:[],total:null,fetched:!1}),actions:{async fetch(e=!1){if(!(this.fetched&&!e))try{const{items:t,total:o}=await x();this.items=t,this.total=o,this.fetched=!0}catch{this.fetched=!1}}}}),j=h.GET_EDUS+"?fields=*&sort=name&meta=filter_count",q="withoutEnlargement=true&fit=inside&height=50&quality=90&format=auto";async function x(){const e=await fetch(j);if(e.ok){const t=await e.json(),o=t.data;return o.forEach(s=>{s.logo=G(s.logo)}),{items:o,total:t.meta?.filter_count??0}}else throw new Error("Connection Error")}function G(e){return e?`${h.ASSETS}${e}?${q}`:null}const O={key:0,class:"logoListView"},D={key:0},F={class:"row"},z=["onClick"],A={class:"company"},H={class:"logo"},I=["src"],K={class:"name"},M="col-12 col-sm-6 col-md-4 col-lg-3 my-2",Q={__name:"EduList",setup(e){const t=v(!0),o=E(),s=b();return w(async()=>{if(o.query.e){u(o.query.e);return}try{t.value=!0,await s.fetch()}catch(i){console.log(i)}finally{t.value=!1}}),(i,P)=>(c(),S(a(C),{show:t.value},{default:k(()=>[!t.value&&a(s)?(c(),r("div",O,[a(s).total>0?(c(),r("p",D,f(a(s).total)+" educational institutions teaching vvvv:",1)):d("",!0),n("div",F,[(c(!0),r(L,null,N(a(s).items,({name:l,description:R,logo:_,location_city:m,location_country:y})=>(c(),r("div",{"track-by":"name",class:B(M)},[n("div",{class:"companyCard p-3",onClick:g=>a(u)(l,g)},[n("div",A,[n("div",H,[n("img",{src:_||a(V)},null,8,I)]),n("p",K,f(l),1),T($,{location:{city:m,country:y}},null,8,["location"])])],8,z)]))),256))])])):d("",!0)]),_:1},8,["show"]))}};export{Q as default};
