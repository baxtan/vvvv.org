import{aa as le,O as se,u as ne,p as Y,q as oe,s as re,ab as ie,L as K,ac as H,a3 as D,ad as ue,ae as Z,af as ee,ag as W,a8 as de,a4 as O,ah as ce,ai as me,aj as ve,a9 as pe,a5 as fe,a6 as Q,ak as ge}from"./app.js";import{g as he}from"./app-get-slot-Bk_rJcZu.js";import{d as ye,h as X,C as _e,f as b,c as r,o as n,a1 as i,b as t,F as N,R as h,Q as y,P as g,S as ae,N as j,u as v,v as x,a2 as be,r as $,l as ke,a3 as we}from"./app-vue-BkvlpQbN.js";import{_ as $e}from"./app-SocialView-COOfLT-P.js";import{_ as xe}from"./app-Location-D5EmNHeL.js";import{f as Ce}from"./app-icons-DK9m1JXN.js";import"./app-lodash-Cpj98o6Y.js";import"./app-LinksHelper-CnJVBijP.js";const Ee={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"};function Se(){return Ee}const Fe={self:Se};let q;function Te(){if(!le)return!0;if(q===void 0){const e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);const o=e.scrollHeight===1;return document.body.removeChild(e),q=o}return q}const je=Object.assign(Object.assign({},Y.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemClass:String,itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),Le=ye({name:"Space",props:je,setup(e){const{mergedClsPrefixRef:o,mergedRtlRef:l}=ne(e),a=Y("Space","-space",void 0,Fe,e,o),s=oe("Space",l,o);return{useGap:Te(),rtlEnabled:s,mergedClsPrefix:o,margin:b(()=>{const{size:d}=e;if(Array.isArray(d))return{horizontal:d[0],vertical:d[1]};if(typeof d=="number")return{horizontal:d,vertical:d};const{self:{[re("gap",d)]:C}}=a.value,{row:p,col:E}=ie(C);return{horizontal:K(E),vertical:K(p)}})}},render(){const{vertical:e,reverse:o,align:l,inline:a,justify:s,itemClass:d,itemStyle:C,margin:p,wrap:E,mergedClsPrefix:S,rtlEnabled:L,useGap:k,wrapItem:U,internalUseGap:A}=this,R=se(he(this),!1);if(!R.length)return null;const P=`${p.horizontal}px`,B=`${p.horizontal/2}px`,z=`${p.vertical}px`,w=`${p.vertical/2}px`,F=R.length-1,T=s.startsWith("space-");return X("div",{role:"none",class:[`${S}-space`,L&&`${S}-space--rtl`],style:{display:a?"inline-flex":"flex",flexDirection:e&&!o?"column":e&&o?"column-reverse":!e&&o?"row-reverse":"row",justifyContent:["start","end"].includes(s)?`flex-${s}`:s,flexWrap:!E||e?"nowrap":"wrap",marginTop:k||e?"":`-${w}`,marginBottom:k||e?"":`-${w}`,alignItems:l,gap:k?`${p.vertical}px ${p.horizontal}px`:""}},!U&&(k||A)?R:R.map((M,_)=>M.type===_e?M:X("div",{role:"none",class:d,style:[C,{maxWidth:"100%"},k?"":e?{marginBottom:_!==F?z:""}:L?{marginLeft:T?s==="space-between"&&_===F?"":B:_!==F?P:"",marginRight:T?s==="space-between"&&_===0?"":B:"",paddingTop:w,paddingBottom:w}:{marginRight:T?s==="space-between"&&_===F?"":B:_!==F?P:"",marginLeft:T?s==="space-between"&&_===0?"":B:"",paddingTop:w,paddingBottom:w}]},M)))}}),Re={class:"card-body"},Be=["src"],Me=["innerHTML"],Oe={class:"row"},Pe={key:0,class:"col-12 col-lg-6"},ze={class:"pr-lg-2"},He=["innerHTML"],Ne={key:1,class:"col-12 col-lg-6"},Ue={class:"pl-lg-2"},Ae=["innerHTML"],Ge={class:"card-text"},Ve="?withoutEnlargement=true&quality=90&fit=cover&width=720",qe={__name:"HireView",props:{data:Object,contact:String},setup(e){const o=b(()=>e.data?{description:H(e.data.description),contact:e.data.contact,skills_vvvv:H(e.data.skills_vvvv),skills_other:H(e.data.skills_other),image:e.data.image?D(e.data.image)+Ve:null,availableFor:e.data.availableFor?e.data.availableFor.map(l=>l.AvailableFor_Options_id?l.AvailableFor_Options_id.value:""):[]}:{});return(l,a)=>(n(),r("div",Re,[o.value.image?(n(),r("img",{key:0,src:o.value.image,class:"img-fluid pt-2 mb-4"},null,8,Be)):i("",!0),o.value.description?(n(),r("p",{key:1,class:"card-text",innerHTML:o.value.description},null,8,Me)):i("",!0),t("div",Oe,[o.value.skills_vvvv?(n(),r("div",Pe,[t("div",ze,[a[0]||(a[0]=t("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[t("b",null,"vvvv skills")],-1)),t("p",{class:"card-text",innerHTML:o.value.skills_vvvv},null,8,He)])])):i("",!0),o.value.skills_other?(n(),r("div",Ne,[t("div",Ue,[a[1]||(a[1]=t("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[t("b",null,"other skills")],-1)),t("p",{class:"card-text",innerHTML:o.value.skills_other},null,8,Ae)])])):i("",!0)]),o.value.contact?(n(),r(N,{key:2},[a[2]||(a[2]=t("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[t("b",null,"contact")],-1)),t("p",Ge,h(o.value.contact),1)],64)):i("",!0),o.value.availableFor.length>0?(n(),r(N,{key:3},[a[3]||(a[3]=t("p",{class:"py-0 mb-2 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[t("b",null,"Available for")],-1)),y(v(Le),null,{default:g(()=>[(n(!0),r(N,null,ae(o.value.availableFor,s=>(n(),j(v(ue),{class:"mr-2",bordered:!1},{default:g(()=>[x(h(s),1)]),_:2},1024))),256))]),_:1})],64)):i("",!0)]))}},Ie={class:"joined border-top pt-3"},De={key:0},We={key:1},Je={__name:"BetaGammaUser",props:["data"],setup(e){return(o,l)=>(n(),r("div",Ie,[l[2]||(l[2]=t("p",{class:"joined mb-2"},"Using",-1)),e.data.beta?(n(),r("div",De,[l[0]||(l[0]=x("vvvv beta since ")),t("b",null,h(e.data.beta),1)])):i("",!0),e.data.gamma?(n(),r("div",We,[l[1]||(l[1]=x("vvvv gamma since ")),t("b",null,h(e.data.gamma),1)])):i("",!0)]))}},Ke=["href"],Qe={class:"mb-1 d-flex text-align-center"},Xe=["href"],Ye={class:"mb-1"},Ze={__name:"Maintains",props:["data"],setup(e){return(o,l)=>(n(),r("div",null,[l[2]||(l[2]=t("p",{class:"text-muted mb-1 border-top pt-3 smallTitle"},"Maintains",-1)),e.data.company?(n(),r("a",{key:0,href:"/business/"+e.data.company.slug,onClick:l[0]||(l[0]=a=>v(Z)(e.data.company.slug,a))},[t("div",Qe,h(e.data.company.name),1)],8,Ke)):i("",!0),e.data.edu?(n(),r("a",{key:1,href:"/edu/"+e.data.edu.slug,onClick:l[1]||(l[1]=a=>v(ee)(e.data.edu.slug,a))},[t("p",Ye,h(e.data.edu.name),1)],8,Xe)):i("",!0)]))}},ea={class:"mb-2"},aa=["href","onClick"],ta={__name:"AffiliatedWith",props:["data"],setup(e){function o(l){l.isEdu?ee(l.slug):Z(l.slug)}return(l,a)=>(n(),r("div",null,[a[0]||(a[0]=t("p",{class:"text-muted mb-1 border-top pt-3 smallTitle"},"Affiliated with",-1)),(n(!0),r(N,null,ae(e.data,s=>(n(),r("div",ea,[y(v(W),{trigger:"hover",disabled:!s.role,placement:"top-start"},{trigger:g(()=>[t("a",{href:s.link,onClick:be(d=>o(s),["prevent"])},h(s.name),9,aa)]),default:g(()=>[x(" "+h(s.role),1)]),_:2},1032,["disabled"])]))),256))]))}},la={key:0,class:"userView"},sa={class:"row"},na={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},oa={class:"my-3"},ra=["href"],ia={key:0,class:"text-muted mb-1"},ua={class:"joined mb-2"},da={class:"col-12 col-md-6 col-lg-8 mt-4 mt-md-0 pt-md-0 profileContent"},ca={key:0,class:"mb-4 description"},ma=["innerHTML"],va={key:1},pa={key:0,class:"card"},I=120,$a={__name:"UserView",setup(e){const o=de();pe();const l=o.params.username,a=$(null),s=$(null),d=$(null),C=$(null),p=$(!1),E=$(null),S=$({}),L=$([]),k=`?withoutEnlargement=true&quality=90&fit=cover&width=${I}&height=${I}`,U=`${O.GET_USERS}?filter[username][_eq]=${l}
            &fields=*,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value,related.social.*`,A=`${O.GET_COMPANIES}?filter[owner][username][_eq]=${l}&fields=name,slug`,R=`${O.GET_EDUS}?filter[owner][username][_eq]=${l}&fields=name,slug`,P=`${O.GET_USER_ROLES}?fields=Company.Company_id.name,Company.Company_id.slug,Edu.Edu_id.name,Edu.Edu_id.slug,role&filter[user_id][id][_eq]=`;ke(async()=>{p.value=!0,window.scrollTo({top:0,left:0,behavior:"smooth"});try{let u=await fetch(U),c=await u.json();if(!u.ok||c.data?.length==0)throw"Can't find a profile for this user";const m=c.data[0];document.title="Profile: "+m.username,a.value=m,C.value=a.value.userpic?`${D(a.value.userpic)}${k}`:null,s.value=m.related[0]?.hire,d.value=m.related[0]?.social,E.value=H(a.value.description);const f=[z(A),z(R)],[G,V]=await Promise.allSettled(f);G.status==="fulfilled"&&G.value&&(S.value.company=G.value),V.status==="fulfilled"&&V.value&&(S.value.edu=V.value),await B(P+a.value.id)}catch(u){console.error(u)}finally{p.value=!1}});async function B(u){const c=await fetch(u),m=await c.json();c.ok&&m.data?.length>0&&(L.value=m.data.map(f=>{if(f.Company[0])return{name:f.Company[0].Company_id.name,slug:f.Company[0].Company_id.slug,role:f.role,link:"/business/"+f.Company[0].Company_id.slug,isEdu:!1};if(f.Edu[0])return{name:f.Edu[0].Edu_id.name,slug:f.Edu[0].Edu_id.slug,role:f.role,link:"/edu/"+f.Edu[0].Edu_id.slug,isEdu:!0}}))}async function z(u){const c=await fetch(u),m=await c.json();return c.ok&&m.data?.length>0?{name:m.data[0].name,logo:m.data[0].logo?`${D(m.data[0].logo)}${k}`:null,slug:m.data[0].slug}:null}const w={year:"numeric",month:"short",day:"numeric"},F=b(()=>new Date(a.value.date_created).toLocaleString("en-US",w)),T=b(()=>({city:a.value.location_city,country:a.value.location_country})),M=b(()=>{const u=[a.value.name,a.value.surname].filter(Boolean).join(" ");return u||null}),_=b(()=>`${O.FORUM}u/${a.value.username}/summary`),J=b(()=>{const u={beta:a.value.beta_since,gamma:a.value.gamma_since};return u.beta||u.gamma?u:null});b(()=>{let u=null;return d.value?.website&&d.value.website!==""&&(u={name:me(d.value.website),link:ce(d.value.website)}),u});const te=b(()=>s.value.skills_other||s.value.skills_vvvv||s.value.contact||s.value.availableFor&&s.value.availableFor.length>0||s.value.description||s.value.image);return(u,c)=>(n(),j(v(ve),{show:p.value},{default:g(()=>[a.value?(n(),r("div",la,[t("div",sa,[t("div",na,[y(v(fe),{objectFit:"contain",round:"",size:I,src:C.value,class:we({noImageBack:C.value!==null})},null,8,["src","class"]),t("div",oa,[t("h5",null,[x(h(a.value.username)+" ",1),t("a",{href:_.value,target:"_blank",class:"pl-2",alt:"Forum Profile"},[y(v(W),{trigger:"hover"},{trigger:g(()=>[y(v(Q),null,{default:g(()=>[y(v(ge))]),_:1})]),default:g(()=>[c[0]||(c[0]=x(" Open Forum Profile "))]),_:1})],8,ra)]),M.value?(n(),r("p",ia,h(M.value),1)):i("",!0)]),t("div",ua,[y(v(W),{trigger:"hover"},{trigger:g(()=>[y(v(Q),{size:"1.2rem",class:"mr-2"},{default:g(()=>[y(v(Ce))]),_:1})]),default:g(()=>[c[1]||(c[1]=x(" Joined "))]),_:1}),x(" "+h(F.value),1)]),T.value?(n(),j(xe,{key:0,location:T.value,class:"pb-2"},null,8,["location"])):i("",!0),L.value.length>0?(n(),j(ta,{key:1,data:L.value,class:"mb-3"},null,8,["data"])):i("",!0),d.value?(n(),j($e,{key:2,class:"my-1 py-2 border-top",social:d.value},null,8,["social"])):i("",!0),Object.keys(S.value).length>0?(n(),j(Ze,{key:3,data:S.value,class:"mb-3"},null,8,["data"])):i("",!0),J.value?(n(),j(Je,{key:4,data:J.value},null,8,["data"])):i("",!0)]),t("div",da,[E.value?(n(),r("div",ca,[t("p",{innerHTML:E.value},null,8,ma)])):i("",!0),s.value&&s.value.available?(n(),r("div",va,[c[2]||(c[2]=t("h4",{class:"h4"},"Available for hire",-1)),te.value?(n(),r("div",pa,[y(qe,{data:s.value},null,8,["data"])])):i("",!0)])):i("",!0)])])])):i("",!0)]),_:1},8,["show"]))}};export{$a as default};
