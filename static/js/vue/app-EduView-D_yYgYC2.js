import{ac as v,ad as w,as as h,r as l,ar as g,aB as y,b,aH as k,aI as E,am as d,ah as m,ai as p,aJ as C,af as n,an as i,ae as f,aw as H,aC as N,au as r,ag as _}from"./app.js";import{_ as A,a as B}from"./app-InstitutionBasics-BmUmzrbB.js";import{N as I}from"./app-Alert-DhhkZTeX.js";import"./app-SocialView-TC0-A7rk.js";import"./app-LocationOutline-BOhip31t.js";import"./app-Internships-uRuhFmNz.js";import"./app-CheckmarkCircle-C6fpvPTS.js";const M="?withoutEnlargement=true&quality=90&fit=cover&width=150",S=w.BASEURL+"items/Edu?fields=*,social.*,owner.username&filter[name][_eq]=";async function V(c){const u=S+c,o=await fetch(u),e=await o.json();if(o.ok){if(e.data.length==0)throw"Can't find a profile for this Educational Institution";const a={...e.data[0]};return a.logo=a?.logo?v(a.logo)+M:null,a}else throw new Error("Can't load Profile")}const x={key:1},L={class:"row"},P={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},R={key:0,class:"col-12 col-md-6 col-lg-8 profileContent"},T=["innerHTML"],F={__name:"EduView",setup(c){const o=h().params.name,e=l(null),a=l(!1),s=l(null);return g(async()=>{window.scrollTo({top:0,left:0,behavior:"smooth"});try{a.value=!0,s.value=null,e.value=await V(o),document.title="Profile: "+e.value.name,e.value.description=y(e.value.description)}catch(t){console.log(t),s.value="Something went wrong or maybe an Institutional Institution is simply not yet confirmed."}finally{a.value=!1}}),b(()=>{let t=null;return e.value.social?.website&&e.value.social.website!==""&&(t={name:E(e.value.social.website),link:k(e.value.social.website)}),t}),(t,U)=>(n(),d(p(C),{show:a.value},{default:m(()=>[s.value?(n(),d(p(I),{key:0,title:"Hoppala",type:"warning"},{default:m(()=>[H(N(s.value),1)]),_:1})):i("",!0),e.value?(n(),f("div",x,[r("div",L,[r("div",P,[_(A,{class:"mb-3",data:e.value},null,8,["data"])]),e.value.description?(n(),f("div",R,[r("p",{innerHTML:e.value.description},null,8,T),_(B,{class:"maintained mt-4 pt-3 border-top d-block d-md-none",data:e.value.owner},null,8,["data"])])):i("",!0)])])):i("",!0)]),_:1},8,["show"]))}};export{F as default};
