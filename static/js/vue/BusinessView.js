import{af as b,ag as k,ax as x,r as p,ar as C,au as A,b as B,ay as N,az as E,ah as h,ai as w,ak as o,aA as H,ac as t,ab as n,an as l,ad as a,aj as m,at as _,ap as M,am as P,aF as V,aq as L}from"./app.js";import{_ as R}from"./SocialView.js";import{_ as S}from"./LocationFull.js";import"./LocationOutline.js";const T="?withoutEnlargement=true&quality=90&fit=cover&width=120",U=k.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function j(f){const v=U+f,i=await fetch(v);if(i.ok){const e=await i.json();if(e.data.length==0)throw"Can't find a profile for this company";const s={...e.data[0]};return s.logo=s?.logo?b(s.logo)+T:null,s}else throw new Error("Can't load Profile")}const q={key:0},I={class:"row"},z={class:"col-12 col-md-6 col-lg-4 text-center mb-sm-4"},$={class:"text-center mb-3"},D=["src"],F={class:"my-3"},G={class:"my-3"},K=["href"],J={key:1,class:"maintained mt-4 pt-3 border-top"},O=["href"],Q={key:0,class:"col-12 col-md-6 col-lg-8"},W=["innerHTML"],ae={__name:"BusinessView",setup(f){const i=x().params.name,e=p(null),s=p(!1);let c;const g=["website","github","nuget","mastodon","pixelfed"];C(async()=>{s.value=!0,e.value=await j(i),s.value=!1,c=A(e.value.description)});const u=B(()=>{let d=null;return e.value.social?.website&&e.value.social.website!==""&&(d={name:E(e.value.social.website),link:N(e.value.social.website)}),d});return(d,r)=>(t(),h(o(H),{show:s.value},{default:w(()=>[e.value?(t(),n("div",q,[a("div",I,[a("div",z,[a("div",$,[e.value.logo?(t(),n("img",{key:0,src:e.value.logo,alt:"logo",class:"img-fluid"},null,8,D)):l("",!0),a("div",F,[a("h5",null,_(e.value.name),1)]),m(S,{data:e.value},null,8,["data"]),a("div",G,[u.value?(t(),n("a",{key:0,href:u.value.link,target:"_blank"},_(u.value.name),9,K)):l("",!0)]),e.value.owner?(t(),n("div",J,[r[1]||(r[1]=M(" This page is maintained by: ")),a("div",null,[m(o(P),{size:"20",class:"mr-2"},{default:w(()=>[m(o(V))]),_:1}),a("a",{href:"/user/"+e.value.owner.username,onClick:r[0]||(r[0]=y=>o(L)(e.value.owner.username,y))},_(e.value.owner.username),9,O)])])):l("",!0),e.value.social?(t(),h(R,{key:2,class:"text-left mt-4 mb-4 pt-3 border-top",social:e.value.social,order:g},null,8,["social"])):l("",!0)])]),o(c)?(t(),n("div",Q,[a("p",{innerHTML:o(c)},null,8,W)])):l("",!0)])])):l("",!0)]),_:1},8,["show"]))}};export{ae as default};
