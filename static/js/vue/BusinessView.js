import{af as _,ag as h,ab as c,ac as s,ao as i,ad as n,ah as u,an as f,ay as g,ar as p,r as m,aw as w,az as y,ai as v,aj as d,aG as b}from"./app.js";import{_ as k,a as x}from"./LocationFull.js";import{_ as B}from"./SocialView.js";import"./LocationOutline.js";const C="?withoutEnlargement=true&quality=90&fit=cover&width=120",$=h.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function A(a){const l=$+a,o=await fetch(l);if(o.ok){const t=await o.json();if(t.data.length==0)throw"Can't find a profile for this company";const e={...t.data[0]};return e.logo=e?.logo?_(e.logo)+C:null,e}else throw new Error("Can't load Profile")}const E=["src"],M={class:"my-3"},L={__name:"InstitutionBasics",props:["data"],setup(a){const l=["website","github","nuget","mastodon","pixelfed"];return(o,t)=>(s(),c("div",null,[a.data.logo?(s(),c("img",{key:0,src:a.data.logo,alt:"logo",class:"img-fluid"},null,8,E)):i("",!0),n("div",M,[n("h5",null,g(a.data.name),1)]),u(k,{data:a.data},null,8,["data"]),a.data.social?(s(),f(B,{key:1,class:"text-left mt-4 mb-4 pt-3 border-top",social:a.data.social,order:l},null,8,["social"])):i("",!0),u(x,{class:"text-left maintained mt-4 pt-3 border-top",data:a.data.owner},null,8,["data"])]))}},N={key:0},R={class:"row"},S={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},V={key:0,class:"col-12 col-md-6 col-lg-8"},j=["innerHTML"],T={__name:"BusinessView",setup(a){const o=p().params.name,t=m(null),e=m(!1);let r;return w(async()=>{e.value=!0,t.value=await A(o),e.value=!1,r=y(t.value.description)}),(H,P)=>(s(),f(d(b),{show:e.value},{default:v(()=>[t.value?(s(),c("div",N,[n("div",R,[n("div",S,[u(L,{class:"mb-3",data:t.value},null,8,["data"])]),d(r)?(s(),c("div",V,[n("p",{innerHTML:d(r)},null,8,j)])):i("",!0)])])):i("",!0)]),_:1},8,["show"]))}};export{T as default};
