import{ae as k,af as b,aw as x,r as v,ao as C,at as B,b as E,ax as N,ay as A,ap as h,aj as w,ai as o,az as H,ac as t,ab as n,aq as l,ad as a,ag as m,as as _,ak as M,an as P,aE as V,am as L}from"./app.js";import{_ as R}from"./SocialView.js";import{_ as S}from"./LocationFull.js";import"./LocationOutline.js";const T="?withoutEnlargement=true&quality=90&fit=cover&width=120",U=b.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function j(f){const p=U+f,r=await fetch(p);if(r.ok){const e=await r.json();if(e.data.length==0)throw"Can't find a profile for this company";const s={...e.data[0]};return s.logo=s?.logo?k(s.logo)+T:null,s}else throw new Error("Can't load Profile")}const q={key:0},I={class:"row"},z={class:"col-12 col-md-6 col-lg-4 text-center mb-sm-4"},$={class:"text-center mb-3"},D=["src"],G={class:"my-3"},K={class:"my-3"},F=["href"],J={key:1,class:"maintained mt-4 pt-3 border-top"},O=["href"],Q={key:0,class:"col-12 col-md-6 col-lg-8"},W=["innerHTML"],ae={__name:"BusinessView",setup(f){const r=x().params.name,e=v(null),s=v(!1);let c;const g=["website","github","nuget","mastodon","pixelfed"];C(async()=>{s.value=!0,e.value=await j(r),s.value=!1,c=B(e.value.description)});const u=E(()=>{let d=null;return e.value.social?.website!==""&&(d={name:A(e.value.social.website),link:N(e.value.social.website)}),d});return(d,i)=>(t(),h(o(H),{show:s.value},{default:w(()=>[e.value?(t(),n("div",q,[a("div",I,[a("div",z,[a("div",$,[e.value.logo?(t(),n("img",{key:0,src:e.value.logo,alt:"logo",class:"img-fluid"},null,8,D)):l("",!0),a("div",G,[a("h5",null,_(e.value.name),1)]),m(S,{data:e.value},null,8,["data"]),a("div",K,[u.value?(t(),n("a",{key:0,href:u.value.link,target:"_blank"},_(u.value.name),9,F)):l("",!0)]),e.value.owner?(t(),n("div",J,[i[1]||(i[1]=M(" This page is maintained by: ")),a("div",null,[m(o(P),{size:"20",class:"mr-2"},{default:w(()=>[m(o(V))]),_:1}),a("a",{href:"/user/"+e.value.owner.username,onClick:i[0]||(i[0]=y=>o(L)(e.value.owner.username,y))},_(e.value.owner.username),9,O)])])):l("",!0),e.value.social?(t(),h(R,{key:2,class:"text-left mt-4 mb-4 pt-3 border-top",social:e.value.social,order:g},null,8,["social"])):l("",!0)])]),o(c)?(t(),n("div",Q,[a("p",{innerHTML:o(c)},null,8,W)])):l("",!0)])])):l("",!0)]),_:1},8,["show"]))}};export{ae as default};
