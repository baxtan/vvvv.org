import{af as h,ag as g,ab as c,ac as o,ao as i,ad as n,ah as u,an as _,ax as p,ar as y,r as f,aq as w,ay as v,ai as b,aj as d,aF as k}from"./app.js";import{_ as x,a as B}from"./LocationFull.js";import{_ as C}from"./SocialView.js";import"./LocationOutline.js";const $="?withoutEnlargement=true&quality=90&fit=cover&width=120",A=g.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function E(a){const l=A+a,s=await fetch(l);if(s.ok){const t=await s.json();if(t.data.length==0)throw"Can't find a profile for this company";const e={...t.data[0]};return e.logo=e?.logo?h(e.logo)+$:null,e}else throw new Error("Can't load Profile")}const M=["src"],L={class:"my-3"},N={__name:"InstitutionBasics",props:["data"],setup(a){const l=["website","github","nuget","mastodon","pixelfed"];return(s,t)=>(o(),c("div",null,[a.data.logo?(o(),c("img",{key:0,src:a.data.logo,alt:"logo",class:"img-fluid"},null,8,M)):i("",!0),n("div",L,[n("h5",null,p(a.data.name),1)]),u(x,{data:a.data},null,8,["data"]),a.data.social?(o(),_(C,{key:1,class:"text-left mt-4 mb-4 pt-3 border-top",social:a.data.social,order:l},null,8,["social"])):i("",!0),u(B,{class:"text-left maintained mt-4 pt-3 border-top",data:a.data.owner},null,8,["data"])]))}},P={key:0},R={class:"row"},S={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},V={key:0,class:"col-12 col-md-6 col-lg-8"},j=["innerHTML"],D={__name:"BusinessView",setup(a){const s=y().params.name,t=f(null),e=f(!1);let r;return w(async()=>{try{e.value=!0,t.value=await E(s),document.title="Profile: "+t.value.name,r=v(t.value.description)}catch(m){console.log(m)}finally{e.value=!1}}),(m,q)=>(o(),_(d(k),{show:e.value},{default:b(()=>[t.value?(o(),c("div",P,[n("div",R,[n("div",S,[u(N,{class:"mb-3",data:t.value},null,8,["data"])]),d(r)?(o(),c("div",V,[n("p",{innerHTML:d(r)},null,8,j)])):i("",!0)])])):i("",!0)]),_:1},8,["show"]))}};export{D as default};
