import{ac as y,ad as g,r as _,b as v,ae as l,an as u,af as s,as as c,M as f,az as w,ax as p,ag as d,am as h,aq as b,ap as k,ay as $,ah as x,ai as m,aF as B}from"./app.js";import{_ as C,a as j}from"./LocationFull.js";import{_ as A}from"./SocialView.js";import{_ as L}from"./Internships.js";import"./LocationOutline.js";import"./CheckmarkCircle.js";const M="?withoutEnlargement=true&quality=90&fit=cover&width=120",E=g.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function P(a){const o=E+a,n=await fetch(o);if(n.ok){const t=await n.json();if(t.data.length==0)throw"Can't find a profile for this company";const e={...t.data[0]};return e.logo=e?.logo?y(e.logo)+M:null,e}else throw new Error("Can't load Profile")}const N={key:0,class:"my-3 pt-2 border-top"},R={key:0,class:"mb-1"},S=["href"],V={__name:"Links",props:["data"],setup(a){const o=a,n=_([{name:"Contact",url:o.data.contact_url},{name:"Projects",url:o.data.projects_url},{name:"Jobs",url:o.data.jobs_url}]),t=v(()=>n.value.some(e=>e.url!=null||""));return(e,i)=>t.value?(s(),l("div",N,[i[0]||(i[0]=c("p",{class:"text-muted mb-2"},"Direct links:",-1)),(s(!0),l(f,null,w(n.value,r=>(s(),l(f,{key:r.name},[r.url?(s(),l("p",R,[c("a",{href:r.url},p(r.name),9,S)])):u("",!0)],64))),128))])):u("",!0)}},q=["src"],H={class:"my-3"},U={__name:"InstitutionBasics",props:["data"],setup(a){const o=["website","github","nuget","mastodon","pixelfed"];return(n,t)=>(s(),l("div",null,[a.data.logo?(s(),l("img",{key:0,src:a.data.logo,alt:"logo",class:"img-fluid"},null,8,q)):u("",!0),c("div",H,[c("h5",null,p(a.data.name),1)]),d(C,{data:a.data},null,8,["data"]),Object.keys(a.data.social)>0?(s(),h(A,{key:1,class:"mt-4 mb-4 pt-3 border-top",social:a.data.social,order:o},null,8,["social"])):u("",!0),d(L,{data:a.data.internships,text:"Accepting internship applications"},null,8,["data"]),d(V,{class:"links",data:a.data},null,8,["data"]),d(j,{class:"maintained mt-4 pt-3 border-top",data:a.data.owner},null,8,["data"])]))}},D={key:0},F={class:"row"},I={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},T={key:0,class:"col-12 col-md-6 col-lg-8"},z=["innerHTML"],Y={__name:"BusinessView",setup(a){const n=b().params.name,t=_(null),e=_(!1);let i;return k(async()=>{try{e.value=!0,t.value=await P(n),document.title="Profile: "+t.value.name,i=$(t.value.description)}catch(r){console.log(r)}finally{e.value=!1}}),(r,G)=>(s(),h(m(B),{show:e.value},{default:x(()=>[t.value?(s(),l("div",D,[c("div",F,[c("div",I,[d(U,{class:"mb-3",data:t.value},null,8,["data"])]),m(i)?(s(),l("div",T,[c("p",{innerHTML:m(i)},null,8,z)])):u("",!0)])])):u("",!0)]),_:1},8,["show"]))}};export{Y as default};
