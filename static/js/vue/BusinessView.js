import{ae as b,af as k,aw as x,r as v,ao as C,at as B,b as E,aC as N,aD as A,ap as h,aj as w,ai as o,ax as H,ac as t,ab as r,aq as l,ad as a,ag as d,as as m,ak as M,an as P,aE as V,am as L}from"./app.js";import{_ as R}from"./SocialView.js";import{_ as S}from"./LocationFull.js";import"./LocationOutline.js";const T="?withoutEnlargement=true&quality=90&fit=cover&width=120",U=k.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function j(f){const _=U+f,n=await fetch(_);if(n.ok){const e=await n.json();if(e.data.length==0)throw"Can't find a profile for this company";const s={...e.data[0]};return s.logo=s?.logo?b(s.logo)+T:null,s}else throw new Error("Can't load Profile")}const q={key:0},I={class:"row"},D={class:"col-12 col-md-6 col-lg-4 text-center mb-sm-4"},$={class:"text-center mb-3"},z=["src"],G={class:"my-3"},K=["href"],F={key:2,class:"maintained mt-4 pt-3 border-top"},J=["href"],O={class:"col-12 col-md-6 col-lg-8"},Q=["innerHTML"],ee={__name:"BusinessView",setup(f){const n=x().params.name,e=v(null),s=v(!1);let p;const g=["website","github","nuget","mastodon","pixelfed"];C(async()=>{s.value=!0,e.value=await j(n),s.value=!1,p=B(e.value.description)});const c=E(()=>{let u=null;return e.value.social&&e.value.social?.website!==""&&(u={name:A(e.value.social.website),link:N(e.value.social.website)}),u});return(u,i)=>(t(),h(o(H),{show:s.value},{default:w(()=>[e.value?(t(),r("div",q,[a("div",I,[a("div",D,[a("div",$,[e.value.logo?(t(),r("img",{key:0,src:e.value.logo,alt:"logo",class:"img-fluid"},null,8,z)):l("",!0),a("div",G,[a("h5",null,m(e.value.name),1)]),d(S,{data:e.value},null,8,["data"]),c.value?(t(),r("a",{key:1,href:c.value.link},m(c.value.name),9,K)):l("",!0),e.value.owner?(t(),r("div",F,[i[1]||(i[1]=M(" This page is maintained by: ")),a("div",null,[d(o(P),{size:"20",class:"mr-2"},{default:w(()=>[d(o(V))]),_:1}),a("a",{href:"/user/"+e.value.owner.username,onClick:i[0]||(i[0]=y=>o(L)(e.value.owner.username,y))},m(e.value.owner.username),9,J)])])):l("",!0),e.value.social?(t(),h(R,{key:3,class:"text-left mt-4 mb-4 pt-3 border-top",social:e.value.social,order:g},null,8,["social"])):l("",!0)])]),a("div",O,[a("p",{innerHTML:o(p)},null,8,Q)])])])):l("",!0)]),_:1},8,["show"]))}};export{ee as default};
