import{ac as g,ad as v,r as _,b as k,ae as l,an as u,af as o,as as i,M as f,az as w,ax as p,ag as c,au as b,ah as h,ai as m,ak as $,am as y,aq as x,ap as C,ay as B,aF as j}from"./app.js";import{_ as A,a as L}from"./LocationFull.js";import{_ as M}from"./SocialView.js";import{C as N}from"./CheckmarkCircle.js";import"./LocationOutline.js";const E="?withoutEnlargement=true&quality=90&fit=cover&width=120",P=v.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function V(a){const n=P+a,t=await fetch(n);if(t.ok){const e=await t.json();if(e.data.length==0)throw"Can't find a profile for this company";const s={...e.data[0]};return s.logo=s?.logo?g(s.logo)+E:null,s}else throw new Error("Can't load Profile")}const I={key:0,class:"my-3 pt-2 border-top"},R={key:0,class:"mb-1"},S=["href"],q={__name:"Links",props:["data"],setup(a){const n=a,t=_([{name:"Contact",url:n.data.contact_url},{name:"Projects",url:n.data.projects_url},{name:"Jobs",url:n.data.jobs_url}]),e=k(()=>t.value.some(s=>s.url!=null||""));return(s,d)=>e.value?(o(),l("div",I,[d[0]||(d[0]=i("p",{class:"text-muted mb-2"},"Direct links:",-1)),(o(!0),l(f,null,w(t.value,r=>(o(),l(f,{key:r.name},[r.url?(o(),l("p",R,[i("a",{href:r.url},p(r.name),9,S)])):u("",!0)],64))),128))])):u("",!0)}},H={key:0},T={__name:"Internships",props:["data"],setup(a){return(n,t)=>a.data?(o(),l("div",H,[c(m($),{size:"1.2rem",color:"green",class:"mr-2"},{default:h(()=>[c(m(N))]),_:1}),t[0]||(t[0]=b(" Accepting internship applications "))])):u("",!0)}},U=["src"],z={class:"my-3"},D={__name:"InstitutionBasics",props:["data"],setup(a){const n=["website","github","nuget","mastodon","pixelfed"];return(t,e)=>(o(),l("div",null,[a.data.logo?(o(),l("img",{key:0,src:a.data.logo,alt:"logo",class:"img-fluid"},null,8,U)):u("",!0),i("div",z,[i("h5",null,p(a.data.name),1)]),c(A,{data:a.data},null,8,["data"]),Object.keys(a.data.social)>0?(o(),y(M,{key:1,class:"mt-4 mb-4 pt-3 border-top",social:a.data.social,order:n},null,8,["social"])):u("",!0),c(T,{data:a.data.internships},null,8,["data"]),c(q,{class:"links",data:a.data},null,8,["data"]),c(L,{class:"maintained mt-4 pt-3 border-top",data:a.data.owner},null,8,["data"])]))}},F={key:0},G={class:"row"},J={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},K={key:0,class:"col-12 col-md-6 col-lg-8"},O=["innerHTML"],ta={__name:"BusinessView",setup(a){const t=x().params.name,e=_(null),s=_(!1);let d;return C(async()=>{try{s.value=!0,e.value=await V(t),document.title="Profile: "+e.value.name,d=B(e.value.description)}catch(r){console.log(r)}finally{s.value=!1}}),(r,Q)=>(o(),y(m(j),{show:s.value},{default:h(()=>[e.value?(o(),l("div",F,[i("div",G,[i("div",J,[c(D,{class:"mb-3",data:e.value},null,8,["data"])]),m(d)?(o(),l("div",K,[i("p",{innerHTML:m(d)},null,8,O)])):u("",!0)])])):u("",!0)]),_:1},8,["show"]))}};export{ta as default};
