import{ac as y,ad as v,r as f,aD as m,b as w,ae as l,an as u,af as s,as as c,M as p,az as b,ax as h,ag as d,am as g,aq as k,ap as $,ay as x,ah as B,ai as _,aF as C}from"./app.js";import{_ as j,a as A}from"./LocationFull.js";import{_ as L}from"./SocialView.js";import{_ as M}from"./Internships.js";import"./LocationOutline.js";import"./CheckmarkCircle.js";const E="?withoutEnlargement=true&quality=90&fit=cover&width=120",P=v.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function H(a){const o=P+a,n=await fetch(o);if(n.ok){const t=await n.json();if(t.data.length==0)throw"Can't find a profile for this company";const e={...t.data[0]};return e.logo=e?.logo?y(e.logo)+E:null,e}else throw new Error("Can't load Profile")}const N={key:0,class:"my-3 pt-2 border-top"},R={key:0,class:"mb-1"},S=["href"],V={__name:"Links",props:["data"],setup(a){const o=a,n=f([{name:"Contact",url:m(o.data.contact_url)},{name:"Projects",url:m(o.data.projects_url)},{name:"Jobs",url:m(o.data.jobs_url)}]),t=w(()=>n.value.some(e=>e.url!=null||""));return(e,i)=>t.value?(s(),l("div",N,[i[0]||(i[0]=c("p",{class:"text-muted mb-2"},"Direct links:",-1)),(s(!0),l(p,null,b(n.value,r=>(s(),l(p,{key:r.name},[r.url?(s(),l("p",R,[c("a",{href:r.url,target:"_blank"},h(r.name),9,S)])):u("",!0)],64))),128))])):u("",!0)}},q=["src"],D={class:"my-3"},U={__name:"InstitutionBasics",props:["data"],setup(a){const o=["website","github","nuget","mastodon","pixelfed"];return(n,t)=>(s(),l("div",null,[a.data.logo?(s(),l("img",{key:0,src:a.data.logo,alt:"logo",class:"img-fluid"},null,8,q)):u("",!0),c("div",D,[c("h5",null,h(a.data.name),1)]),d(j,{data:a.data},null,8,["data"]),Object.keys(a.data.social)>0?(s(),g(L,{key:1,class:"mt-4 mb-4 pt-3 border-top",social:a.data.social,order:o},null,8,["social"])):u("",!0),d(M,{data:a.data.internships,text:"Accepting internship applications"},null,8,["data"]),d(V,{class:"links",data:a.data},null,8,["data"]),d(A,{class:"maintained mt-4 pt-3 border-top",data:a.data.owner},null,8,["data"])]))}},F={key:0},I={class:"row"},T={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},z={key:0,class:"col-12 col-md-6 col-lg-8"},G=["innerHTML"],Z={__name:"BusinessView",setup(a){const n=k().params.name,t=f(null),e=f(!1);let i;return $(async()=>{try{e.value=!0,t.value=await H(n),document.title="Profile: "+t.value.name,i=x(t.value.description)}catch(r){console.log(r)}finally{e.value=!1}}),(r,J)=>(s(),g(_(C),{show:e.value},{default:B(()=>[t.value?(s(),l("div",F,[c("div",I,[c("div",T,[d(U,{class:"mb-3",data:t.value},null,8,["data"])]),_(i)?(s(),l("div",z,[c("p",{innerHTML:_(i)},null,8,G)])):u("",!0)])])):u("",!0)]),_:1},8,["show"]))}};export{Z as default};
