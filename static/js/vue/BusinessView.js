import{af as k,ag as C,ay as x,r as p,ao as B,av as A,b as N,az as P,aA as E,ah as h,ai as w,ak as l,aB as H,aG as M,ac as s,ab as n,an as o,ad as a,aj as c,au as _,as as V,am as L,ar as R}from"./app.js";import{_ as S}from"./SocialView.js";import{_ as T,a as U}from"./MaintainedBy.js";import"./LocationOutline.js";const j="?withoutEnlargement=true&quality=90&fit=cover&width=120",$=C.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function q(f){const v=$+f,i=await fetch(v);if(i.ok){const e=await i.json();if(e.data.length==0)throw"Can't find a profile for this company";const t={...e.data[0]};return t.logo=t?.logo?k(t.logo)+j:null,t}else throw new Error("Can't load Profile")}const z={key:0},G={class:"row"},I={class:"col-12 col-md-6 col-lg-4 text-center mb-sm-4"},O={class:"text-center mb-3"},D=["src"],K={class:"my-3"},F={class:"my-3"},J=["href"],Q={key:1,class:"maintained mt-4 pt-3 border-top"},W=["href"],X={key:0,class:"col-12 col-md-6 col-lg-8"},Y=["innerHTML"],se={__name:"BusinessView",setup(f){const i=x().params.name,e=p(null),t=p(!1);let u;const g=["website","github","nuget","mastodon","pixelfed"];B(async()=>{t.value=!0,e.value=await q(i),t.value=!1,u=A(e.value.description)});const d=N(()=>{let m=null;return e.value.social?.website&&e.value.social.website!==""&&(m={name:E(e.value.social.website),link:P(e.value.social.website)}),m});return(m,r)=>{const y=M("PersonCircleOutline");return s(),h(l(H),{show:t.value},{default:w(()=>[e.value?(s(),n("div",z,[a("div",G,[a("div",I,[a("div",O,[e.value.logo?(s(),n("img",{key:0,src:e.value.logo,alt:"logo",class:"img-fluid"},null,8,D)):o("",!0),a("div",K,[a("h5",null,_(e.value.name),1)]),c(T,{data:e.value},null,8,["data"]),a("div",F,[d.value?(s(),n("a",{key:0,href:d.value.link,target:"_blank"},_(d.value.name),9,J)):o("",!0)]),e.value.owner?(s(),n("div",Q,[r[1]||(r[1]=V(" This page is maintained by: ")),a("div",null,[c(l(L),{size:"20",class:"mr-2"},{default:w(()=>[c(y)]),_:1}),a("a",{href:"/user/"+e.value.owner.username,onClick:r[0]||(r[0]=b=>l(R)(e.value.owner.username,b))},_(e.value.owner.username),9,W)])])):o("",!0),e.value.social?(s(),h(S,{key:2,class:"text-left mt-4 mb-4 pt-3 border-top",social:e.value.social,order:g},null,8,["social"])):o("",!0),c(U,{class:"text-left maintained mt-4 pt-3",data:e.value.owner},null,8,["data"])])]),l(u)?(s(),n("div",X,[a("p",{innerHTML:l(u)},null,8,Y)])):o("",!0)])])):o("",!0)]),_:1},8,["show"])}}};export{se as default};
