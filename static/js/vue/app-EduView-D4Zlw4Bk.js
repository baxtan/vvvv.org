import{a3 as v,a4 as w,a8 as h,ac as g,ah as y,ai as b,aj as R}from"./app.js";import{_ as k,a as E}from"./app-InstitutionBasics-BsxbxhEI.js";import{N as U}from"./app-Alert-Be0p78_K.js";import{r as n,l as N,f as A,N as d,P as m,u as p,o as l,a1 as r,c as _,v as C,R as H,b as i,Q as f}from"./app-vue-BkvlpQbN.js";import"./app-icons-B71ntucG.js";import"./app-lodash-Cpj98o6Y.js";import"./app-SocialView-C78kmxIf.js";import"./app-Internships-C5m6OpV6.js";const B="?withoutEnlargement=true&quality=98&fit=cover&width=300&format=png",M=w.BASEURL+"items/Edu?fields=*,social.*,owner.username,people.User_Role_id.role,people.User_Role_id.user_id.username&filter[slug][_eq]=";async function P(u){const c=M+u,s=await fetch(c),e=await s.json();if(s.ok){if(e.data.length==0)throw"Can't find a profile for this Educational Institution";const t={...e.data[0]};return t.people=t.people.filter(o=>o.User_Role_id.user_id!==null),t.people=t.people.map(o=>({role:o.User_Role_id.role,username:o.User_Role_id.user_id.username,link:"/people/"+o.User_Role_id.user_id.username})),t.logo=t?.logo?v(t.logo)+B:null,t}else throw new Error("Can't load Profile")}const S={key:1},V={class:"row"},x={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},I={key:0,class:"col-12 col-md-6 col-lg-8 mt-4 mt-md-0 profileContent"},L=["innerHTML"],J={__name:"EduView",setup(u){const s=h().params?.slug,e=n(null),t=n(!1),o=n(null);return N(async()=>{window.scrollTo({top:0,left:0,behavior:"smooth"});try{t.value=!0,o.value=null,e.value=await P(s),document.title="Profile: "+e.value.name,e.value.description=g(e.value.description)}catch(a){console.log(a),o.value="Something went wrong or maybe an Institutional Institution is simply not yet confirmed."}finally{t.value=!1}}),A(()=>{let a=null;return e.value.social?.website&&e.value.social.website!==""&&(a={name:b(e.value.social.website),link:y(e.value.social.website)}),a}),(a,T)=>(l(),d(p(R),{show:t.value},{default:m(()=>[o.value?(l(),d(p(U),{key:0,title:"Hoppala",type:"warning"},{default:m(()=>[C(H(o.value),1)]),_:1})):r("",!0),e.value?(l(),_("div",S,[i("div",V,[i("div",x,[f(k,{class:"mb-3",data:e.value},null,8,["data"])]),e.value.description?(l(),_("div",I,[i("p",{innerHTML:e.value.description},null,8,L),f(E,{class:"maintained mt-4 pt-3 border-top d-block d-md-none",data:e.value.owner},null,8,["data"])])):r("",!0)])])):r("",!0)]),_:1},8,["show"]))}};export{J as default};
