import{af as _,ag as h,aw as v,r as d,av as w,aF as y,aq as g,ak as k,al as n,aN as b,ai as l,ah as u,ar as f,ay as t,aj as p}from"./app.js";import{_ as B,a as C}from"./app-InstitutionBasics-W92eBrZL.js";import"./app-SocialView-D0fDWkCF.js";import"./app-LocationOutline-DpPS-T59.js";import"./app-Internships-D21x0_0Y.js";import"./app-CheckmarkCircle-DyNxeEdr.js";const A="?withoutEnlargement=true&quality=98&fit=cover&width=300&format=png",E=h.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function M(r){const i=E+r,e=await fetch(i);if(e.ok){const o=await e.json();if(o.data.length==0)throw"Can't find a profile for this company";const a={...o.data[0]};return a.logo=a?.logo?_(a.logo)+A:null,a}else throw new Error("Can't load Profile")}const N={key:0},L={class:"row"},P={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},R={key:0,class:"col-12 col-md-6 col-lg-8 mt-0 mt-md-3 mt-md-0 profileContent"},S=["innerHTML"],U={__name:"BusinessView",setup(r){const e=v().params?.name??"vvvv",o=d(null),a=d(!1);let s;return w(async()=>{window.scrollTo({top:0,left:0,behavior:"smooth"});try{a.value=!0,o.value=await M(e),document.title="Profile: "+o.value.name,s=y(o.value.description)}catch(c){console.log(c),error.value="Something went wrong or maybe a business you are looking for is simply not yet confirmed."}finally{a.value=!1}}),(c,m)=>(l(),g(n(b),{show:a.value},{default:k(()=>[o.value?(l(),u("div",N,[t("div",L,[t("div",P,[p(B,{class:"mb-3",data:o.value},null,8,["data"])]),n(s)?(l(),u("div",R,[m[0]||(m[0]=t("hr",{class:"d-block d-md-none"},null,-1)),t("p",{innerHTML:n(s)},null,8,S),p(C,{class:"maintained mt-4 pt-3 border-top d-block d-md-none",data:o.value.owner},null,8,["data"])])):f("",!0)])])):f("",!0)]),_:1},8,["show"]))}};export{U as default};
