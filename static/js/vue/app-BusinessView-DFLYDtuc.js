import{a3 as _,a4 as h,a8 as v,ac as w,ai as y}from"./app.js";import{_ as g,a as b}from"./app-InstitutionBasics-BWv_ukGJ.js";import{r as d,l as k,N as B,P as C,u as n,o as l,c as u,a1 as f,b as a,Q as p}from"./app-vue-BkvlpQbN.js";import"./app-icons-B71ntucG.js";import"./app-lodash-Cpj98o6Y.js";import"./app-SocialView-DyDnN9R5.js";import"./app-Internships-Gr3TaDg3.js";const A="?withoutEnlargement=true&quality=98&fit=cover&width=300&format=png",E=h.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function M(r){const i=E+r,t=await fetch(i);if(t.ok){const o=await t.json();if(o.data.length==0)throw"Can't find a profile for this company";const e={...o.data[0]};return e.logo=e?.logo?_(e.logo)+A:null,e}else throw new Error("Can't load Profile")}const N={key:0},P={class:"row"},L={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},R={key:0,class:"col-12 col-md-6 col-lg-8 mt-0 mt-md-3 mt-md-0 profileContent"},S=["innerHTML"],$={__name:"BusinessView",setup(r){const t=v().params?.name??"vvvv",o=d(null),e=d(!1);let s;return k(async()=>{window.scrollTo({top:0,left:0,behavior:"smooth"});try{e.value=!0,o.value=await M(t),document.title="Profile: "+o.value.name,s=w(o.value.description)}catch(c){console.log(c),error.value="Something went wrong or maybe a business you are looking for is simply not yet confirmed."}finally{e.value=!1}}),(c,m)=>(l(),B(n(y),{show:e.value},{default:C(()=>[o.value?(l(),u("div",N,[a("div",P,[a("div",L,[p(g,{class:"mb-3",data:o.value},null,8,["data"])]),n(s)?(l(),u("div",R,[m[0]||(m[0]=a("hr",{class:"d-block d-md-none"},null,-1)),a("p",{innerHTML:n(s)},null,8,S),p(b,{class:"maintained mt-4 pt-3 border-top d-block d-md-none",data:o.value.owner},null,8,["data"])])):f("",!0)])])):f("",!0)]),_:1},8,["show"]))}};export{$ as default};
