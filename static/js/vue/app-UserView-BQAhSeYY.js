import{d as J,ae as n,af as t,av as K,b as p,aw as F,ac as L,an as o,as as e,M,ax as h,ag as m,ah as f,ay as Q,am as y,ai as d,az as W,au as b,aA as X,aB as Y,aq as Z,r as _,ad as w,ap as ee,aC as ae,aD as te,aE as le,ar as se,aj as ne,aF as U,ak as A,aG as oe}from"./app.js";import{N as re}from"./app-Space-BsYN9mn2.js";import{_ as ie}from"./app-SocialView-cg_Ajenc.js";import{_ as ce}from"./app-Location-p6anrmfV.js";import"./app-get-slot-Bk_rJcZu.js";import"./app-LocationOutline-DNQ6lrCI.js";const ue={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},de=J({name:"CalendarOutline",render:function(r,s){return t(),n("svg",ue,s[0]||(s[0]=[K('<rect fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" x="48" y="80" width="416" height="384" rx="48"></rect><circle cx="296" cy="232" r="24" fill="currentColor"></circle><circle cx="376" cy="232" r="24" fill="currentColor"></circle><circle cx="296" cy="312" r="24" fill="currentColor"></circle><circle cx="376" cy="312" r="24" fill="currentColor"></circle><circle cx="136" cy="312" r="24" fill="currentColor"></circle><circle cx="216" cy="312" r="24" fill="currentColor"></circle><circle cx="136" cy="392" r="24" fill="currentColor"></circle><circle cx="216" cy="392" r="24" fill="currentColor"></circle><circle cx="296" cy="392" r="24" fill="currentColor"></circle><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" stroke-linecap="round" d="M128 48v32"></path><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" stroke-linecap="round" d="M384 48v32"></path><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" d="M464 160H48"></path>',13)]))}}),ve={class:"card-body"},me=["src"],fe=["innerHTML"],he={class:"row"},pe={key:0,class:"col-12 col-lg-6"},ge={class:"pr-lg-2"},_e=["innerHTML"],be={key:1,class:"col-12 col-lg-6"},ye={class:"pl-lg-2"},ke=["innerHTML"],we={class:"card-text"},$e="",xe={__name:"HireView",props:{data:Object,contact:String},setup(l){const r=p(()=>l.data?{description:F(l.data.description),contact:l.data.contact,skills_vvvv:F(l.data.skills_vvvv),skills_other:F(l.data.skills_other),image:l.data.image?L(l.data.image)+$e:null,availableFor:l.data.availableFor?l.data.availableFor.map(s=>s.AvailableFor_Options_id?s.AvailableFor_Options_id.value:""):[]}:{});return(s,a)=>(t(),n("div",ve,[r.value.image?(t(),n("img",{key:0,src:r.value.image,class:"img-fluid pt-2 mb-4"},null,8,me)):o("",!0),r.value.description?(t(),n("p",{key:1,class:"card-text",innerHTML:r.value.description},null,8,fe)):o("",!0),a[4]||(a[4]=e("hr",{class:"d-lg-none mt-3 mt-lg-0"},null,-1)),e("div",he,[r.value.skills_vvvv?(t(),n("div",pe,[e("div",ge,[a[0]||(a[0]=e("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[e("b",null,"vvvv skills")],-1)),e("p",{class:"card-text",innerHTML:r.value.skills_vvvv},null,8,_e)])])):o("",!0),r.value.skills_vvvv?(t(),n("div",be,[e("div",ye,[a[1]||(a[1]=e("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[e("b",null,"other skills")],-1)),e("p",{class:"card-text",innerHTML:r.value.skills_other},null,8,ke)])])):o("",!0)]),r.value.contact?(t(),n(M,{key:2},[a[2]||(a[2]=e("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[e("b",null,"contact")],-1)),e("p",we,h(r.value.contact),1)],64)):o("",!0),r.value.availableFor.length>0?(t(),n(M,{key:3},[a[3]||(a[3]=e("p",{class:"py-0 mb-2 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[e("b",null,"Available for")],-1)),m(d(re),null,{default:f(()=>[(t(!0),n(M,null,Q(r.value.availableFor,c=>(t(),y(d(W),{class:"mr-2",bordered:!1},{default:f(()=>[b(h(c),1)]),_:2},1024))),256))]),_:1})],64)):o("",!0)]))}},Ce={class:"joined border-top pt-3"},je={key:0},Fe={key:1},Me={__name:"BetaGammaUser",props:["data"],setup(l){return(r,s)=>(t(),n("div",Ce,[s[2]||(s[2]=e("p",{class:"joined mb-2"},"Using:",-1)),l.data.beta?(t(),n("div",je,[s[0]||(s[0]=b("vvvv beta since ")),e("b",null,h(l.data.beta),1)])):o("",!0),l.data.gamma?(t(),n("div",Fe,[s[1]||(s[1]=b("vvvv gamma since ")),e("b",null,h(l.data.gamma),1)])):o("",!0)]))}},Te=["href"],Le={class:"mb-1 d-flex text-align-center"},Ne=["href"],Oe={class:"mb-1"},He={__name:"Maintains",props:["data"],setup(l){return(r,s)=>(t(),n("div",null,[s[2]||(s[2]=e("div",{class:"mb-2"},"Maintains:",-1)),l.data.company?(t(),n("a",{key:0,href:"/business/"+l.data.company.name,onClick:s[0]||(s[0]=a=>d(X)(l.data.company.name,a))},[e("div",Le,h(l.data.company.name),1)],8,Te)):o("",!0),l.data.edu?(t(),n("a",{key:1,href:"/edu/"+l.data.edu.name,onClick:s[1]||(s[1]=a=>d(Y)(l.data.edu.name,a))},[e("p",Oe,h(l.data.edu.name),1)],8,Ne)):o("",!0)]))}},Se={key:0,class:"userView"},Ee={class:"row"},Pe={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},Ue={class:"my-3"},Ae=["href"],Be={key:0,class:"text-muted mb-1"},Re={class:"joined mb-2"},Ve={class:"col-12 mt-3 mt-md-0 pt-md-0 col-md-6 col-lg-8 profileContent"},qe={key:0,class:"mb-4 description"},De=["innerHTML"],Ge={key:1},ze={key:0,class:"card"},T=120,Ye={__name:"UserView",setup(l){const r=Z();se();const s=r.params.username,a=_(null),c=_(null),g=_(null),N=_(null),$=_(!1),x=_(null),k=_({}),O=`?withoutEnlargement=true&quality=90&fit=cover&width=${T}&height=${T}`,B=`${w.GET_USERS}?filter[username][_eq]=${s}
            &fields=*,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value,related.social.*`,R=`${w.GET_COMPANIES}?filter[owner][username][_eq]=${s}&fields=name,logo`,V=`${w.GET_EDUS}?filter[owner][username][_eq]=${s}&fields=name,logo`;ee(async()=>{$.value=!0,window.scrollTo({top:0,left:0,behavior:"smooth"});try{let i=await fetch(B),u=await i.json();if(!i.ok||u.data?.length==0)throw"Can't find a profile for this user";const v=u.data[0];document.title="Profile: "+v.username,a.value=v,N.value=a.value.userpic?`${L(a.value.userpic)}${O}`:null,c.value=v.related[0]?.hire,g.value=v.related[0]?.social,x.value=a.value.description;const I=[H(R),H(V)],[C,j]=await Promise.allSettled(I);C.status==="fulfilled"&&C.value&&(k.value.company=C.value),j.status==="fulfilled"&&j.value&&(k.value.edu=j.value)}catch(i){console.error(i)}finally{$.value=!1}});async function H(i){const u=await fetch(i),v=await u.json();return u.ok&&v.data?.length>0?{name:v.data[0].name,logo:v.data[0].logo?`${L(v.data[0].logo)}${O}`:null}:null}const q={year:"numeric",month:"short",day:"numeric"},D=p(()=>new Date(a.value.date_created).toLocaleString("en-US",q)),S=p(()=>({city:a.value.location_city,country:a.value.location_country})),E=p(()=>{const i=[a.value.name,a.value.surname].filter(Boolean).join(" ");return i||null}),G=p(()=>`${w.FORUM}u/${a.value.username}/summary`),P=p(()=>{const i={beta:a.value.beta_since,gamma:a.value.gamma_since};return i.beta||i.gamma?i:null});p(()=>{let i=null;return g.value?.website&&g.value.website!==""&&(i={name:te(g.value.website),link:ae(g.value.website)}),i});const z=p(()=>c.value.skills_other||c.value.skills_vvvv||c.value.contact||c.value.availableFor&&c.value.availableFor.length>0||c.value.description||c.value.image);return(i,u)=>(t(),y(d(le),{show:$.value},{default:f(()=>[a.value?(t(),n("div",Se,[e("div",Ee,[e("div",Pe,[m(d(ne),{objectFit:"contain",round:"",size:T,src:N.value},null,8,["src"]),e("div",Ue,[e("h5",null,[b(h(a.value.username)+" ",1),e("a",{href:G.value,target:"_blank",class:"pl-2",alt:"Forum Profile"},[m(d(U),{trigger:"hover"},{trigger:f(()=>[m(d(A),null,{default:f(()=>[m(d(oe))]),_:1})]),default:f(()=>[u[0]||(u[0]=b(" Open Forum Profile "))]),_:1})],8,Ae)]),E.value?(t(),n("p",Be,h(E.value),1)):o("",!0)]),e("div",Re,[m(d(U),{trigger:"hover"},{trigger:f(()=>[m(d(A),{size:"1.2rem",class:"mr-2"},{default:f(()=>[m(d(de))]),_:1})]),default:f(()=>[u[1]||(u[1]=b(" Joined "))]),_:1}),b(" "+h(D.value),1)]),S.value?(t(),y(ce,{key:0,location:S.value},null,8,["location"])):o("",!0),Object.keys(k.value).length>0?(t(),y(He,{key:1,data:k.value,class:"border-top pt-2 mt-4"},null,8,["data"])):o("",!0),g.value?(t(),y(ie,{key:2,class:"mt-4 mb-4 pt-3 border-top",social:g.value},null,8,["social"])):o("",!0),P.value?(t(),y(Me,{key:3,data:P.value},null,8,["data"])):o("",!0)]),e("div",Ve,[x.value?(t(),n("div",qe,[e("p",{innerHTML:x.value},null,8,De)])):o("",!0),c.value&&c.value.available?(t(),n("div",Ge,[u[2]||(u[2]=e("h4",{class:"h4"},"Available for hire",-1)),z.value?(t(),n("div",ze,[m(xe,{data:c.value},null,8,["data"])])):o("",!0)])):o("",!0)])])])):o("",!0)]),_:1},8,["show"]))}};export{Ye as default};
