import{ar as $,as as C,ak as k,at as B,Y as S,ac as v,_ as L,au as N,al as x,ae as V,ap as D,af as P}from"./app.js";import{u as R}from"./app-BusinessListStore-Bu_6irwk.js";import{c as l,o as c,Q as u,P as h,F as g,S as b,N as f,u as s,a1 as p,b as t,R as m,x as w,a2 as T,a4 as q,l as E,w as F}from"./app-vue-Chj5ZsMy.js";import{_ as M}from"./app-Location-BjG01-we.js";import{_ as A}from"./app-Internships-Ba3pbpyk.js";import{g as I}from"./app-icons-DRCsUfN5.js";import"./app-lodash-Cpj98o6Y.js";import"./app-LinksHelper-C0DPfYCg.js";const O={class:""},Q={__name:"ListNavigation",props:["selected","sections"],emits:["select"],setup(n,{emit:d}){const _=d;return(e,a)=>(c(),l("div",O,[u(s(C),{value:n.selected,type:"segment",animated:"","onUpdate:value":a[0]||(a[0]=i=>_("select",i))},{default:h(()=>[(c(!0),l(g,null,b(n.sections,i=>(c(),f(s($),{name:i.key,tab:i.label,key:i.key},null,8,["name","tab"]))),128))]),_:1},8,["value"])]))}},U={key:0,class:"logoListView"},Y={class:"row row-cols-1 row-cols-md-2 row-cols-lg-4"},j={"track-by":"item.name",class:"col mb-4"},z=["onClick"],G={class:"company"},H={class:"logo"},J=["src"],K={class:"name"},W={__name:"LogoListView",props:["list"],setup(n){return(d,_)=>n.list&&n.list.total>0?(c(),l("div",U,[t("p",null,m(n.list.total)+" Businesses that use vvvv:",1),t("div",Y,[(c(!0),l(g,null,b(n.list.items,e=>(c(),l("div",j,[t("div",{class:"companyCard p-3 h-100",onClick:a=>s(k)(e.slug,a)},[t("div",G,[t("div",H,[t("img",{src:e.logo||s(B)},null,8,J)]),t("p",K,m(e.name),1),u(A,{data:e,text:"Accepting internship",class:"mb-1"},null,8,["data"]),u(M,{location:{city:e.location_city,country:e.location_country}},null,8,["location"])])],8,z)]))),256))])])):p("",!0)}},X={class:"table table-borderless"},Z={class:"border-bottom"},ee={scope:"col",class:"col-4"},se={scope:"col",class:"col"},te={key:0},oe={class:"border-bottom"},ne=["href","onClick"],ce=["href"],ae={__name:"ConnectionListView",props:["list","options","connection","type"],emits:["change"],setup(n,{emit:d}){const _=d;function e(a){a.key=="business"?k(a.slug):a.key=="edu"&&x(a.slug)}return(a,i)=>(c(),l("div",null,[t("table",X,[t("thead",Z,[t("tr",null,[t("th",ee,m(n.type),1),t("th",se,[u(s(L),{trigger:"click",options:n.options,onSelect:i[0]||(i[0]=r=>_("change",r))},{default:h(()=>[u(s(S),{secondary:""},{default:h(()=>[w(m(n.connection.label),1),u(s(v),{class:"ml-4"},{default:h(()=>[u(s(I))]),_:1})]),_:1})]),_:1},8,["options"])])])]),n.list?(c(),l("tbody",te,[(c(!0),l(g,null,b(n.list.items,r=>(c(),l("tr",oe,[t("td",null,[t("a",{href:r.profileLink,onClick:T(o=>e(r),["prevent"])},m(r.name),9,ne)]),t("td",null,[t("a",{href:r.connectionLink,target:"_blank"},[u(s(v),{class:"mr-3"},{default:h(()=>[(c(),f(q(s(N)[n.connection.key])))]),_:1}),w(m(r.label),1)],8,ce)])]))),256))])):p("",!0)])]))}},ie={class:"row"},le={class:"col-12 col-lg-4"},ye={__name:"BusinessList",setup(n){const d=P(),_=V(),e=R();E(async()=>{await a(_.query)}),F(()=>_.query,async(o,y)=>{o!=y&&await a(_.query)},{deep:!0});async function a(o){if(o.b){k(o.b);return}else o.section&&e.setSection(o.section,o.type);try{await e.getData()}catch(y){console.log(y)}}function i(o){o=="connections"?d.push({name:"Businesses",query:{section:o,type:e.selectedConnection.key??"github"}}):o=="list"&&d.push({name:"Businesses",query:{section:o}})}function r(o){d.push({name:"Businesses",query:{section:e.selectedSection.key,type:o}})}return(o,y)=>(c(),f(s(D),{show:s(e).loading},{default:h(()=>[t("div",ie,[t("div",le,[u(Q,{sections:s(e).sections,selected:s(e).selectedSection.key,onSelect:i},null,8,["sections","selected"])])]),!s(e).loading&&s(e).list?(c(),l(g,{key:0},[s(e).selectedSection.key=="connections"?(c(),f(ae,{key:0,list:s(e).list.connections,options:s(e).socialOptions,connection:s(e).selectedConnection,type:"Business",class:"mt-3",onChange:r},null,8,["list","options","connection"])):p("",!0),s(e).selectedSection.key=="list"?(c(),f(W,{key:1,list:s(e).list.list},null,8,["list"])):p("",!0)],64)):p("",!0)]),_:1},8,["show"]))}};export{ye as default};
