import{h as J,G as n,H as s,a9 as Y,r as v,o as A,K as y,I as a,O as m,L as c,a0 as r,a1 as K,Q as f,F as $,c as _,P as d,R as Q,f as b,M as W,J as X}from"./app-chunk-DZzY5mmt.js";import{a3 as j,_ as O,a4 as Z,a5 as ee,a6 as te,$ as w,a7 as ae,a8 as le,a9 as se,a0 as ne,aa as R,a1 as U,ab as oe}from"./app.js";import{N as re}from"./app-chunk-DLXk6Puv.js";import{_ as ie}from"./app-chunk-BpglwKFH.js";import{_ as ce}from"./app-chunk-CA3p6NB0.js";import{N as ue}from"./app-chunk-UrI7pPeN.js";import"./app-chunk-CH2Cnt03.js";import"./app-chunk-OBQLImDs.js";import"./app-chunk-cNDEcVgS.js";const de={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ve=J({name:"CalendarOutline",render:function(o,l){return s(),n("svg",de,l[0]||(l[0]=[Y('<rect fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" x="48" y="80" width="416" height="384" rx="48"></rect><circle cx="296" cy="232" r="24" fill="currentColor"></circle><circle cx="376" cy="232" r="24" fill="currentColor"></circle><circle cx="296" cy="312" r="24" fill="currentColor"></circle><circle cx="376" cy="312" r="24" fill="currentColor"></circle><circle cx="136" cy="312" r="24" fill="currentColor"></circle><circle cx="216" cy="312" r="24" fill="currentColor"></circle><circle cx="136" cy="392" r="24" fill="currentColor"></circle><circle cx="216" cy="392" r="24" fill="currentColor"></circle><circle cx="296" cy="392" r="24" fill="currentColor"></circle><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" stroke-linecap="round" d="M128 48v32"></path><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" stroke-linecap="round" d="M384 48v32"></path><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" d="M464 160H48"></path>',13)]))}}),me=["innerHTML"],fe=["innerHTML"],he={__name:"ClippedText",props:["text","maxLength","clippedLength"],setup(t){const o=["Show More","Show Less"],l=v(0),e=v(!1),p=v(t.text);A(()=>{t.text.length>t.maxLength&&(e.value=!0),p.value=t.text.trim()});function h(){l.value?l.value=0:l.value=1}return(C,k)=>(s(),n($,null,[e.value&&l.value==0?(s(),y(c(ue),{key:0,"line-clamp":"3",tooltip:"false"},{default:m(()=>[a("span",{innerHTML:t.text},null,8,me)]),_:1})):(s(),n("span",{key:1,innerHTML:t.text},null,8,fe)),a("div",null,[e.value?(s(),n("a",{key:0,href:"#",onClick:K(h,["prevent"])},f(o[l.value]),1)):r("",!0)])],64))}},ge={class:"card-body"},pe=["src"],_e=["innerHTML"],ye={class:"row"},be={key:0,class:"col-12 col-lg-6"},ke={class:"pr-lg-2"},xe=["innerHTML"],we={key:1,class:"col-12 col-lg-6"},$e={class:"pl-lg-2"},Ce=["innerHTML"],Le={class:"card-text"},Me="",Te={__name:"HireView",props:{data:Object,contact:String},setup(t){const o=_(()=>t.data?{description:j(t.data.description),contact:t.data.contact,skills_vvvv:j(t.data.skills_vvvv),skills_other:j(t.data.skills_other),image:t.data.image?O(t.data.image)+Me:null,availableFor:t.data.availableFor?t.data.availableFor.map(l=>l.AvailableFor_Options_id?l.AvailableFor_Options_id.value:""):[]}:{});return(l,e)=>(s(),n("div",ge,[o.value.image?(s(),n("img",{key:0,src:o.value.image,class:"img-fluid pt-2 mb-4"},null,8,pe)):r("",!0),o.value.description?(s(),n("p",{key:1,class:"card-text",innerHTML:o.value.description},null,8,_e)):r("",!0),e[4]||(e[4]=a("hr",{class:"d-lg-none mt-3 mt-lg-0"},null,-1)),a("div",ye,[o.value.skills_vvvv?(s(),n("div",be,[a("div",ke,[e[0]||(e[0]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"vvvv skills")],-1)),a("p",{class:"card-text",innerHTML:o.value.skills_vvvv},null,8,xe)])])):r("",!0),o.value.skills_vvvv?(s(),n("div",we,[a("div",$e,[e[1]||(e[1]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"other skills")],-1)),a("p",{class:"card-text",innerHTML:o.value.skills_other},null,8,Ce)])])):r("",!0)]),o.value.contact?(s(),n($,{key:2},[e[2]||(e[2]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"contact")],-1)),a("p",Le,f(o.value.contact),1)],64)):r("",!0),o.value.availableFor.length>0?(s(),n($,{key:3},[e[3]||(e[3]=a("p",{class:"py-0 mb-2 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"Available for")],-1)),d(c(re),null,{default:m(()=>[(s(!0),n($,null,Q(o.value.availableFor,p=>(s(),y(c(Z),{class:"mr-2",bordered:!1},{default:m(()=>[b(f(p),1)]),_:2},1024))),256))]),_:1})],64)):r("",!0)]))}},je={class:"joined border-top pt-3"},Fe={key:0},Oe={key:1},He={__name:"BetaGammaUser",props:["data"],setup(t){return(o,l)=>(s(),n("div",je,[l[2]||(l[2]=a("p",{class:"joined mb-2"},"Using:",-1)),t.data.beta?(s(),n("div",Fe,[l[0]||(l[0]=b("vvvv beta since ")),a("b",null,f(t.data.beta),1)])):r("",!0),t.data.gamma?(s(),n("div",Oe,[l[1]||(l[1]=b("vvvv gamma since ")),a("b",null,f(t.data.gamma),1)])):r("",!0)]))}},Ne=["href"],Se={class:"mb-1 d-flex text-align-center"},Pe=["href"],Ee={class:"mb-1"},Re={__name:"PartOf",props:["data"],setup(t){return(o,l)=>(s(),n("div",null,[l[2]||(l[2]=a("div",{class:"mb-2"},"Part of",-1)),t.data.company?(s(),n("a",{key:0,href:"/business/"+t.data.company.name,onClick:l[0]||(l[0]=e=>c(ee)(t.data.company.name,e))},[a("div",Se,f(t.data.company.name),1)],8,Ne)):r("",!0),t.data.edu?(s(),n("a",{key:1,href:"/edu/"+t.data.edu.name,onClick:l[1]||(l[1]=e=>c(te)(t.data.edu.name,e))},[a("p",Ee,f(t.data.edu.name),1)],8,Pe)):r("",!0)]))}},Ue={key:0,class:"userView"},Ae={class:"row"},Be={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},Ve={class:"my-3"},De=["href"],qe={key:0,class:"text-muted mb-1"},Ge={class:"joined mb-2"},ze={class:"col-12 col-md-6 col-lg-8"},Ie={key:0,class:"mb-4 description"},Je={key:1},Ye={class:"card"},F=120,st={__name:"UserView",setup(t){const o=W();X();const l=o.params.username,e=v(null),p=v(null),h=v(null),C=v(null),k=v(!1),L=v(null),x=v({}),H=`?withoutEnlargement=true&quality=90&fit=cover&width=${F}&height=${F}`,B=`${w.GET_USERS}?filter[username][_eq]=${l}
            &fields=*,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value,related.social.*`,V=`${w.GET_COMPANIES}?filter[owner][username][_eq]=${l}&fields=name,logo`,D=`${w.GET_EDUS}?filter[owner][username][_eq]=${l}&fields=name,logo`;A(async()=>{k.value=!0;try{let i=await fetch(B),u=await i.json();if(!i.ok||u.data?.length==0)throw"Can't find a profile for this user";const g=u.data[0];document.title="Profile: "+g.username,e.value=g,C.value=e.value.userpic?`${O(e.value.userpic)}${H}`:null,p.value=g.related[0]?.hire,h.value=g.related[0]?.social,L.value=e.value.description;const I=[N(V),N(D)],[M,T]=await Promise.allSettled(I);M.status==="fulfilled"&&M.value&&(x.value.company=M.value),T.status==="fulfilled"&&T.value&&(x.value.edu=T.value)}catch(i){console.error(i)}finally{k.value=!1}});async function N(i){const u=await fetch(i),g=await u.json();return u.ok&&g.data?.length>0?{name:g.data[0].name,logo:g.data[0].logo?`${O(g.data[0].logo)}${H}`:null}:null}const q={year:"numeric",month:"short",day:"numeric"},G=_(()=>new Date(e.value.date_created).toLocaleString("en-US",q)),S=_(()=>({city:e.value.location_city,country:e.value.location_country})),P=_(()=>{const i=[e.value.name,e.value.surname].filter(Boolean).join(" ");return i||null}),z=_(()=>`${w.FORUM}u/${e.value.username}/summary`),E=_(()=>{const i={};return e.value.beta_since&&(i.beta=new Date(e.value.beta_since).getFullYear()),e.value.gamma_since&&(i.gamma=new Date(e.value.gamma_since).getFullYear()),Object.keys(i).length>0?i:null});return _(()=>{let i=null;return h.value?.website&&h.value.website!==""&&(i={name:le(h.value.website),link:ae(h.value.website)}),i}),(i,u)=>(s(),y(c(se),{show:k.value},{default:m(()=>[e.value?(s(),n("div",Ue,[a("div",Ae,[a("div",Be,[d(c(ne),{objectFit:"contain",round:"",size:F,src:C.value},null,8,["src"]),a("div",Ve,[a("h5",null,[b(f(e.value.username)+" ",1),a("a",{href:z.value,target:"_blank",class:"pl-2",alt:"Forum Profile"},[d(c(R),{trigger:"hover"},{trigger:m(()=>[d(c(U),null,{default:m(()=>[d(c(oe))]),_:1})]),default:m(()=>[u[0]||(u[0]=b(" Open Forum Profile "))]),_:1})],8,De)]),P.value?(s(),n("p",qe,f(P.value),1)):r("",!0)]),a("div",Ge,[d(c(R),{trigger:"hover"},{trigger:m(()=>[d(c(U),{size:"1.2rem",class:"mr-2"},{default:m(()=>[d(c(ve))]),_:1})]),default:m(()=>[u[1]||(u[1]=b(" Joined "))]),_:1}),b(" "+f(G.value),1)]),S.value?(s(),y(ce,{key:0,location:S.value},null,8,["location"])):r("",!0),Object.keys(x.value).length>0?(s(),y(Re,{key:1,data:x.value,class:"border-top pt-2 mt-4"},null,8,["data"])):r("",!0),h.value?(s(),y(ie,{key:2,class:"mt-4 mb-4 pt-3 border-top",social:h.value},null,8,["social"])):r("",!0),E.value?(s(),y(He,{key:3,data:E.value},null,8,["data"])):r("",!0)]),a("div",ze,[L.value?(s(),n("div",Ie,[d(he,{text:L.value,maxLength:255,clippedLength:100},null,8,["text"])])):r("",!0),p.value&&p.value.available?(s(),n("div",Je,[u[2]||(u[2]=a("h4",{class:"h4"},"Available for hire",-1)),a("div",Ye,[d(Te,{data:p.value},null,8,["data"])])])):r("",!0)])])])):r("",!0)]),_:1},8,["show"]))}};export{st as default};
