import{G as w,H as g,d as y,r as c,O as b,$ as k,c as E,a4 as x,a5 as H,a as r,f,b as _,s as A,o as a,K as l,h as u,ad as M,n as N,t as v,g as s,j as p}from"./app-profile-DxpktdD5.js";import{_ as B}from"./app-SocialView-CiFkk2eo.js";import{_ as C,a as S}from"./app-LocationFull-D571nAbb.js";const V="?withoutEnlargement=true&quality=90&fit=cover&width=120",I=g.BASEURL+"items/Edu?fields=*,social.*,owner.username&filter[name][_eq]=";async function L(d){const m=I+d,n=await fetch(m),e=await n.json();if(n.ok){if(e.data.length==0)throw"Can't find a profile for this Educational Institution";const t={...e.data[0]};return t.logo=t?.logo?w(t.logo)+V:null,t}else throw new Error("Can't load Profile")}const P={key:1},R={class:"row"},$={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},j={class:"mb-3"},T=["src"],U={class:"my-3"},q={key:0,class:"col-12 col-md-6 col-lg-8"},G=["innerHTML"],F={__name:"EduView",setup(d){const n=y().params.name,e=c(null),t=c(!1),i=c(null),h=["website","github","nuget","mastodon","pixelfed"];return b(async()=>{try{t.value=!0,i.value=null,e.value=await L(n),document.title="Profile: "+e.value.name,e.value.description=k(e.value.description)}catch(o){console.log(o),i.value="Something went wrong. Maybe an Institutional Institution is simply not yet confirmed."}finally{t.value=!1}}),E(()=>{let o=null;return e.value.social?.website&&e.value.social.website!==""&&(o={name:H(e.value.social.website),link:x(e.value.social.website)}),o}),(o,K)=>(a(),r(_(A),{show:t.value},{default:f(()=>[i.value?(a(),r(_(M),{key:0,title:"Hoppala",type:"warning"},{default:f(()=>[N(v(i.value),1)]),_:1})):l("",!0),e.value?(a(),u("div",P,[s("div",R,[s("div",$,[s("div",j,[e.value.logo?(a(),u("img",{key:0,src:e.value.logo,alt:"logo",class:"img-fluid"},null,8,T)):l("",!0),s("div",U,[s("h5",null,v(e.value.name),1)]),p(C,{data:e.value},null,8,["data"]),e.value.social?(a(),r(B,{key:1,class:"text-left mt-4 mb-4 pt-3 border-top",social:e.value.social,order:h},null,8,["social"])):l("",!0),p(S,{class:"text-left maintained mt-4 pt-3",data:e.value.owner},null,8,["data"])])]),e.value.description?(a(),u("div",q,[s("p",{innerHTML:e.value.description},null,8,G)])):l("",!0)])])):l("",!0)]),_:1},8,["show"]))}};export{F as default};
