import{n as _,R as h,q as y}from"./app.js";import{s as b}from"./app-ListStoreHelper-BWpTo4MB.js";import{a as r}from"./app-utils-IjCUxnmS.js";import{_ as S,a as k}from"./app-ListNavigation-CVP0T8-j.js";import{_ as v}from"./app-LogoListView-DrlkG0MO.js";import{k as B,w,f as C,c as L,b as u,J as p,_ as m,M as R,u as s,F as $,o as c}from"./app-vue-BNvXdoBb.js";import"./app-icons-B4RYEify.js";import"./app-Dropdown-CjLjgLKH.js";import"./app-is-browser-DqcmxZSF.js";import"./app-Tag-411bfkJT.js";import"./app-LinksHelper-B_PmFw0I.js";import"./app-logos-DmeRaywN.js";import"./app-lodash-Cpj98o6Y.js";import"./app-PerformantEllipsis-DHaNFeOI.js";import"./app-Ellipsis-05ZYDZs_.js";import"./app-defaultLogo-CbgmFOV4.js";import"./app-Location-DpZ7gFfT.js";import"./app-Internships-Dqplv1u4.js";const q=Object.create(b("business")),z=_("businessList",q),N={class:"row mb-2"},O={class:"col-12 col-lg-4"},Z={__name:"BusinessList",emits:["logout"],setup(P,{emit:V}){const n=y(),i=h(),e=z(),a=[{label:"10 per page",value:10},{label:"50 per page",value:50},{label:"100 per page",value:100}];B(async()=>{e.setSection("list"),await l(i.query)}),w(()=>i.query,async(t,o)=>{t!=o&&await l(i.query)},{deep:!0});async function l(t){if(t.b){r(t.b);return}else t.section&&e.setSection(t.section,t.type);try{await e.getData({page:0,size:a[0].value})}catch(o){console.log(o)}}function d(t){t=="connections"?n.push({name:"Businesses",query:{section:t,type:e.selectedConnection.key??"github"}}):t=="list"&&n.push({name:"Businesses",query:{section:t}})}function f(t){n.push({name:"Businesses",query:{section:e.selectedSection.key,type:t}})}const g=C(()=>{if(e.list?.list)return`${e.list.list.total} Businesses that use vvvv:`});return(t,o)=>(c(),L($,null,[u("div",N,[u("div",O,[R(S,{sections:s(e).sections,selected:s(e).selectedSection.key,onSelect:d},null,8,["sections","selected"])])]),s(e).selectedSection.key=="list"?(c(),p(v,{key:0,loading:s(e).loading,list:s(e).list?.list,title:g.value,onClick:s(r)},null,8,["loading","list","title","onClick"])):m("",!0),s(e).selectedSection.key=="connections"?(c(),p(k,{key:1,list:s(e).list?.connections,options:s(e).socialOptions,connection:s(e).selectedConnection,pageSizes:a,loading:s(e).loading,connectionKey:"business",onChange:f,onPage:s(e).getData},null,8,["list","options","connection","loading","onPage"])):m("",!0)],64))}};export{Z as default};
