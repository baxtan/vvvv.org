import{ac as se,G as ne,u as oe,p as Y,q as re,s as ie,ad as ue,D as K,ae as G,a5 as I,af as de,ag as Z,ah as ee,ai as W,ab as ce,a6 as O,aj as me,ak as ve,al as pe,aa as fe,a7 as ge,a8 as Q,am as he}from"./app.js";import{g as ye}from"./app-get-slot-Bk_rJcZu.js";import{d as be,h as X,C as _e,f as y,c as r,o as n,a1 as u,b as l,F as H,R as h,Q as b,P as g,S as ae,N as T,u as v,x as C,a2 as ke,r as x,l as we,a3 as $e}from"./app-vue-Chj5ZsMy.js";import{_ as xe}from"./app-SocialView-B3NNHe5C.js";import{_ as Ce}from"./app-Location-D9MLfHo3.js";import{f as Ee}from"./app-icons-DRCsUfN5.js";import"./app-lodash-Cpj98o6Y.js";import"./app-LinksHelper-CkUh4jxH.js";const Se={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"};function je(){return Se}const Fe={self:je};let q;function Te(){if(!se)return!0;if(q===void 0){const e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);const o=e.scrollHeight===1;return document.body.removeChild(e),q=o}return q}const Re=Object.assign(Object.assign({},Y.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemClass:String,itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),Le=be({name:"Space",props:Re,setup(e){const{mergedClsPrefixRef:o,mergedRtlRef:s}=oe(e),a=Y("Space","-space",void 0,Fe,e,o),t=re("Space",s,o);return{useGap:Te(),rtlEnabled:t,mergedClsPrefix:o,margin:y(()=>{const{size:d}=e;if(Array.isArray(d))return{horizontal:d[0],vertical:d[1]};if(typeof d=="number")return{horizontal:d,vertical:d};const{self:{[ie("gap",d)]:E}}=a.value,{row:p,col:k}=ue(E);return{horizontal:K(k),vertical:K(p)}})}},render(){const{vertical:e,reverse:o,align:s,inline:a,justify:t,itemClass:d,itemStyle:E,margin:p,wrap:k,mergedClsPrefix:S,rtlEnabled:R,useGap:w,wrapItem:N,internalUseGap:U}=this,L=ne(ye(this),!1);if(!L.length)return null;const P=`${p.horizontal}px`,B=`${p.horizontal/2}px`,z=`${p.vertical}px`,$=`${p.vertical/2}px`,j=L.length-1,F=t.startsWith("space-");return X("div",{role:"none",class:[`${S}-space`,R&&`${S}-space--rtl`],style:{display:a?"inline-flex":"flex",flexDirection:e&&!o?"column":e&&o?"column-reverse":!e&&o?"row-reverse":"row",justifyContent:["start","end"].includes(t)?`flex-${t}`:t,flexWrap:!k||e?"nowrap":"wrap",marginTop:w||e?"":`-${$}`,marginBottom:w||e?"":`-${$}`,alignItems:s,gap:w?`${p.vertical}px ${p.horizontal}px`:""}},!N&&(w||U)?L:L.map((M,_)=>M.type===_e?M:X("div",{role:"none",class:d,style:[E,{maxWidth:"100%"},w?"":e?{marginBottom:_!==j?z:""}:R?{marginLeft:F?t==="space-between"&&_===j?"":B:_!==j?P:"",marginRight:F?t==="space-between"&&_===0?"":B:"",paddingTop:$,paddingBottom:$}:{marginRight:F?t==="space-between"&&_===j?"":B:_!==j?P:"",marginLeft:F?t==="space-between"&&_===0?"":B:"",paddingTop:$,paddingBottom:$}]},M)))}}),Be={class:"card-body"},Me=["src"],Oe=["innerHTML"],Pe={class:"row"},ze={key:0,class:"col-12 col-lg-6"},Ge={class:"pr-lg-2"},He=["innerHTML"],Ne={key:1,class:"col-12 col-lg-6"},Ue={class:"pl-lg-2"},Ae=["innerHTML"],Ve={class:"card-text"},qe="?withoutEnlargement=true&quality=90&fit=cover&width=720",De={__name:"HireView",props:{data:Object,contact:String},setup(e){const o=y(()=>e.data?{description:G(e.data.description),contact:e.data.contact,skills_vvvv:G(e.data.skills_vvvv),skills_other:G(e.data.skills_other),image:e.data.image?I(e.data.image)+qe:null,availableFor:e.data.availableFor?e.data.availableFor.map(s=>s.AvailableFor_Options_id?s.AvailableFor_Options_id.value:""):[]}:{});return(s,a)=>(n(),r("div",Be,[o.value.image?(n(),r("img",{key:0,src:o.value.image,class:"img-fluid pt-2 mb-4"},null,8,Me)):u("",!0),o.value.description?(n(),r("p",{key:1,class:"card-text",innerHTML:o.value.description},null,8,Oe)):u("",!0),l("div",Pe,[o.value.skills_vvvv?(n(),r("div",ze,[l("div",Ge,[a[0]||(a[0]=l("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[l("b",null,"vvvv skills")],-1)),l("p",{class:"card-text",innerHTML:o.value.skills_vvvv},null,8,He)])])):u("",!0),o.value.skills_other?(n(),r("div",Ne,[l("div",Ue,[a[1]||(a[1]=l("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[l("b",null,"other skills")],-1)),l("p",{class:"card-text",innerHTML:o.value.skills_other},null,8,Ae)])])):u("",!0)]),o.value.contact?(n(),r(H,{key:2},[a[2]||(a[2]=l("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[l("b",null,"contact")],-1)),l("p",Ve,h(o.value.contact),1)],64)):u("",!0),o.value.availableFor.length>0?(n(),r(H,{key:3},[a[3]||(a[3]=l("p",{class:"py-0 mb-2 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[l("b",null,"Available for")],-1)),b(v(Le),null,{default:g(()=>[(n(!0),r(H,null,ae(o.value.availableFor,t=>(n(),T(v(de),{class:"mr-2",bordered:!1},{default:g(()=>[C(h(t),1)]),_:2},1024))),256))]),_:1})],64)):u("",!0)]))}},Ie={class:"joined border-top pt-3"},We={key:0},Je={key:1},Ke={__name:"BetaGammaUser",props:["data"],setup(e){return(o,s)=>(n(),r("div",Ie,[s[2]||(s[2]=l("p",{class:"joined mb-2"},"Using",-1)),e.data.beta?(n(),r("div",We,[s[0]||(s[0]=C("vvvv beta since ")),l("b",null,h(e.data.beta),1)])):u("",!0),e.data.gamma?(n(),r("div",Je,[s[1]||(s[1]=C("vvvv gamma since ")),l("b",null,h(e.data.gamma),1)])):u("",!0)]))}},Qe=["href"],Xe={class:"mb-1 d-flex text-align-center"},Ye=["href"],Ze={class:"mb-1"},ea={__name:"Maintains",props:["data"],setup(e){return(o,s)=>(n(),r("div",null,[s[2]||(s[2]=l("p",{class:"text-muted mb-1 border-top pt-3 smallTitle"},"Maintains",-1)),e.data.company?(n(),r("a",{key:0,href:"/business/"+e.data.company.slug,onClick:s[0]||(s[0]=a=>v(Z)(e.data.company.slug,a))},[l("div",Xe,h(e.data.company.name),1)],8,Qe)):u("",!0),e.data.edu?(n(),r("a",{key:1,href:"/edu/"+e.data.edu.slug,onClick:s[1]||(s[1]=a=>v(ee)(e.data.edu.slug,a))},[l("p",Ze,h(e.data.edu.name),1)],8,Ye)):u("",!0)]))}},aa={class:"mb-2"},ta=["href","onClick"],la={__name:"AffiliatedWith",props:["data"],setup(e){function o(s){s.isEdu?ee(s.slug):Z(s.slug)}return(s,a)=>(n(),r("div",null,[a[0]||(a[0]=l("p",{class:"text-muted mb-1 border-top pt-3 smallTitle"},"Affiliated with",-1)),(n(!0),r(H,null,ae(e.data,t=>(n(),r("div",aa,[b(v(W),{trigger:"hover",disabled:!t.role,placement:"top-start"},{trigger:g(()=>[l("a",{href:t.link,onClick:ke(d=>o(t),["prevent"])},h(t.name),9,ta)]),default:g(()=>[C(" "+h(t.role),1)]),_:2},1032,["disabled"])]))),256))]))}},sa={key:0,class:"userView"},na={class:"row"},oa={class:"col-12 col-md-6 col-lg-4 mb-4"},ra={class:"my-3"},ia=["href"],ua={key:0,class:"text-muted mb-1"},da={class:"joined mb-2"},ca={class:"col-12 col-md-6 col-lg-8 mt-md-0 pt-md-0 profileContent"},ma={key:0,class:"border-top d-flex d-md-none mt-2 mb-4"},va={key:1,class:"mb-4 description"},pa=["innerHTML"],fa={key:2},ga={key:0,class:"card"},D=120,Ca={__name:"UserView",setup(e){const o=ce();fe();const s=o.params.username,a=x(null),t=x(null),d=x(null),E=x(null),p=x(!1),k=x(null),S=x({}),R=x([]),w=`?withoutEnlargement=true&quality=90&fit=cover&width=${D}&height=${D}`,N=`${O.GET_USERS}?filter[username][_eq]=${s}
            &fields=*,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value,related.social.*`,U=`${O.GET_COMPANIES}?filter[owner][username][_eq]=${s}&fields=name,slug`,L=`${O.GET_EDUS}?filter[owner][username][_eq]=${s}&fields=name,slug`,P=`${O.GET_USER_ROLES}?fields=Company.Company_id.name,Company.Company_id.slug,Edu.Edu_id.name,Edu.Edu_id.slug,role&filter[user_id][id][_eq]=`;we(async()=>{p.value=!0,window.scrollTo({top:0,left:0,behavior:"smooth"});try{let i=await fetch(N),c=await i.json();if(!i.ok||c.data?.length==0)throw"Can't find a profile for this user";const m=c.data[0];document.title="Profile: "+m.username,a.value=m,E.value=a.value.userpic?`${I(a.value.userpic)}${w}`:null,t.value=m.related[0]?.hire,d.value=m.related[0]?.social,k.value=G(a.value.description);const f=[z(U),z(L)],[A,V]=await Promise.allSettled(f);A.status==="fulfilled"&&A.value&&(S.value.company=A.value),V.status==="fulfilled"&&V.value&&(S.value.edu=V.value),await B(P+a.value.id)}catch(i){console.error(i)}finally{p.value=!1}});async function B(i){const c=await fetch(i),m=await c.json();c.ok&&m.data?.length>0&&(R.value=m.data.map(f=>{if(f.Company[0])return{name:f.Company[0].Company_id.name,slug:f.Company[0].Company_id.slug,role:f.role,link:"/business/"+f.Company[0].Company_id.slug,isEdu:!1};if(f.Edu[0])return{name:f.Edu[0].Edu_id.name,slug:f.Edu[0].Edu_id.slug,role:f.role,link:"/edu/"+f.Edu[0].Edu_id.slug,isEdu:!0}}))}async function z(i){const c=await fetch(i),m=await c.json();return c.ok&&m.data?.length>0?{name:m.data[0].name,logo:m.data[0].logo?`${I(m.data[0].logo)}${w}`:null,slug:m.data[0].slug}:null}const $={year:"numeric",month:"short",day:"numeric"},j=y(()=>new Date(a.value.date_created).toLocaleString("en-US",$)),F=y(()=>({city:a.value.location_city,country:a.value.location_country})),M=y(()=>{const i=[a.value.name,a.value.surname].filter(Boolean).join(" ");return i||null}),_=y(()=>`${O.FORUM}u/${a.value.username}/summary`),J=y(()=>{const i={beta:a.value.beta_since,gamma:a.value.gamma_since};return i.beta||i.gamma?i:null});y(()=>{let i=null;return d.value?.website&&d.value.website!==""&&(i={name:ve(d.value.website),link:me(d.value.website)}),i});const te=y(()=>t.value.skills_other||t.value.skills_vvvv||t.value.contact||t.value.availableFor&&t.value.availableFor.length>0||t.value.description||t.value.image),le=y(()=>Object.values(d.value).some(i=>i!==null&&i!=""));return(i,c)=>(n(),T(v(pe),{show:p.value},{default:g(()=>[a.value?(n(),r("div",sa,[l("div",na,[l("div",oa,[b(v(ge),{objectFit:"contain",round:"",size:D,src:E.value,class:$e({noImageBack:E.value!==null})},null,8,["src","class"]),l("div",ra,[l("h5",null,[C(h(a.value.username)+" ",1),l("a",{href:_.value,target:"_blank",class:"pl-2",alt:"Forum Profile"},[b(v(W),{trigger:"hover"},{trigger:g(()=>[b(v(Q),null,{default:g(()=>[b(v(he))]),_:1})]),default:g(()=>[c[0]||(c[0]=C(" Open Forum Profile "))]),_:1})],8,ia)]),M.value?(n(),r("p",ua,h(M.value),1)):u("",!0)]),l("div",da,[b(v(W),{trigger:"hover"},{trigger:g(()=>[b(v(Q),{size:"1.2rem",class:"mr-2"},{default:g(()=>[b(v(Ee))]),_:1})]),default:g(()=>[c[1]||(c[1]=C(" Joined "))]),_:1}),C(" "+h(j.value),1)]),F.value?(n(),T(Ce,{key:0,location:F.value,class:"pb-2"},null,8,["location"])):u("",!0),R.value.length>0?(n(),T(la,{key:1,data:R.value,class:"mb-3"},null,8,["data"])):u("",!0),le.value?(n(),T(xe,{key:2,class:"my-1 py-2 border-top",social:d.value},null,8,["social"])):u("",!0),Object.keys(S.value).length>0?(n(),T(ea,{key:3,data:S.value,class:"mb-3"},null,8,["data"])):u("",!0),J.value?(n(),T(Ke,{key:4,data:J.value},null,8,["data"])):u("",!0)]),l("div",ca,[k.value&&t.value&&t.value.available?(n(),r("div",ma)):u("",!0),k.value?(n(),r("div",va,[l("p",{innerHTML:k.value},null,8,pa)])):u("",!0),t.value&&t.value.available?(n(),r("div",fa,[c[2]||(c[2]=l("h4",{class:"h4 mt-4 mt-sm-0"},"Available for hire",-1)),te.value?(n(),r("div",ga,[b(De,{data:t.value},null,8,["data"])])):u("",!0)])):u("",!0)])])])):u("",!0)]),_:1},8,["show"]))}};export{Ca as default};
