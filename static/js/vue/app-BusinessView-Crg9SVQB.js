import{ac as v,ad as y,r as f,aD as _,b as w,ae as c,an as d,af as s,as as n,M as p,az as b,ax as h,ag as u,am as g,ai as m,aJ as k,aq as $,ap as x,ay as B,ah as C,aF as L}from"./app.js";import{_ as j,a as A}from"./app-LocationFull-DgV_pOB8.js";import{_ as M}from"./app-SocialView-Ba6d-CcE.js";import{_ as E}from"./app-Internships-DTp7ZjkH.js";import"./app-LocationOutline-DNQ6lrCI.js";import"./app-CheckmarkCircle-Bc_kYk8y.js";const P="?withoutEnlargement=true&quality=90&fit=cover&width=120",H=y.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function N(a){const l=H+a,o=await fetch(l);if(o.ok){const e=await o.json();if(e.data.length==0)throw"Can't find a profile for this company";const t={...e.data[0]};return t.logo=t?.logo?v(t.logo)+P:null,t}else throw new Error("Can't load Profile")}const R={key:0,class:"my-3 pt-2 border-top"},S={key:0,class:"mb-1"},V=["href"],q={__name:"Links",props:["data"],setup(a){const l=a,o=f([{name:"Contact",url:_(l.data.contact_url)},{name:"Projects",url:_(l.data.projects_url)},{name:"Jobs",url:_(l.data.jobs_url)}]),e=w(()=>o.value.some(t=>t.url!=null||""));return(t,i)=>e.value?(s(),c("div",R,[i[0]||(i[0]=n("p",{class:"text-muted mb-2"},"Direct links:",-1)),(s(!0),c(p,null,b(o.value,r=>(s(),c(p,{key:r.name},[r.url?(s(),c("p",S,[n("a",{href:r.url,target:"_blank"},h(r.name),9,V)])):d("",!0)],64))),128))])):d("",!0)}},D=["src"],T={class:"my-3"},U={__name:"InstitutionBasics",props:["data"],setup(a){return(l,o)=>(s(),c("div",null,[n("img",{src:a.data.logo||m(k),alt:"logo",class:"img-fluid"},null,8,D),n("div",T,[n("h5",null,h(a.data.name),1)]),u(j,{data:a.data},null,8,["data"]),Object.keys(a.data.social).length>0?(s(),g(M,{key:0,class:"mt-4 mb-4 pt-3 border-top",social:a.data.social},null,8,["social"])):d("",!0),u(E,{data:a.data.internships,text:"Accepting internship applications"},null,8,["data"]),u(q,{class:"links",data:a.data},null,8,["data"]),u(A,{class:"maintained mt-4 pt-3 border-top",data:a.data.owner},null,8,["data"])]))}},F={key:0},I={class:"row"},J={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},z={key:0,class:"col-12 col-md-6 col-lg-8 profileContent"},G=["innerHTML"],aa={__name:"BusinessView",setup(a){const o=$().params.name,e=f(null),t=f(!1);let i;return x(async()=>{window.scrollTo({top:0,left:0,behavior:"smooth"});try{t.value=!0,e.value=await N(o),document.title="Profile: "+e.value.name,i=B(e.value.description)}catch(r){console.log(r)}finally{t.value=!1}}),(r,O)=>(s(),g(m(L),{show:t.value},{default:C(()=>[e.value?(s(),c("div",F,[n("div",I,[n("div",J,[u(U,{class:"mb-3",data:e.value},null,8,["data"])]),m(i)?(s(),c("div",z,[n("p",{innerHTML:m(i)},null,8,G)])):d("",!0)])])):d("",!0)]),_:1},8,["show"]))}};export{aa as default};
