import{ab as _,ag as r,aa as h}from"./app.js";import{u as y}from"./app-BusinessListStore-DjD9MDDt.js";import{_ as v,a as B}from"./app-ListNavigation-CmiNlWef.js";import{_ as S}from"./app-LogoListView-Crfn58bp.js";import{l as b,w as k,f as w,c as C,b as u,N as p,a1 as m,Q as N,u as t,F as $,o as a}from"./app-vue-Chj5ZsMy.js";import"./app-icons-DRCsUfN5.js";import"./app-lodash-Cpj98o6Y.js";import"./app-ListStoreHelper-DQXIkizt.js";import"./app-LinksHelper-CkUh4jxH.js";import"./app-Location-CJMxaFW1.js";import"./app-Internships-B7scWU79.js";const z={class:"row mb-2"},L={class:"col-12 col-lg-4"},j={__name:"BusinessList",setup(P){const n=h(),i=_(),e=y(),c=[{label:"10 per page",value:10},{label:"50 per page",value:50},{label:"100 per page",value:100}];b(async()=>{e.setSection("list"),await l(i.query)}),k(()=>i.query,async(s,o)=>{s!=o&&await l(i.query)},{deep:!0});async function l(s){if(s.b){r(s.b);return}else s.section&&e.setSection(s.section,s.type);try{await e.getData({page:0,size:c[0].value})}catch(o){console.log(o)}}function d(s){s=="connections"?n.push({name:"Businesses",query:{section:s,type:e.selectedConnection.key??"github"}}):s=="list"&&n.push({name:"Businesses",query:{section:s}})}function g(s){n.push({name:"Businesses",query:{section:e.selectedSection.key,type:s}})}const f=w(()=>{if(e.list?.list)return`${e.list.list.total} Businesses that use vvvv:`});return(s,o)=>(a(),C($,null,[u("div",z,[u("div",L,[N(v,{sections:t(e).sections,selected:t(e).selectedSection.key,onSelect:d},null,8,["sections","selected"])])]),t(e).selectedSection.key=="list"?(a(),p(S,{key:0,loading:t(e).loading,list:t(e).list?.list,title:f.value,onClick:t(r)},null,8,["loading","list","title","onClick"])):m("",!0),t(e).selectedSection.key=="connections"?(a(),p(B,{key:1,list:t(e).list?.connections,options:t(e).socialOptions,connection:t(e).selectedConnection,pageSizes:c,loading:t(e).loading,connectionKey:"business",onChange:g,onPage:t(e).getData},null,8,["list","options","connection","loading","onPage"])):m("",!0)],64))}};export{j as default};
