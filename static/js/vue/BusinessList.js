import{af as d,r,ao as p,ap as g,aj as v,ai as c,ax as y,ay as B,ac as e,ab as t,aq as l,ad as n,as as u,M as C,au as w,aA as E,az as S,ag as k}from"./app.js";import{_ as F}from"./Location.js";import"./LocationOutline.js";const R=d.BASEURL+"items/Company?fields=*&sort=name&meta=filter_count",b="withoutEnlargement=true&fit=inside&height=50&quality=90&format=auto";function N(a){return a?`${d.ASSETS}${a}?${b}`:null}async function Q(){const a=await fetch(R);if(a.ok){const A=await a.json(),s=A.data;return s.forEach(o=>{o.logo=N(o.logo)}),{companies:s,count:A.meta?.filter_count??0}}else throw Error("Connection Error")}const U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFeXl5AAAAa7+IbgAAAFhJREFUeNrswQEBAAAAgJD+r+4ICgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFgAAQYAAQ8AAbQIco0AAAAASUVORK5CYII=",I={key:0,class:"businesses"},L={key:0},V={class:"row"},Z=["onClick"],G={class:"company"},T={class:"logo"},J=["src"],O={class:"name"},$="col-12 col-sm-6 col-md-4 col-lg-3 my-2",Y={__name:"BusinessList",setup(a){B();const A=r(null),s=r(!0);return p(async()=>{try{s.value=!0,A.value=await Q()}catch(o){console.log(o)}finally{s.value=!1}}),(o,j)=>(e(),g(c(y),{show:s.value},{default:v(()=>[!s.value&&A.value?(e(),t("div",I,[A.value?(e(),t("p",L,"A list of "+u(A.value.count)+" businesses that use vvvv.",1)):l("",!0),n("div",V,[(e(!0),t(C,null,w(A.value.companies,({name:i,description:x,logo:m,location_city:_,location_country:f})=>(e(),t("div",{"track-by":"name",class:E($)},[n("div",{class:"companyCard p-3",onClick:h=>c(S)(i,h)},[n("div",G,[n("div",T,[o.profilepic!==null?(e(),t("img",{key:0,src:m||c(U)},null,8,J)):l("",!0)]),n("p",O,u(i),1),k(F,{location:{city:_,country:f}},null,8,["location"])])],8,Z)]))),256))])])):l("",!0)]),_:1},8,["show"]))}};export{Y as default};
