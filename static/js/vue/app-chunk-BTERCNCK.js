import{r as g,o as v,M as w,K as E,O as S,L as a,H as r,G as i,a0 as u,I as n,Q as d,F as k,R as C,a3 as L,P as N}from"./app-chunk-DZzY5mmt.js";import{ac as $,$ as m,a6 as f,a9 as B}from"./app.js";import{d as G}from"./app-chunk-CbgmFOV4.js";import{_ as T}from"./app-chunk-CA3p6NB0.js";import"./app-chunk-CH2Cnt03.js";import"./app-chunk-OBQLImDs.js";import"./app-chunk-cNDEcVgS.js";const V=$("eduList",{state:()=>({items:[],total:null,fetched:!1}),actions:{async fetch(e=!1){if(!(this.fetched&&!e))try{const{items:t,total:s}=await O();this.items=t,this.total=s,this.fetched=!0}catch{this.fetched=!1}}}}),q=m.GET_EDUS+"?fields=*&sort=name&meta=filter_count",x="withoutEnlargement=true&fit=inside&height=50&quality=90&format=auto";async function O(){const e=await fetch(q);if(e.ok){const t=await e.json(),s=t.data;return s.forEach(o=>{o.logo=j(o.logo)}),{items:s,total:t.meta?.filter_count??0}}else throw new Error("Connection Error")}function j(e){return e?`${m.ASSETS}${e}?${x}`:null}const D={key:0,class:"logoListView"},F={key:0},I={class:"row"},M=["onClick"],P={class:"company"},R={class:"logo"},b=["src"],z={class:"name"},A="col-12 col-sm-6 col-md-4 col-lg-3 my-2",tt={__name:"EduList",setup(e){const t=g(!0),s=w(),o=V();return v(async()=>{if(s.query.e){f(s.query.e);return}try{t.value=!0,await o.fetch()}catch(c){console.log(c)}finally{t.value=!1}}),(c,H)=>(r(),E(a(B),{show:t.value},{default:S(()=>[!t.value&&a(o)?(r(),i("div",D,[a(o).total>0?(r(),i("p",F,d(a(o).total)+" educational institutions teaching vvvv:",1)):u("",!0),n("div",I,[(r(!0),i(k,null,C(a(o).items,({name:l,description:K,logo:h,location_city:_,location_country:p})=>(r(),i("div",{"track-by":"name",class:L(A)},[n("div",{class:"companyCard p-3",onClick:y=>a(f)(l,y)},[n("div",P,[n("div",R,[n("img",{src:h||a(G)},null,8,b)]),n("p",z,d(l),1),N(T,{location:{city:_,country:p}},null,8,["location"])])],8,M)]))),256))])])):u("",!0)]),_:1},8,["show"]))}};export{tt as default};
