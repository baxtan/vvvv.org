import{ac as k,H as F,r as f,O as _,G as w,$ as m,h as i,K as c,o as l,g as n,j as d,t as u,f as h,b as r,Z as H,F as y,l as b,a as g,a0 as N,n as C,a1 as S,J as x,s as E}from"./app-profile-DxpktdD5.js";import{_ as L}from"./app-Location-DA6Md2aj.js";const $=k("forHireList",{state:()=>({items:[],total:0,fetched:!1}),actions:{async fetch(e=!1){if(!(this.fetched&&!e))try{const{items:a,total:s}=await p();this.items=a,this.total=s,this.fetched=!0}catch{this.fetched=!1}}}}),j=F.GET_USERS+`?fields=*,related.social.contact,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value
&filter[related][hire][available][_eq]=true&sort=username&meta=filter_count`;async function p(){const e=await fetch(j),a=await e.json();if(e.ok)return{items:a.data.map(t=>{const o=[t.name,t.surname].filter(Boolean).join(" ");return{username:t.username,name:o??null,contact:t.related[0].social??null,location:{city:t.location_city,country:t.location_country},hire:t.related[0].hire??null}}),total:a.meta?.filter_count??0};throw Error("Connection Error")}const B={class:"imageContainer"},O=["src","alt"],T={class:"card-body"},A={class:"card-title"},U={class:"card-text"},V=["innerHTML"],M={key:0,class:"mt-2"},D={__name:"ForHireCard",props:{data:Object},setup(e){const a=f(null);return _(()=>{e.data.hire&&(a.value={description:m(e.data.hire.description),contact:e.data.hire.contact,skills_vvvv:m(e.data.hire.skills_vvvv),skills_other:m(e.data.hire.skills_other),image:e.data.hire.image?w(e.data.hire.image):null,availableFor:e.data.hire.availableFor?e.data.hire.availableFor.map(s=>s.AvailableFor_Options_id?s.AvailableFor_Options_id.value:""):[]})}),(s,t)=>a.value?(l(),i("div",{key:0,class:"card mb-5",onClick:t[0]||(t[0]=o=>r(x)(e.data.username,o))},[n("div",B,[a.value.image?(l(),i("img",{key:0,src:a.value.image,class:"card-img-top",alt:e.data.username},null,8,O)):c("",!0)]),n("div",T,[n("h4",A,u(e.data.username),1),n("p",U,u(e.data.title),1),d(r(H),{"line-clamp":"3",tooltip:"false"},{default:h(()=>[n("span",{innerHTML:a.value.skills_vvvv},null,8,V)]),_:1}),a.value.availableFor.length>0?(l(),i("div",M,[d(r(S),null,{default:h(()=>[(l(!0),i(y,null,b(a.value.availableFor,o=>(l(),g(r(N),{bordered:!1},{default:h(()=>[C(u(o),1)]),_:2},1024))),256))]),_:1})])):c("",!0),d(L,{location:e.data.location,class:"border-top pt-2 mt-3"},null,8,["location"])])])):c("",!0)}},G={key:0},P={key:0},q={class:"row"},R={__name:"ForHireList",setup(e){const a=f(!0),s=$();return _(async()=>{try{a.value=!0,await s.fetch()}catch(t){console.log(t)}finally{a.value=!1}}),(t,o)=>(l(),g(r(E),{show:a.value},{default:h(()=>[!a.value&&r(s)?(l(),i("div",G,[r(s).total>0?(l(),i("p",P,u(r(s).total)+" professional vvvv users available for hire:",1)):c("",!0),n("div",q,[(l(!0),i(y,null,b(r(s).items,v=>(l(),i("div",{id:"UsersForHire",class:"col-md-6 col-lg-4 col-12",key:v.username},[d(D,{data:v},null,8,["data"])]))),128))])])):c("",!0)]),_:1},8,["show"]))}};export{R as default};
