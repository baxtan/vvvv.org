import{ae as h,ak as u,af as y}from"./app.js";import{u as B}from"./app-BusinessListStore-CNxD6-Fu.js";import{_ as k,a as g,b as w}from"./app-ConnectionListView-BPpb5aoj.js";import{l as C,w as S,f as v,N as a,P as b,u as t,O as N,o as n,b as p,c as $,a1 as l,Q as x,F as L}from"./app-vue-Chj5ZsMy.js";import"./app-icons-DRCsUfN5.js";import"./app-lodash-Cpj98o6Y.js";import"./app-ListStoreHelper-CRUkMKDL.js";import"./app-LinksHelper-C0DPfYCg.js";import"./app-Location-BjG01-we.js";import"./app-Internships-L3loBx4R.js";const R={class:"row mb-2"},V={class:"col-12 col-lg-4"},G={__name:"BusinessList",setup(q){const i=y(),c=h(),e=B();C(async()=>{e.setSection("list"),await r(c.query)}),S(()=>c.query,async(s,o)=>{s!=o&&await r(c.query)},{deep:!0});async function r(s){if(s.b){u(s.b);return}else s.section&&e.setSection(s.section,s.type);try{await e.getData()}catch(o){console.log(o)}}function m(s){s=="connections"?i.push({name:"Businesses",query:{section:s,type:e.selectedConnection.key??"github"}}):s=="list"&&i.push({name:"Businesses",query:{section:s}})}function f(s){i.push({name:"Businesses",query:{section:e.selectedSection.key,type:s}})}const _=v(()=>{if(e.list?.list)return`${e.list.list.total} Businesses that use vvvv:`});return(s,o)=>{const d=N("n-spin");return n(),a(d,{show:t(e).loading},{default:b(()=>[p("div",R,[p("div",V,[x(k,{sections:t(e).sections,selected:t(e).selectedSection.key,onSelect:m},null,8,["sections","selected"])])]),!t(e).loading&&t(e).list?(n(),$(L,{key:0},[t(e).selectedSection.key=="list"?(n(),a(g,{key:0,list:t(e).list.list,title:_.value,onClick:t(u)},null,8,["list","title","onClick"])):l("",!0),t(e).selectedSection.key=="connections"?(n(),a(w,{key:1,list:t(e).list.connections,options:t(e).socialOptions,connection:t(e).selectedConnection,title:"Businesses on other platforms:",type:"Business",onChange:f},null,8,["list","options","connection"])):l("",!0)],64)):l("",!0)]),_:1},8,["show"])}}};export{G as default};
