import{a8 as X,M as Y,u as Z,p as K,q as ee,s as ae,a9 as te,K as I,aa as P,a1 as q,ab as le,ac as se,ad as ne,a6 as oe,a2 as E,ae as re,af as ie,ag as ue,a7 as ce,a3 as de,ah as D,a4 as W,ai as me}from"./app.js";import{g as ve}from"./app-get-slot-Bk_rJcZu.js";import{d as pe,h as J,C as fe,f as h,c as u,o,a0 as i,b as t,F as z,Q as b,P as g,O as y,R as ge,M as T,u as v,v as B,r as M,l as he,a2 as ye}from"./app-vue-Xxh2fRfP.js";import{_ as be}from"./app-SocialView-CnESZXIy.js";import{_ as _e}from"./app-Location-DxeEY2TD.js";import{f as we}from"./app-icons-BZh4fiAY.js";import"./app-lodash-Cpj98o6Y.js";const $e={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"};function ke(){return $e}const xe={self:ke};let A;function Se(){if(!X)return!0;if(A===void 0){const e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);const l=e.scrollHeight===1;return document.body.removeChild(e),A=l}return A}const Ce=Object.assign(Object.assign({},K.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemClass:String,itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),Me=pe({name:"Space",props:Ce,setup(e){const{mergedClsPrefixRef:l,mergedRtlRef:s}=Z(e),a=K("Space","-space",void 0,xe,e,l),r=ee("Space",s,l);return{useGap:Se(),rtlEnabled:r,mergedClsPrefix:l,margin:h(()=>{const{size:c}=e;if(Array.isArray(c))return{horizontal:c[0],vertical:c[1]};if(typeof c=="number")return{horizontal:c,vertical:c};const{self:{[ae("gap",c)]:_}}=a.value,{row:m,col:w}=te(_);return{horizontal:I(w),vertical:I(m)}})}},render(){const{vertical:e,reverse:l,align:s,inline:a,justify:r,itemClass:c,itemStyle:_,margin:m,wrap:w,mergedClsPrefix:$,rtlEnabled:j,useGap:k,wrapItem:H,internalUseGap:N}=this,x=Y(ve(this),!1);if(!x.length)return null;const R=`${m.horizontal}px`,F=`${m.horizontal/2}px`,O=`${m.vertical}px`,p=`${m.vertical/2}px`,S=x.length-1,C=r.startsWith("space-");return J("div",{role:"none",class:[`${$}-space`,j&&`${$}-space--rtl`],style:{display:a?"inline-flex":"flex",flexDirection:e&&!l?"column":e&&l?"column-reverse":!e&&l?"row-reverse":"row",justifyContent:["start","end"].includes(r)?`flex-${r}`:r,flexWrap:!w||e?"nowrap":"wrap",marginTop:k||e?"":`-${p}`,marginBottom:k||e?"":`-${p}`,alignItems:s,gap:k?`${m.vertical}px ${m.horizontal}px`:""}},!H&&(k||N)?x:x.map((L,n)=>L.type===fe?L:J("div",{role:"none",class:c,style:[_,{maxWidth:"100%"},k?"":e?{marginBottom:n!==S?O:""}:j?{marginLeft:C?r==="space-between"&&n===S?"":F:n!==S?R:"",marginRight:C?r==="space-between"&&n===0?"":F:"",paddingTop:p,paddingBottom:p}:{marginRight:C?r==="space-between"&&n===S?"":F:n!==S?R:"",marginLeft:C?r==="space-between"&&n===0?"":F:"",paddingTop:p,paddingBottom:p}]},L)))}}),Be={class:"card-body"},Fe=["src"],Te=["innerHTML"],je={class:"row"},Le={key:0,class:"col-12 col-lg-6"},Re={class:"pr-lg-2"},Oe=["innerHTML"],Ee={key:1,class:"col-12 col-lg-6"},Pe={class:"pl-lg-2"},ze=["innerHTML"],He={class:"card-text"},Ne="?withoutEnlargement=true&quality=90&fit=cover&width=720",Ge={__name:"HireView",props:{data:Object,contact:String},setup(e){const l=h(()=>e.data?{description:P(e.data.description),contact:e.data.contact,skills_vvvv:P(e.data.skills_vvvv),skills_other:P(e.data.skills_other),image:e.data.image?q(e.data.image)+Ne:null,availableFor:e.data.availableFor?e.data.availableFor.map(s=>s.AvailableFor_Options_id?s.AvailableFor_Options_id.value:""):[]}:{});return(s,a)=>(o(),u("div",Be,[l.value.image?(o(),u("img",{key:0,src:l.value.image,class:"img-fluid pt-2 mb-4"},null,8,Fe)):i("",!0),l.value.description?(o(),u("p",{key:1,class:"card-text",innerHTML:l.value.description},null,8,Te)):i("",!0),t("div",je,[l.value.skills_vvvv?(o(),u("div",Le,[t("div",Re,[a[0]||(a[0]=t("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[t("b",null,"vvvv skills")],-1)),t("p",{class:"card-text",innerHTML:l.value.skills_vvvv},null,8,Oe)])])):i("",!0),l.value.skills_other?(o(),u("div",Ee,[t("div",Pe,[a[1]||(a[1]=t("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[t("b",null,"other skills")],-1)),t("p",{class:"card-text",innerHTML:l.value.skills_other},null,8,ze)])])):i("",!0)]),l.value.contact?(o(),u(z,{key:2},[a[2]||(a[2]=t("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[t("b",null,"contact")],-1)),t("p",He,b(l.value.contact),1)],64)):i("",!0),l.value.availableFor.length>0?(o(),u(z,{key:3},[a[3]||(a[3]=t("p",{class:"py-0 mb-2 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[t("b",null,"Available for")],-1)),g(v(Me),null,{default:y(()=>[(o(!0),u(z,null,ge(l.value.availableFor,r=>(o(),T(v(le),{class:"mr-2",bordered:!1},{default:y(()=>[B(b(r),1)]),_:2},1024))),256))]),_:1})],64)):i("",!0)]))}},Ue={class:"joined border-top pt-3"},Ae={key:0},Ve={key:1},qe={__name:"BetaGammaUser",props:["data"],setup(e){return(l,s)=>(o(),u("div",Ue,[s[2]||(s[2]=t("p",{class:"joined mb-2"},"Using:",-1)),e.data.beta?(o(),u("div",Ae,[s[0]||(s[0]=B("vvvv beta since ")),t("b",null,b(e.data.beta),1)])):i("",!0),e.data.gamma?(o(),u("div",Ve,[s[1]||(s[1]=B("vvvv gamma since ")),t("b",null,b(e.data.gamma),1)])):i("",!0)]))}},Ie=["href"],De={class:"mb-1 d-flex text-align-center"},We=["href"],Je={class:"mb-1"},Ke={__name:"Maintains",props:["data"],setup(e){return(l,s)=>(o(),u("div",null,[s[2]||(s[2]=t("div",{class:"mb-2"},"Maintains:",-1)),e.data.company?(o(),u("a",{key:0,href:"/business/"+e.data.company.name,onClick:s[0]||(s[0]=a=>v(se)(e.data.company.name,a))},[t("div",De,b(e.data.company.name),1)],8,Ie)):i("",!0),e.data.edu?(o(),u("a",{key:1,href:"/edu/"+e.data.edu.name,onClick:s[1]||(s[1]=a=>v(ne)(e.data.edu.name,a))},[t("p",Je,b(e.data.edu.name),1)],8,We)):i("",!0)]))}},Qe={key:0,class:"userView"},Xe={class:"row"},Ye={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},Ze={class:"my-3"},ea=["href"],aa={key:0,class:"text-muted mb-1"},ta={class:"joined mb-2"},la={class:"col-12 mt-3 mt-md-0 pt-md-0 col-md-6 col-lg-8 profileContent"},sa={class:"mb-4 description"},na=["innerHTML"],oa={key:1},ra={key:0,class:"card"},V=120,fa={__name:"UserView",setup(e){const l=oe();ce();const s=l.params.username,a=M(null),r=M(null),c=M(null),_=M(null),m=M(!1),w=M(null),$=M({}),j=`?withoutEnlargement=true&quality=90&fit=cover&width=${V}&height=${V}`,k=`${E.GET_USERS}?filter[username][_eq]=${s}
            &fields=*,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value,related.social.*`,H=`${E.GET_COMPANIES}?filter[owner][username][_eq]=${s}&fields=name`,N=`${E.GET_EDUS}?filter[owner][username][_eq]=${s}&fields=name`;he(async()=>{m.value=!0,window.scrollTo({top:0,left:0,behavior:"smooth"});try{let n=await fetch(k),d=await n.json();if(!n.ok||d.data?.length==0)throw"Can't find a profile for this user";const f=d.data[0];document.title="Profile: "+f.username,a.value=f,_.value=a.value.userpic?`${q(a.value.userpic)}${j}`:null,r.value=f.related[0]?.hire,c.value=f.related[0]?.social,w.value=P(a.value.description);const Q=[x(H),x(N)],[G,U]=await Promise.allSettled(Q);G.status==="fulfilled"&&G.value&&($.value.company=G.value),U.status==="fulfilled"&&U.value&&($.value.edu=U.value)}catch(n){console.error(n)}finally{m.value=!1}});async function x(n){const d=await fetch(n),f=await d.json();return d.ok&&f.data?.length>0?{name:f.data[0].name,logo:f.data[0].logo?`${q(f.data[0].logo)}${j}`:null}:null}const R={year:"numeric",month:"short",day:"numeric"},F=h(()=>new Date(a.value.date_created).toLocaleString("en-US",R)),O=h(()=>({city:a.value.location_city,country:a.value.location_country})),p=h(()=>{const n=[a.value.name,a.value.surname].filter(Boolean).join(" ");return n||null}),S=h(()=>`${E.FORUM}u/${a.value.username}/summary`),C=h(()=>{const n={beta:a.value.beta_since,gamma:a.value.gamma_since};return n.beta||n.gamma?n:null});h(()=>{let n=null;return c.value?.website&&c.value.website!==""&&(n={name:ie(c.value.website),link:re(c.value.website)}),n});const L=h(()=>r.value.skills_other||r.value.skills_vvvv||r.value.contact||r.value.availableFor&&r.value.availableFor.length>0||r.value.description||r.value.image);return(n,d)=>(o(),T(v(ue),{show:m.value},{default:y(()=>[a.value?(o(),u("div",Qe,[t("div",Xe,[t("div",Ye,[g(v(de),{objectFit:"contain",round:"",size:V,src:_.value,class:ye({noImageBack:_.value!==null})},null,8,["src","class"]),t("div",Ze,[t("h5",null,[B(b(a.value.username)+" ",1),t("a",{href:S.value,target:"_blank",class:"pl-2",alt:"Forum Profile"},[g(v(D),{trigger:"hover"},{trigger:y(()=>[g(v(W),null,{default:y(()=>[g(v(me))]),_:1})]),default:y(()=>[d[0]||(d[0]=B(" Open Forum Profile "))]),_:1})],8,ea)]),p.value?(o(),u("p",aa,b(p.value),1)):i("",!0)]),t("div",ta,[g(v(D),{trigger:"hover"},{trigger:y(()=>[g(v(W),{size:"1.2rem",class:"mr-2"},{default:y(()=>[g(v(we))]),_:1})]),default:y(()=>[d[1]||(d[1]=B(" Joined "))]),_:1}),B(" "+b(F.value),1)]),O.value?(o(),T(_e,{key:0,location:O.value,class:"pb-2"},null,8,["location"])):i("",!0),Object.keys($.value).length>0?(o(),T(Ke,{key:1,data:$.value,class:"border-top py-3 mt-4"},null,8,["data"])):i("",!0),c.value?(o(),T(be,{key:2,class:"my-1 py-2 border-top",social:c.value},null,8,["social"])):i("",!0),C.value?(o(),T(qe,{key:3,data:C.value},null,8,["data"])):i("",!0)]),t("div",la,[w.value?(o(),u(z,{key:0},[d[2]||(d[2]=t("hr",{class:"d-block d-md-none"},null,-1)),t("div",sa,[t("p",{innerHTML:w.value},null,8,na)])],64)):i("",!0),r.value&&r.value.available?(o(),u("div",oa,[d[3]||(d[3]=t("h4",{class:"h4"},"Available for hire",-1)),L.value?(o(),u("div",ra,[g(Ge,{data:r.value},null,8,["data"])])):i("",!0)])):i("",!0)])])])):i("",!0)]),_:1},8,["show"]))}};export{fa as default};
