import{a3 as w,a4 as h,a8 as g,ac as y,ah as b,ai as k,aj as E}from"./app.js";import{_ as N,a as A}from"./app-InstitutionBasics-BR2UOUNL.js";import{N as C}from"./app-Alert-Be0p78_K.js";import{r as i,l as H,f as B,N as m,P as p,u as f,o as l,a1 as r,c as v,v as M,R as P,b as n,Q as _}from"./app-vue-BkvlpQbN.js";import"./app-icons-B71ntucG.js";import"./app-lodash-Cpj98o6Y.js";import"./app-SocialView-C78kmxIf.js";import"./app-Internships-C5m6OpV6.js";const R="?withoutEnlargement=true&quality=98&fit=cover&width=300&format=png",S=h.BASEURL+"items/Edu?fields=*,social.*,owner.username&filter[slug][_eq]=";async function V(u){const c=S+u,o=await fetch(c),t=await o.json();if(o.ok){if(t.data.length==0)throw"Can't find a profile for this Educational Institution";const e={...t.data[0]};return e.logo=e?.logo?w(e.logo)+R:null,e}else throw new Error("Can't load Profile")}const x={key:1},I={class:"row"},L={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},T={key:0,class:"col-12 col-md-6 col-lg-8 mt-0 mt-md-3 mt-md-0 profileContent"},j=["innerHTML"],J={__name:"EduView",setup(u){const o=g().params?.slug,t=i(null),e=i(!1),s=i(null);return H(async()=>{window.scrollTo({top:0,left:0,behavior:"smooth"});try{e.value=!0,s.value=null,t.value=await V(o),document.title="Profile: "+t.value.name,t.value.description=y(t.value.description)}catch(a){console.log(a),s.value="Something went wrong or maybe an Institutional Institution is simply not yet confirmed."}finally{e.value=!1}}),B(()=>{let a=null;return t.value.social?.website&&t.value.social.website!==""&&(a={name:k(t.value.social.website),link:b(t.value.social.website)}),a}),(a,d)=>(l(),m(f(E),{show:e.value},{default:p(()=>[s.value?(l(),m(f(C),{key:0,title:"Hoppala",type:"warning"},{default:p(()=>[M(P(s.value),1)]),_:1})):r("",!0),t.value?(l(),v("div",x,[n("div",I,[n("div",L,[_(N,{class:"mb-3",data:t.value},null,8,["data"])]),t.value.description?(l(),v("div",T,[d[0]||(d[0]=n("hr",{class:"d-block d-md-none"},null,-1)),n("p",{innerHTML:t.value.description},null,8,j),_(A,{class:"maintained mt-4 pt-3 border-top d-block d-md-none",data:t.value.owner},null,8,["data"])])):r("",!0)])])):r("",!0)]),_:1},8,["show"]))}};export{J as default};
