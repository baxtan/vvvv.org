import{aA as p,af as h,r as y,ao as g,ap as v,aj as E,ai as o,ax as w,ac as a,ab as i,aq as r,ad as c,as as d,M as S,au as k,aB as C,aF as L,ag as B}from"./app.js";import{d as N}from"./defaultLogo.js";import{_ as x}from"./Location.js";import"./LocationOutline.js";const A=p("eduList",{state:()=>({items:[],total:null,fetched:!1}),actions:{async fetch(e=!1){if(!(this.fetched&&!e))try{const{items:t,total:s}=await j();this.items=t,this.total=s,this.fetched=!0}catch{this.items=[],this.total=null,this.fetched=!1}}}}),V=h.BASEURL+"items/Edu?fields=*&sort=name&meta=filter_count",$="withoutEnlargement=true&fit=inside&height=50&quality=90&format=auto";async function j(){const e=await fetch(V);if(e.ok){const t=await e.json(),s=t.data;return s.forEach(n=>{n.logo=T(n.logo)}),{items:s,total:t.meta?.filter_count??0}}else throw new Error("Connection Error")}function T(e){return e?`${h.ASSETS}${e}?${$}`:null}const b={key:0,class:"logoListView"},q={key:0},F={class:"row"},G=["onClick"],I={class:"company"},M={class:"logo"},O=["src"],z={class:"name"},D="col-12 col-sm-6 col-md-4 col-lg-3 my-2",Q={__name:"EduList",setup(e){const t=y(!0),s=A();return g(async()=>{try{t.value=!0,await s.fetch()}catch(n){console.log(n)}finally{t.value=!1}}),(n,P)=>(a(),v(o(w),{show:t.value},{default:E(()=>[!t.value&&o(s)?(a(),i("div",b,[o(s).items.length>0?(a(),i("p",q,"A list of "+d(o(s).total)+" Educational Institutions that teach vvvv.",1)):r("",!0),c("div",F,[(a(!0),i(S,null,k(o(s).items,({name:l,description:R,logo:u,location_city:f,location_country:m})=>(a(),i("div",{"track-by":"name",class:C(D)},[c("div",{class:"companyCard p-3",onClick:_=>o(L)(l,_)},[c("div",I,[c("div",M,[u!==null?(a(),i("img",{key:0,src:u||o(N)},null,8,O)):r("",!0)]),c("p",z,d(l),1),B(x,{location:{city:f,country:m}},null,8,["location"])])],8,G)]))),256))])])):r("",!0)]),_:1},8,["show"]))}};export{Q as default};
