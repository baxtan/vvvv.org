import{aD as p,ag as f,r as y,ar as v,ah as E,ai as g,ak as a,aA as w,ac as o,ab as c,an as i,ad as r,at as d,M as k,av as S,aE as C,aG as L,aj as N}from"./app.js";import{d as B}from"./defaultLogo.js";import{_ as G}from"./Location.js";import"./LocationOutline.js";const T=p("eduList",{state:()=>({items:[],total:null,fetched:!1}),actions:{async fetch(e=!1){if(!(this.fetched&&!e))try{const{items:t,total:s}=await j();this.items=t,this.total=s,this.fetched=!0}catch{this.fetched=!1}}}}),V=f.GET_EDUS+"?fields=*&sort=name&meta=filter_count",$="withoutEnlargement=true&fit=inside&height=50&quality=90&format=auto";async function j(){const e=await fetch(V);if(e.ok){const t=await e.json(),s=t.data;return s.forEach(n=>{n.logo=x(n.logo)}),{items:s,total:t.meta?.filter_count??0}}else throw new Error("Connection Error")}function x(e){return e?`${f.ASSETS}${e}?${$}`:null}const A={key:0,class:"logoListView"},D={key:0},b={class:"row"},I=["onClick"],M={class:"company"},O={class:"logo"},q=["src"],z={class:"name"},F="col-12 col-sm-6 col-md-4 col-lg-3 my-2",R={__name:"EduList",setup(e){const t=y(!0),s=T();return v(async()=>{try{t.value=!0,await s.fetch()}catch(n){console.log(n)}finally{t.value=!1}}),(n,P)=>(o(),E(a(w),{show:t.value},{default:g(()=>[!t.value&&a(s)?(o(),c("div",A,[a(s).total>0?(o(),c("p",D,"A list of "+d(a(s).total)+" Educational Institutions that teach vvvv.",1)):i("",!0),r("div",b,[(o(!0),c(k,null,S(a(s).items,({name:l,description:U,logo:u,location_city:h,location_country:m})=>(o(),c("div",{"track-by":"name",class:C(F)},[r("div",{class:"companyCard p-3",onClick:_=>a(L)(l,_)},[r("div",M,[r("div",O,[u!==null?(o(),c("img",{key:0,src:u||a(B)},null,8,q)):i("",!0)]),r("p",z,d(l),1),N(G,{location:{city:h,country:m}},null,8,["location"])])],8,I)]))),256))])])):i("",!0)]),_:1},8,["show"]))}};export{R as default};
