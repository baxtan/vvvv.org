import{aI as g,ag as m,r as v,aq as E,ar as w,aC as f,an as S,ai as k,aj as a,aF as C,ac as n,ab as r,ao as i,ad as c,ax as h,M as L,az as N,aJ as q,ah as x}from"./app.js";import{d as B}from"./defaultLogo.js";import{_ as T}from"./Location.js";import"./LocationOutline.js";const V=g("eduList",{state:()=>({items:[],total:null,fetched:!1}),actions:{async fetch(e=!1){if(!(this.fetched&&!e))try{const{items:t,total:o}=await G();this.items=t,this.total=o,this.fetched=!0}catch{this.fetched=!1}}}}),$=m.GET_EDUS+"?fields=*&sort=name&meta=filter_count",j="withoutEnlargement=true&fit=inside&height=50&quality=90&format=auto";async function G(){const e=await fetch($);if(e.ok){const t=await e.json(),o=t.data;return o.forEach(s=>{s.logo=I(s.logo)}),{items:o,total:t.meta?.filter_count??0}}else throw new Error("Connection Error")}function I(e){return e?`${m.ASSETS}${e}?${j}`:null}const b={key:0,class:"logoListView"},z={key:0},A={class:"row"},D=["onClick"],F={class:"company"},M={class:"logo"},O=["src"],J={class:"name"},P="col-12 col-sm-6 col-md-4 col-lg-3 my-2",X={__name:"EduList",setup(e){const t=v(!0),o=w(),s=V();return E(async()=>{if(o.query.e){f(o.query.e);return}try{t.value=!0,await s.fetch()}catch(l){console.log(l)}finally{t.value=!1}}),(l,R)=>(n(),S(a(C),{show:t.value},{default:k(()=>[!t.value&&a(s)?(n(),r("div",b,[a(s).total>0?(n(),r("p",z,"A list of "+h(a(s).total)+" Educational Institutions that teach vvvv.",1)):i("",!0),c("div",A,[(n(!0),r(L,null,N(a(s).items,({name:u,description:U,logo:d,location_city:_,location_country:y})=>(n(),r("div",{"track-by":"name",class:q(P)},[c("div",{class:"companyCard p-3",onClick:p=>a(f)(u,p)},[c("div",F,[c("div",M,[d!==null?(n(),r("img",{key:0,src:d||a(B)},null,8,O)):i("",!0)]),c("p",J,h(u),1),x(T,{location:{city:_,country:y}},null,8,["location"])])],8,D)]))),256))])])):i("",!0)]),_:1},8,["show"]))}};export{X as default};
