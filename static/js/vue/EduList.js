import{aJ as g,ad as m,r as v,ap as w,aq as E,aC as f,am as S,ah as k,ai as a,aF as C,af as n,ae as r,an as i,as as c,ax as h,M as L,az as N,aI as q,ag as x}from"./app.js";import{d as B}from"./defaultLogo.js";import{_ as T}from"./Location.js";import"./LocationOutline.js";const V=g("eduList",{state:()=>({items:[],total:null,fetched:!1}),actions:{async fetch(e=!1){if(!(this.fetched&&!e))try{const{items:t,total:o}=await j();this.items=t,this.total=o,this.fetched=!0}catch{this.fetched=!1}}}}),$=m.GET_EDUS+"?fields=*&sort=name&meta=filter_count",G="withoutEnlargement=true&fit=inside&height=50&quality=90&format=auto";async function j(){const e=await fetch($);if(e.ok){const t=await e.json(),o=t.data;return o.forEach(s=>{s.logo=z(s.logo)}),{items:o,total:t.meta?.filter_count??0}}else throw new Error("Connection Error")}function z(e){return e?`${m.ASSETS}${e}?${G}`:null}const D={key:0,class:"logoListView"},F={key:0},I={class:"row"},M=["onClick"],O={class:"company"},b={class:"logo"},A=["src"],J={class:"name"},P="col-12 col-sm-6 col-md-4 col-lg-3 my-2",X={__name:"EduList",setup(e){const t=v(!0),o=E(),s=V();return w(async()=>{if(o.query.e){f(o.query.e);return}try{t.value=!0,await s.fetch()}catch(l){console.log(l)}finally{t.value=!1}}),(l,R)=>(n(),S(a(C),{show:t.value},{default:k(()=>[!t.value&&a(s)?(n(),r("div",D,[a(s).total>0?(n(),r("p",F,h(a(s).total)+" educational institutions teaching vvvv:",1)):i("",!0),c("div",I,[(n(!0),r(L,null,N(a(s).items,({name:u,description:U,logo:d,location_city:_,location_country:p})=>(n(),r("div",{"track-by":"name",class:q(P)},[c("div",{class:"companyCard p-3",onClick:y=>a(f)(u,y)},[c("div",O,[c("div",b,[d!==null?(n(),r("img",{key:0,src:d||a(B)},null,8,A)):i("",!0)]),c("p",J,h(u),1),x(T,{location:{city:_,country:p}},null,8,["location"])])],8,M)]))),256))])])):i("",!0)]),_:1},8,["show"]))}};export{X as default};
