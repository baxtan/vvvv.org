const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["app-vue-lnIAvQoV.js","app-vendor-Cnr6Sbkk.js","app-naive-ui-BAuSFMFj.js","app-edu-BGiwTXYV.js","app-list-DKz8Tesj.js","vue.css"])))=>i.map(i=>d[i]);
import{K as I,S as _,a as T,d as A}from"./app-vendor-Cnr6Sbkk.js";import{r as B,c as P,a as M,_ as N}from"./app-vue-lnIAvQoV.js";const G="https://data.vvvv.org/",R="https://io.vvvv.org/v1/",h=G,b=R,c=Object({FORUM:"https://forum.vvvv.org/",BASEURL:h,ASSETS:h+"assets/",GET_COMPANIES:h+"items/Company",GET_EDUS:h+"items/Edu",GET_USERS:h+"items/User",GET_HIRE:h+"items/Hire",FORUM_TOPICS:b+"discourseTopics",BACKEND_GET_USER:b+"userinfo",BACKEND_GET_CONSTANTS:b+"constants",EDIT_BASICS:b+"edit/personal",EDIT_HIRE:b+"edit/hire",EDIT_COMPANY:b+"edit/company",EDIT_EDU:b+"edit/edu",FILE:b+"file",LOGIN_OPTIONS:{url:"https://login.vvvv.org/",realm:"vvvv",clientId:"weblogin"}}),w=B(!1),r=new I(c.LOGIN_OPTIONS),ve=async()=>{try{const e=await r.init({onLoad:"check-sso",silentCheckSsoRedirectUri:window.location.origin+"/silent-check-sso.html"});return setTimeout(()=>{const a=window.location.hash;if((a.includes("code=")||a.includes("error="))&&a.includes("state=")){const[l]=window.location.href.split("#");window.history.replaceState(null,"",l)}},500),e}catch{console.error("Failed to initialize Keycloak")}},U=()=>r.authenticated,be=e=>r.logout({redirectUri:e}),D=e=>r.login({redirectUri:e}),de=()=>r.authenticated?r.tokenParsed?.preferred_username:null,me=()=>r.authenticated?r.idTokenParsed?.email:null,E=async()=>{try{return r.authenticated||await r.login(),await r.updateToken(30),r.token}catch(e){throw console.error("Failed to get access token:",e),e}},O="modulepreload",k=function(e){return"/js/vue/"+e},g={},d=function(a,l,t){let n=Promise.resolve();if(l&&l.length>0){let o=function(i){return Promise.all(i.map(m=>Promise.resolve(m).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),S=u?.nonce||u?.getAttribute("nonce");n=o(l.map(i=>{if(i=k(i),i in g)return;g[i]=!0;const m=i.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${f}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":O,m||(v.as="script"),v.crossOrigin="",v.href=i,S&&v.setAttribute("nonce",S),document.head.appendChild(v),m)return new Promise((y,C)=>{v.addEventListener("load",y),v.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${i}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return n.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return a().catch(s)})},K=[{label:"Afghanistan",value:"AF"},{label:"Albania",value:"AL"},{label:"Algeria",value:"DZ"},{label:"Andorra",value:"AD"},{label:"Angola",value:"AO"},{label:"Anguilla",value:"AI"},{label:"Antigua and Barbuda",value:"AG"},{label:"Argentina",value:"AR"},{label:"Armenia",value:"AM"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Azerbaijan",value:"AZ"},{label:"Bahamas",value:"BS"},{label:"Bahrain",value:"BH"},{label:"Bangladesh",value:"BD"},{label:"Barbados",value:"BB"},{label:"Belarus",value:"BY"},{label:"Belgium",value:"BE"},{label:"Belize",value:"BZ"},{label:"Benin",value:"BJ"},{label:"Bermuda",value:"BM"},{label:"Bhutan",value:"BT"},{label:"Bolivia",value:"BO"},{label:"Bosnia and Herzegovina",value:"BA"},{label:"Botswana",value:"BW"},{label:"Brazil",value:"BR"},{label:"British Indian Ocean Territory",value:"IO"},{label:"British Virgin Islands",value:"VG"},{label:"Brunei",value:"BN"},{label:"Bulgaria",value:"BG"},{label:"Burkina Faso",value:"BF"},{label:"Burundi",value:"BI"},{label:"Cambodia",value:"KH"},{label:"Cameroon",value:"CM"},{label:"Canada",value:"CA"},{label:"Cape Verde",value:"CV"},{label:"Cayman Islands",value:"KY"},{label:"Central African Republic",value:"CF"},{label:"Chad",value:"TD"},{label:"Chile",value:"CL"},{label:"China",value:"CN"},{label:"Colombia",value:"CO"},{label:"Comoros",value:"KM"},{label:"Congo-Brazzaville",value:"CG"},{label:"Cook Islands",value:"CK"},{label:"Costa Rica",value:"CR"},{label:"Côte d'Ivoire",value:"CI"},{label:"Croatia",value:"HR"},{label:"Cuba",value:"CU"},{label:"Cyprus",value:"CY"},{label:"Czechia",value:"CZ"},{label:"Democratic Republic of the Congo",value:"CD"},{label:"Denmark",value:"DK"},{label:"Djibouti",value:"DJ"},{label:"Dominica",value:"DM"},{label:"Dominican Republic",value:"DO"},{label:"East Timor",value:"TL"},{label:"Ecuador",value:"EC"},{label:"Egypt",value:"EG"},{label:"El Salvador",value:"SV"},{label:"Equatorial Guinea",value:"GQ"},{label:"Eritrea",value:"ER"},{label:"Estonia",value:"EE"},{label:"Eswatini",value:"SZ"},{label:"Ethiopia",value:"ET"},{label:"Falkland Islands",value:"FK"},{label:"Faroe Islands",value:"FO"},{label:"Federated States of Micronesia",value:"FM"},{label:"Fiji",value:"FJ"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"Gabon",value:"GA"},{label:"Georgia",value:"GE"},{label:"Germany",value:"DE"},{label:"Ghana",value:"GH"},{label:"Gibraltar",value:"GI"},{label:"Greece",value:"GR"},{label:"Greenland",value:"GL"},{label:"Grenada",value:"GD"},{label:"Guatemala",value:"GT"},{label:"Guernsey",value:"GG"},{label:"Guinea",value:"GN"},{label:"Guinea-Bissau",value:"GW"},{label:"Guyana",value:"GY"},{label:"Haiti",value:"HT"},{label:"Honduras",value:"HN"},{label:"Hungary",value:"HU"},{label:"Iceland",value:"IS"},{label:"India",value:"IN"},{label:"Indonesia",value:"ID"},{label:"Iran",value:"IR"},{label:"Iraq",value:"IQ"},{label:"Ireland",value:"IE"},{label:"Isle of Man",value:"IM"},{label:"Israel",value:"IL"},{label:"Italy",value:"IT"},{label:"Jamaica",value:"JM"},{label:"Japan",value:"JP"},{label:"Jersey",value:"JE"},{label:"Jordan",value:"JO"},{label:"Kazakhstan",value:"KZ"},{label:"Kenya",value:"KE"},{label:"Kiribati",value:"KI"},{label:"Kosovo",value:"XK"},{label:"Kuwait",value:"KW"},{label:"Kyrgyzstan",value:"KG"},{label:"Laos",value:"LA"},{label:"Latvia",value:"LV"},{label:"Lebanon",value:"LB"},{label:"Lesotho",value:"LS"},{label:"Liberia",value:"LR"},{label:"Libya",value:"LY"},{label:"Liechtenstein",value:"LI"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Madagascar",value:"MG"},{label:"Malawi",value:"MW"},{label:"Malaysia",value:"MY"},{label:"Maldives",value:"MV"},{label:"Mali",value:"ML"},{label:"Malta",value:"MT"},{label:"Marshall Islands",value:"MH"},{label:"Mauritania",value:"MR"},{label:"Mauritius",value:"MU"},{label:"Mexico",value:"MX"},{label:"Moldova",value:"MD"},{label:"Monaco",value:"MC"},{label:"Mongolia",value:"MN"},{label:"Montenegro",value:"ME"},{label:"Montserrat",value:"MS"},{label:"Morocco",value:"MA"},{label:"Mozambique",value:"MZ"},{label:"Myanmar",value:"MM"},{label:"Namibia",value:"NA"},{label:"Nauru",value:"NR"},{label:"Nepal",value:"NP"},{label:"Netherlands",value:"NL"},{label:"New Zealand",value:"NZ"},{label:"Nicaragua",value:"NI"},{label:"Niger",value:"NE"},{label:"Nigeria",value:"NG"},{label:"Niue",value:"NU"},{label:"North Korea",value:"KP"},{label:"North Macedonia",value:"MK"},{label:"Norway",value:"NO"},{label:"Oman",value:"OM"},{label:"Pakistan",value:"PK"},{label:"Palau",value:"PW"},{label:"Panama",value:"PA"},{label:"Papua New Guinea",value:"PG"},{label:"Paraguay",value:"PY"},{label:"Peru",value:"PE"},{label:"Philippines",value:"PH"},{label:"Pitcairn Islands",value:"PN"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Qatar",value:"QA"},{label:"Romania",value:"RO"},{label:"Russia",value:"RU"},{label:"Rwanda",value:"RW"},{label:"Saint Helena, Ascension and Tristan da Cunha",value:"SH"},{label:"Saint Kitts and Nevis",value:"KN"},{label:"Saint Lucia",value:"LC"},{label:"Saint Vincent and the Grenadines",value:"VC"},{label:"Samoa",value:"WS"},{label:"San Marino",value:"SM"},{label:"São Tomé and Príncipe",value:"ST"},{label:"Saudi Arabia",value:"SA"},{label:"Senegal",value:"SN"},{label:"Serbia",value:"RS"},{label:"Seychelles",value:"SC"},{label:"Sierra Leone",value:"SL"},{label:"Singapore",value:"SG"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"Solomon Islands",value:"SB"},{label:"Somalia",value:"SO"},{label:"South Africa",value:"ZA"},{label:"South Georgia and the South Sandwich Islands",value:"GS"},{label:"South Korea",value:"KR"},{label:"South Sudan",value:"SS"},{label:"Spain",value:"ES"},{label:"Sri Lanka",value:"LK"},{label:"Sudan",value:"SD"},{label:"Suriname",value:"SR"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"},{label:"Syria",value:"SY"},{label:"Taiwan",value:"TW"},{label:"Tajikistan",value:"TJ"},{label:"Tanzania",value:"TZ"},{label:"Thailand",value:"TH"},{label:"The Gambia",value:"GM"},{label:"Togo",value:"TG"},{label:"Tokelau",value:"TK"},{label:"Tonga",value:"TO"},{label:"Trinidad and Tobago",value:"TT"},{label:"Tunisia",value:"TN"},{label:"Turkey",value:"TR"},{label:"Turkmenistan",value:"TM"},{label:"Turks and Caicos Islands",value:"TC"},{label:"Tuvalu",value:"TV"},{label:"Uganda",value:"UG"},{label:"Ukraine",value:"UA"},{label:"United Arab Emirates",value:"AE"},{label:"United Kingdom",value:"GB"},{label:"USA",value:"US"},{label:"Uruguay",value:"UY"},{label:"Uzbekistan",value:"UZ"},{label:"Vanuatu",value:"VU"},{label:"Vatican City",value:"VA"},{label:"Venezuela",value:"VE"},{label:"Vietnam",value:"VN"},{label:"Yemen",value:"YE"},{label:"Zambia",value:"ZM"},{label:"Zimbabwe",value:"ZW"}],F=new _.Converter,he=(e,a)=>{p.push({name:"User Profile",params:{username:e}}),a&&a.preventDefault()};function V(e){return e.sort(()=>.5-Math.random())}const fe=(e,a)=>{p.push({name:"Business Profile",params:{name:e}}),a&&a.preventDefault()},pe=(e,a)=>{p.push({name:"Educational Institution Profile",params:{name:e}}),a&&a.preventDefault()},Ee=e=>e.replace(/^.*\//,""),Se=(e,a)=>{if(!e)return"";if(!a)return e;const l=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),t=new RegExp(`^(https?:\\/\\/)?${l}`,"i"),n=e.replace(t,"");return`https://${a}${n}`},H=e=>e.replace(/^https?:\/\//,"").replace(/\/$/,"");function ge(e){return e?/^https?:\/\//i.test(e)?e:`https://${e}`:null}const Te=e=>e?/^https?:\/\//i.test(e)?{text:H(e),url:e}:{text:e}:{text:""},Ae=e=>F.makeHtml(e),z=e=>e&&JSON.stringify(e),j=e=>e&&JSON.parse(z(e)),L=e=>e&&c.ASSETS+e,we=async(e,a)=>{try{const l=await E(),n=await(await fetch(e,{headers:{"Content-Type":"application/json",Authorization:l},method:"POST",body:JSON.stringify(a)})).json();if(n.error)throw new Error(data.response.error);return n}catch(l){throw new Error(l)}},Le=async e=>{const a=await E(),l=new FormData;return l.append("id",e),T.request({url:c.FILE,method:"DELETE",headers:{"Authorization ":a},data:l}).then(()=>!0).catch(t=>(console.log(t),!1))},ye=async(e,a)=>{const l=new FormData;l.append("folder",a),l.append("file",e.file);const t=await E(),n={url:c.FILE,method:"POST",headers:{"Authorization ":t},data:l,onUploadProgress:s=>{e.percentage=Math.round(s.loaded*100/s.total)}};try{const s=await T.request(n);return e.status="finished",e.percentage=100,e.url=c.ASSETS+s.data.tmp,s.data.tmp}catch(s){return console.error("Error uploading file:",s),e.status="error",e.percentage=0,null}},Ce=(e,a)=>{var l=e!==null?j(e):[];const t=a-l.length;if(t>0)for(var n=0;n<t;n++)l.push({key:"",value:""});return t<0&&(l=l.slice(0,a)),l};function J(e){if(!e)return null;const a=K.find(l=>l.value===e);return a?a.label:e}function Ie(e,a){return[e,J(a)].filter(Boolean).join(", ")}const _e=A("businesses",{state:()=>({items:[],total:null,fetched:!1}),actions:{async fetch(e=!1){if(!(this.fetched&&!e))try{const{items:a,total:l}=await Z();this.items=a,this.total=l,this.fetched=!0}catch{this.fetched=!1}}}});async function Z(){const e="?withoutEnlargement=true&quality=90&fit=cover&height=40",a=c.GET_COMPANIES+"?fields[]=name,logo&meta=filter_count",l=8,t=await fetch(a);if(t.ok){const n=await t.json(),s=n.data?.map(o=>({img:o.logo?L(o.logo)+e:null,url:"/business/"+o.name,text:o.name}));return{items:V(s).slice(0,l),total:n.meta?.filter_count??0}}else throw Error("Connection error")}const q=()=>d(()=>import("./app-vue-lnIAvQoV.js").then(e=>e.am),__vite__mapDeps([0,1,2,3,4,5])),$=()=>d(()=>import("./app-vue-lnIAvQoV.js").then(e=>e.an),__vite__mapDeps([0,1,2,3,4,5])),Y=()=>d(()=>import("./app-vue-lnIAvQoV.js").then(e=>e.ao),__vite__mapDeps([0,1,2,3,4,5])),W=()=>d(()=>import("./app-vue-lnIAvQoV.js").then(e=>e.ap),__vite__mapDeps([0,1,2,3,4,5])),x=()=>d(()=>import("./app-vue-lnIAvQoV.js").then(e=>e.aq),__vite__mapDeps([0,1,2,3,4,5])),Q=()=>d(()=>import("./app-vue-lnIAvQoV.js").then(e=>e.ar),__vite__mapDeps([0,1,2,3,4,5])),X=()=>d(()=>import("./app-vue-lnIAvQoV.js").then(e=>e.as),__vite__mapDeps([0,1,2,3,4,5])),ee=()=>d(()=>import("./app-vue-lnIAvQoV.js").then(e=>e.at),__vite__mapDeps([0,1,2,3,4,5])),ae=(e,a,l)=>{U()?l():D(window.location.origin+e.fullPath.split("#")[0])},le=[{path:"/community/",name:"Overview",component:N,meta:{tabName:"Overview",visible:!0,isLeft:!0,order:0}},{path:"/user/",name:"Users",component:q,meta:{tabName:"Users",visible:!0,isLeft:!0,order:1}},{path:"/user/:username",name:"User Profile",component:$,meta:{tabName:"Users"}},{path:"/forhire/",name:"For Hire",component:X,meta:{tabName:"For Hire",visible:!0,isLeft:!0,order:2}},{path:"/business/",name:"Businesses",component:Y,meta:{tabName:"Businesses",visible:!0,isLeft:!0,order:3}},{path:"/business/:name",name:"Business Profile",component:W,meta:{tabName:"Businesses"}},{path:"/edu/",name:"Educational Institutions",component:x,meta:{tabName:"Educational Institutions",visible:!0,isLeft:!0,order:4}},{path:"/edu/:name",name:"Educational Institution Profile",component:Q,meta:{tabName:"Educational Institutions"}},{path:"/community/edit/",name:"Edit Profile",component:ee,beforeEnter:ae,meta:{tabName:"Profile",visible:!0,isLeft:!1}}],p=P({history:M(),routes:le,strict:!1});p.beforeEach((e,a)=>{document.title=e.meta?.visible?e.name:e.params?.name?"Profile: "+e.params.name:e.params?.username?"Profile: "+e.params.username:e.name,w.value=!0});p.afterEach(()=>{w.value=!1});const Be=A("businessList",{state:()=>({items:[],total:null,fetched:!1}),actions:{async fetch(e=!1){if(!(this.fetched&&!e))try{const{items:a,total:l}=await re();this.items=a,this.total=l,this.fetched=!0}catch{this.fetched=!1}}}}),te=c.BASEURL+"items/Company?fields=*&sort=name&meta=filter_count",ne="withoutEnlargement=true&fit=inside&height=50&quality=90&format=auto";function se(e){return e?`${c.ASSETS}${e}?${ne}`:null}async function re(){const e=await fetch(te);if(e.ok){const a=await e.json(),l=a.data;return l.forEach(t=>{t.logo=se(t.logo)}),{items:l,total:a.meta?.filter_count??0}}else throw Error("Connection Error")}const oe="?withoutEnlargement=true&quality=90&fit=cover&width=120",ie=c.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function Pe(e){const a=ie+e,l=await fetch(a);if(l.ok){const t=await l.json();if(t.data.length==0)throw"Can't find a profile for this company";const n={...t.data[0]};return n.logo=n?.logo?L(n.logo)+oe:null,n}else throw new Error("Can't load Profile")}export{K as A,j as B,c as C,we as D,ve as E,p as F,w as a,D as b,L as c,fe as d,pe as e,he as f,de as g,H as h,U as i,ge as j,be as k,Ie as l,Ee as m,Se as n,Te as o,Be as p,J as q,Pe as r,V as s,Ae as t,_e as u,E as v,me as w,Ce as x,Le as y,ye as z};
