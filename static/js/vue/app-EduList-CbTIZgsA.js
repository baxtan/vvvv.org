import{aK as g,ad as h,r as v,ap as w,aq as E,aC as u,am as S,ah as C,ai as o,aF as k,af as c,ae as r,an as d,as as n,au as f,M as L,az as N,aI as q,ag as B,aJ as T}from"./app.js";import{_ as V}from"./app-Location-BVyiK7Ug.js";import"./app-LocationOutline-DNQ6lrCI.js";const $=g("eduList",{state:()=>({items:[],total:null,fetched:!1}),actions:{async fetch(e=!1){if(!(this.fetched&&!e))try{const{items:t,total:a}=await j();this.items=t,this.total=a,this.fetched=!0}catch{this.fetched=!1}}}}),x=h.GET_EDUS+"?fields=*&sort=name&meta=filter_count",G="withoutEnlargement=true&fit=inside&height=50&quality=90&format=auto";async function j(){const e=await fetch(x);if(e.ok){const t=await e.json(),a=t.data;return a.forEach(s=>{s.logo=z(s.logo)}),{items:a,total:t.meta?.filter_count??0}}else throw new Error("Connection Error")}function z(e){return e?`${h.ASSETS}${e}?${G}`:null}const D={key:0,class:"logoListView"},F={key:0},I={class:"row"},M=["onClick"],O={class:"company"},b={class:"logo"},A=["src"],J={class:"name"},K="col-12 col-sm-6 col-md-4 col-lg-3 my-2",W={__name:"EduList",setup(e){const t=v(!0),a=E(),s=$();return w(async()=>{if(a.query.e){u(a.query.e);return}try{t.value=!0,await s.fetch()}catch(i){console.log(i)}finally{t.value=!1}}),(i,P)=>(c(),S(o(k),{show:t.value},{default:C(()=>[!t.value&&o(s)?(c(),r("div",D,[o(s).total>0?(c(),r("p",F,f(o(s).total)+" educational institutions teaching vvvv:",1)):d("",!0),n("div",I,[(c(!0),r(L,null,N(o(s).items,({name:l,description:R,logo:m,location_city:_,location_country:p})=>(c(),r("div",{"track-by":"name",class:q(K)},[n("div",{class:"companyCard p-3",onClick:y=>o(u)(l,y)},[n("div",O,[n("div",b,[n("img",{src:m||o(T)},null,8,A)]),n("p",J,f(l),1),B(V,{location:{city:_,country:p}},null,8,["location"])])],8,M)]))),256))])])):d("",!0)]),_:1},8,["show"]))}};export{W as default};
