import{aa as te,O as le,u as se,p as Y,q as ne,s as oe,ab as re,L as K,ac as H,a3 as D,ad as ie,ae as Z,af as ue,ag as W,a8 as de,a4 as O,ah as ce,ai as me,aj as ve,a9 as pe,a5 as fe,a6 as Q,ak as ge}from"./app.js";import{g as he}from"./app-get-slot-Bk_rJcZu.js";import{d as ye,h as X,C as _e,f as b,c as r,o as l,a1 as i,b as t,F as N,R as h,Q as y,P as g,S as ee,N as L,u as m,v as x,a2 as be,r as $,l as we,a3 as ke}from"./app-vue-BkvlpQbN.js";import{_ as $e}from"./app-SocialView-C78kmxIf.js";import{_ as xe}from"./app-Location-DD3rzRwt.js";import{f as Ce}from"./app-icons-B71ntucG.js";import"./app-lodash-Cpj98o6Y.js";const Ee={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"};function Se(){return Ee}const Fe={self:Se};let q;function je(){if(!te)return!0;if(q===void 0){const e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);const n=e.scrollHeight===1;return document.body.removeChild(e),q=n}return q}const Le=Object.assign(Object.assign({},Y.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemClass:String,itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),Re=ye({name:"Space",props:Le,setup(e){const{mergedClsPrefixRef:n,mergedRtlRef:s}=se(e),a=Y("Space","-space",void 0,Fe,e,n),o=ne("Space",s,n);return{useGap:je(),rtlEnabled:o,mergedClsPrefix:n,margin:b(()=>{const{size:d}=e;if(Array.isArray(d))return{horizontal:d[0],vertical:d[1]};if(typeof d=="number")return{horizontal:d,vertical:d};const{self:{[oe("gap",d)]:C}}=a.value,{row:p,col:E}=re(C);return{horizontal:K(E),vertical:K(p)}})}},render(){const{vertical:e,reverse:n,align:s,inline:a,justify:o,itemClass:d,itemStyle:C,margin:p,wrap:E,mergedClsPrefix:S,rtlEnabled:R,useGap:w,wrapItem:U,internalUseGap:A}=this,T=le(he(this),!1);if(!T.length)return null;const P=`${p.horizontal}px`,B=`${p.horizontal/2}px`,z=`${p.vertical}px`,k=`${p.vertical/2}px`,F=T.length-1,j=o.startsWith("space-");return X("div",{role:"none",class:[`${S}-space`,R&&`${S}-space--rtl`],style:{display:a?"inline-flex":"flex",flexDirection:e&&!n?"column":e&&n?"column-reverse":!e&&n?"row-reverse":"row",justifyContent:["start","end"].includes(o)?`flex-${o}`:o,flexWrap:!E||e?"nowrap":"wrap",marginTop:w||e?"":`-${k}`,marginBottom:w||e?"":`-${k}`,alignItems:s,gap:w?`${p.vertical}px ${p.horizontal}px`:""}},!U&&(w||A)?T:T.map((M,_)=>M.type===_e?M:X("div",{role:"none",class:d,style:[C,{maxWidth:"100%"},w?"":e?{marginBottom:_!==F?z:""}:R?{marginLeft:j?o==="space-between"&&_===F?"":B:_!==F?P:"",marginRight:j?o==="space-between"&&_===0?"":B:"",paddingTop:k,paddingBottom:k}:{marginRight:j?o==="space-between"&&_===F?"":B:_!==F?P:"",marginLeft:j?o==="space-between"&&_===0?"":B:"",paddingTop:k,paddingBottom:k}]},M)))}}),Te={class:"card-body"},Be=["src"],Me=["innerHTML"],Oe={class:"row"},Pe={key:0,class:"col-12 col-lg-6"},ze={class:"pr-lg-2"},He=["innerHTML"],Ne={key:1,class:"col-12 col-lg-6"},Ue={class:"pl-lg-2"},Ae=["innerHTML"],Ge={class:"card-text"},Ve="?withoutEnlargement=true&quality=90&fit=cover&width=720",qe={__name:"HireView",props:{data:Object,contact:String},setup(e){const n=b(()=>e.data?{description:H(e.data.description),contact:e.data.contact,skills_vvvv:H(e.data.skills_vvvv),skills_other:H(e.data.skills_other),image:e.data.image?D(e.data.image)+Ve:null,availableFor:e.data.availableFor?e.data.availableFor.map(s=>s.AvailableFor_Options_id?s.AvailableFor_Options_id.value:""):[]}:{});return(s,a)=>(l(),r("div",Te,[n.value.image?(l(),r("img",{key:0,src:n.value.image,class:"img-fluid pt-2 mb-4"},null,8,Be)):i("",!0),n.value.description?(l(),r("p",{key:1,class:"card-text",innerHTML:n.value.description},null,8,Me)):i("",!0),t("div",Oe,[n.value.skills_vvvv?(l(),r("div",Pe,[t("div",ze,[a[0]||(a[0]=t("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[t("b",null,"vvvv skills")],-1)),t("p",{class:"card-text",innerHTML:n.value.skills_vvvv},null,8,He)])])):i("",!0),n.value.skills_other?(l(),r("div",Ne,[t("div",Ue,[a[1]||(a[1]=t("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[t("b",null,"other skills")],-1)),t("p",{class:"card-text",innerHTML:n.value.skills_other},null,8,Ae)])])):i("",!0)]),n.value.contact?(l(),r(N,{key:2},[a[2]||(a[2]=t("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[t("b",null,"contact")],-1)),t("p",Ge,h(n.value.contact),1)],64)):i("",!0),n.value.availableFor.length>0?(l(),r(N,{key:3},[a[3]||(a[3]=t("p",{class:"py-0 mb-2 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[t("b",null,"Available for")],-1)),y(m(Re),null,{default:g(()=>[(l(!0),r(N,null,ee(n.value.availableFor,o=>(l(),L(m(ie),{class:"mr-2",bordered:!1},{default:g(()=>[x(h(o),1)]),_:2},1024))),256))]),_:1})],64)):i("",!0)]))}},Ie={class:"joined border-top pt-3"},De={key:0},We={key:1},Je={__name:"BetaGammaUser",props:["data"],setup(e){return(n,s)=>(l(),r("div",Ie,[s[2]||(s[2]=t("p",{class:"joined mb-2"},"Using",-1)),e.data.beta?(l(),r("div",De,[s[0]||(s[0]=x("vvvv beta since ")),t("b",null,h(e.data.beta),1)])):i("",!0),e.data.gamma?(l(),r("div",We,[s[1]||(s[1]=x("vvvv gamma since ")),t("b",null,h(e.data.gamma),1)])):i("",!0)]))}},Ke=["href"],Qe={class:"mb-1 d-flex text-align-center"},Xe=["href"],Ye={class:"mb-1"},Ze={__name:"Maintains",props:["data"],setup(e){return(n,s)=>(l(),r("div",null,[s[2]||(s[2]=t("p",{class:"text-muted mb-1 border-top pt-3"},"Maintains",-1)),e.data.company?(l(),r("a",{key:0,href:"/business/"+e.data.company.slug,onClick:s[0]||(s[0]=a=>m(Z)(e.data.company.slug,a))},[t("div",Qe,h(e.data.company.name),1)],8,Ke)):i("",!0),e.data.edu?(l(),r("a",{key:1,href:"/edu/"+e.data.edu.slug,onClick:s[1]||(s[1]=a=>m(ue)(e.data.edu.slug,a))},[t("p",Ye,h(e.data.edu.name),1)],8,Xe)):i("",!0)]))}},ea={class:"mb-2"},aa=["href","onClick"],ta={__name:"AffiliatedWith",props:["data"],setup(e){return(n,s)=>(l(),r("div",null,[s[0]||(s[0]=t("p",{class:"text-muted mb-1 border-top pt-3"},"Affiliated with",-1)),(l(!0),r(N,null,ee(e.data,a=>(l(),r("div",ea,[y(m(W),{trigger:"hover",disabled:!a.role},{trigger:g(()=>[t("a",{href:a.link,onClick:be(o=>m(Z)(a.slug),["prevent"])},h(a.name),9,aa)]),default:g(()=>[x(" "+h(a.role),1)]),_:2},1032,["disabled"])]))),256))]))}},la={key:0,class:"userView"},sa={class:"row"},na={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},oa={class:"my-3"},ra=["href"],ia={key:0,class:"text-muted mb-1"},ua={class:"joined mb-2"},da={class:"col-12 mt-3 mt-md-0 pt-md-0 col-md-6 col-lg-8 profileContent"},ca={key:0,class:"mb-4 description"},ma=["innerHTML"],va={key:1},pa={key:0,class:"card"},I=120,ka={__name:"UserView",setup(e){const n=de();pe();const s=n.params.username,a=$(null),o=$(null),d=$(null),C=$(null),p=$(!1),E=$(null),S=$({}),R=$([]),w=`?withoutEnlargement=true&quality=90&fit=cover&width=${I}&height=${I}`,U=`${O.GET_USERS}?filter[username][_eq]=${s}
            &fields=*,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value,related.social.*`,A=`${O.GET_COMPANIES}?filter[owner][username][_eq]=${s}&fields=name,slug`,T=`${O.GET_EDUS}?filter[owner][username][_eq]=${s}&fields=name,slug`,P=`${O.GET_USER_ROLES}?fields=Company.Company_id.name,Company.Company_id.slug,Edu.Edu_id.name,Edu.Edu_id.slug,role&filter[user_id][id][_eq]=`;we(async()=>{p.value=!0,window.scrollTo({top:0,left:0,behavior:"smooth"});try{let u=await fetch(U),c=await u.json();if(!u.ok||c.data?.length==0)throw"Can't find a profile for this user";const v=c.data[0];document.title="Profile: "+v.username,a.value=v,C.value=a.value.userpic?`${D(a.value.userpic)}${w}`:null,o.value=v.related[0]?.hire,d.value=v.related[0]?.social,E.value=H(a.value.description);const f=[z(A),z(T)],[G,V]=await Promise.allSettled(f);G.status==="fulfilled"&&G.value&&(S.value.company=G.value),V.status==="fulfilled"&&V.value&&(S.value.edu=V.value),await B(P+a.value.id)}catch(u){console.error(u)}finally{p.value=!1}});async function B(u){const c=await fetch(u),v=await c.json();c.ok&&v.data?.length>0&&(R.value=v.data.map(f=>{if(f.Company[0])return{name:f.Company[0].Company_id.name,slug:f.Company[0].Company_id.slug,role:f.role,link:"/business/"+f.Company[0].Company_id.slug};if(f.Edu[0])return{name:f.Edu[0].Edu_id.name,slug:f.Edu[0].Edu_id.slug,role:f.role,link:"/edu/"+f.Edu[0].Edu_id.slug}}))}async function z(u){const c=await fetch(u),v=await c.json();return c.ok&&v.data?.length>0?{name:v.data[0].name,logo:v.data[0].logo?`${D(v.data[0].logo)}${w}`:null,slug:v.data[0].slug}:null}const k={year:"numeric",month:"short",day:"numeric"},F=b(()=>new Date(a.value.date_created).toLocaleString("en-US",k)),j=b(()=>({city:a.value.location_city,country:a.value.location_country})),M=b(()=>{const u=[a.value.name,a.value.surname].filter(Boolean).join(" ");return u||null}),_=b(()=>`${O.FORUM}u/${a.value.username}/summary`),J=b(()=>{const u={beta:a.value.beta_since,gamma:a.value.gamma_since};return u.beta||u.gamma?u:null});b(()=>{let u=null;return d.value?.website&&d.value.website!==""&&(u={name:me(d.value.website),link:ce(d.value.website)}),u});const ae=b(()=>o.value.skills_other||o.value.skills_vvvv||o.value.contact||o.value.availableFor&&o.value.availableFor.length>0||o.value.description||o.value.image);return(u,c)=>(l(),L(m(ve),{show:p.value},{default:g(()=>[a.value?(l(),r("div",la,[t("div",sa,[t("div",na,[y(m(fe),{objectFit:"contain",round:"",size:I,src:C.value,class:ke({noImageBack:C.value!==null})},null,8,["src","class"]),t("div",oa,[t("h5",null,[x(h(a.value.username)+" ",1),t("a",{href:_.value,target:"_blank",class:"pl-2",alt:"Forum Profile"},[y(m(W),{trigger:"hover"},{trigger:g(()=>[y(m(Q),null,{default:g(()=>[y(m(ge))]),_:1})]),default:g(()=>[c[0]||(c[0]=x(" Open Forum Profile "))]),_:1})],8,ra)]),M.value?(l(),r("p",ia,h(M.value),1)):i("",!0)]),t("div",ua,[y(m(W),{trigger:"hover"},{trigger:g(()=>[y(m(Q),{size:"1.2rem",class:"mr-2"},{default:g(()=>[y(m(Ce))]),_:1})]),default:g(()=>[c[1]||(c[1]=x(" Joined "))]),_:1}),x(" "+h(F.value),1)]),j.value?(l(),L(xe,{key:0,location:j.value,class:"pb-2"},null,8,["location"])):i("",!0),R.value.length>0?(l(),L(ta,{key:1,data:R.value,class:"mb-3"},null,8,["data"])):i("",!0),d.value?(l(),L($e,{key:2,class:"my-1 py-2 border-top",social:d.value},null,8,["social"])):i("",!0),Object.keys(S.value).length>0?(l(),L(Ze,{key:3,data:S.value,class:"mb-3"},null,8,["data"])):i("",!0),J.value?(l(),L(Je,{key:4,data:J.value},null,8,["data"])):i("",!0)]),t("div",da,[E.value?(l(),r("div",ca,[t("p",{innerHTML:E.value},null,8,ma)])):i("",!0),o.value&&o.value.available?(l(),r("div",va,[c[2]||(c[2]=t("h4",{class:"h4"},"Available for hire",-1)),ae.value?(l(),r("div",pa,[y(qe,{data:o.value},null,8,["data"])])):i("",!0)])):i("",!0)])])])):i("",!0)]),_:1},8,["show"]))}};export{ka as default};
