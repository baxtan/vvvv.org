import{c5 as i,ad as n}from"./app.js";const u=i("businessList",{state:()=>({items:[],total:null,fetched:!1}),actions:{async fetch(t=!1){if(!(this.fetched&&!t))try{const{items:e,total:s}=await f();this.items=e,this.total=s,this.fetched=!0}catch{this.fetched=!1}}}}),a=n.BASEURL+"items/Company?fields=*&sort=name&meta=filter_count",r="withoutEnlargement=true&fit=inside&height=60&quality=90&format=auto";function c(t){return t?`${n.ASSETS}${t}?${r}`:null}async function f(){const t=await fetch(a);if(t.ok){const e=await t.json(),s=e.data;return s.forEach(o=>{o.logo=c(o.logo)}),{items:s,total:e.meta?.filter_count??0}}else throw Error("Connection Error")}export{u};
