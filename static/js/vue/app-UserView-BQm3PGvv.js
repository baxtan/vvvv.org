import{d as K,ae as n,af as s,av as Q,r as m,ap as B,am as y,as as a,ah as f,ai as u,an as o,aw as W,ax as h,M as $,b as _,ay as j,ac as H,ag as v,az as X,aA as Y,au as b,aB as Z,aC as ee,aq as te,ad as w,aD as ae,aE as le,aF as se,ar as ne,aj as oe,aG as U,ak as A,aH as re}from"./app.js";import{N as ie}from"./app-Space-CohAo84o.js";import{_ as ce}from"./app-SocialView-Bm2MClfs.js";import{_ as ue}from"./app-Location-p6anrmfV.js";import{N as de}from"./app-PerformantEllipsis-BXAi2AII.js";import"./app-LocationOutline-DNQ6lrCI.js";const ve={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},me=K({name:"CalendarOutline",render:function(r,l){return s(),n("svg",ve,l[0]||(l[0]=[Q('<rect fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" x="48" y="80" width="416" height="384" rx="48"></rect><circle cx="296" cy="232" r="24" fill="currentColor"></circle><circle cx="376" cy="232" r="24" fill="currentColor"></circle><circle cx="296" cy="312" r="24" fill="currentColor"></circle><circle cx="376" cy="312" r="24" fill="currentColor"></circle><circle cx="136" cy="312" r="24" fill="currentColor"></circle><circle cx="216" cy="312" r="24" fill="currentColor"></circle><circle cx="136" cy="392" r="24" fill="currentColor"></circle><circle cx="216" cy="392" r="24" fill="currentColor"></circle><circle cx="296" cy="392" r="24" fill="currentColor"></circle><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" stroke-linecap="round" d="M128 48v32"></path><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" stroke-linecap="round" d="M384 48v32"></path><path fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" d="M464 160H48"></path>',13)]))}}),fe=["innerHTML"],he=["innerHTML"],pe={class:"mt-2"},ge={__name:"ClippedText",props:["text","maxLength","clippedLength"],setup(t){const r=["Show More","Show Less"],l=m(0),e=m(!1),c=m(t.text);B(()=>{t.text.length>t.maxLength&&(e.value=!0),c.value=t.text.trim()});function p(){l.value?l.value=0:l.value=1}return(C,k)=>(s(),n($,null,[e.value&&l.value==0?(s(),y(u(de),{key:0,"line-clamp":"3",tooltip:"false"},{default:f(()=>[a("span",{innerHTML:t.text},null,8,fe)]),_:1})):(s(),n("span",{key:1,innerHTML:t.text},null,8,he)),a("div",pe,[e.value?(s(),n("a",{key:0,href:"#",onClick:W(p,["prevent"])},h(r[l.value]),1)):o("",!0)])],64))}},_e={class:"card-body"},ye=["src"],be=["innerHTML"],ke={class:"row"},xe={key:0,class:"col-12 col-lg-6"},we={class:"pr-lg-2"},$e=["innerHTML"],Ce={key:1,class:"col-12 col-lg-6"},Le={class:"pl-lg-2"},Me=["innerHTML"],Te={class:"card-text"},je="",Fe={__name:"HireView",props:{data:Object,contact:String},setup(t){const r=_(()=>t.data?{description:j(t.data.description),contact:t.data.contact,skills_vvvv:j(t.data.skills_vvvv),skills_other:j(t.data.skills_other),image:t.data.image?H(t.data.image)+je:null,availableFor:t.data.availableFor?t.data.availableFor.map(l=>l.AvailableFor_Options_id?l.AvailableFor_Options_id.value:""):[]}:{});return(l,e)=>(s(),n("div",_e,[r.value.image?(s(),n("img",{key:0,src:r.value.image,class:"img-fluid pt-2 mb-4"},null,8,ye)):o("",!0),r.value.description?(s(),n("p",{key:1,class:"card-text",innerHTML:r.value.description},null,8,be)):o("",!0),e[4]||(e[4]=a("hr",{class:"d-lg-none mt-3 mt-lg-0"},null,-1)),a("div",ke,[r.value.skills_vvvv?(s(),n("div",xe,[a("div",we,[e[0]||(e[0]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"vvvv skills")],-1)),a("p",{class:"card-text",innerHTML:r.value.skills_vvvv},null,8,$e)])])):o("",!0),r.value.skills_vvvv?(s(),n("div",Ce,[a("div",Le,[e[1]||(e[1]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"other skills")],-1)),a("p",{class:"card-text",innerHTML:r.value.skills_other},null,8,Me)])])):o("",!0)]),r.value.contact?(s(),n($,{key:2},[e[2]||(e[2]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"contact")],-1)),a("p",Te,h(r.value.contact),1)],64)):o("",!0),r.value.availableFor.length>0?(s(),n($,{key:3},[e[3]||(e[3]=a("p",{class:"py-0 mb-2 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"Available for")],-1)),v(u(ie),null,{default:f(()=>[(s(!0),n($,null,X(r.value.availableFor,c=>(s(),y(u(Y),{class:"mr-2",bordered:!1},{default:f(()=>[b(h(c),1)]),_:2},1024))),256))]),_:1})],64)):o("",!0)]))}},He={class:"joined border-top pt-3"},Ne={key:0},Se={key:1},Oe={__name:"BetaGammaUser",props:["data"],setup(t){return(r,l)=>(s(),n("div",He,[l[2]||(l[2]=a("p",{class:"joined mb-2"},"Using:",-1)),t.data.beta?(s(),n("div",Ne,[l[0]||(l[0]=b("vvvv beta since ")),a("b",null,h(t.data.beta),1)])):o("",!0),t.data.gamma?(s(),n("div",Se,[l[1]||(l[1]=b("vvvv gamma since ")),a("b",null,h(t.data.gamma),1)])):o("",!0)]))}},Ee=["href"],Pe={class:"mb-1 d-flex text-align-center"},Ue=["href"],Ae={class:"mb-1"},Be={__name:"Maintains",props:["data"],setup(t){return(r,l)=>(s(),n("div",null,[l[2]||(l[2]=a("div",{class:"mb-2"},"Maintains:",-1)),t.data.company?(s(),n("a",{key:0,href:"/business/"+t.data.company.name,onClick:l[0]||(l[0]=e=>u(Z)(t.data.company.name,e))},[a("div",Pe,h(t.data.company.name),1)],8,Ee)):o("",!0),t.data.edu?(s(),n("a",{key:1,href:"/edu/"+t.data.edu.name,onClick:l[1]||(l[1]=e=>u(ee)(t.data.edu.name,e))},[a("p",Ae,h(t.data.edu.name),1)],8,Ue)):o("",!0)]))}},Re={key:0,class:"userView"},Ve={class:"row"},qe={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},De={class:"my-3"},Ge=["href"],ze={key:0,class:"text-muted mb-1"},Ie={class:"joined mb-2"},Je={class:"col-12 mt-3 mt-md-0 pt-md-0 col-md-6 col-lg-8 profileContent"},Ke={key:0,class:"mb-4 description"},Qe={key:1},We={key:0,class:"card"},F=120,lt={__name:"UserView",setup(t){const r=te();ne();const l=r.params.username,e=m(null),c=m(null),p=m(null),C=m(null),k=m(!1),L=m(null),x=m({}),N=`?withoutEnlargement=true&quality=90&fit=cover&width=${F}&height=${F}`,R=`${w.GET_USERS}?filter[username][_eq]=${l}
            &fields=*,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value,related.social.*`,V=`${w.GET_COMPANIES}?filter[owner][username][_eq]=${l}&fields=name,logo`,q=`${w.GET_EDUS}?filter[owner][username][_eq]=${l}&fields=name,logo`;B(async()=>{k.value=!0,window.scrollTo({top:0,left:0,behavior:"smooth"});try{let i=await fetch(R),d=await i.json();if(!i.ok||d.data?.length==0)throw"Can't find a profile for this user";const g=d.data[0];document.title="Profile: "+g.username,e.value=g,C.value=e.value.userpic?`${H(e.value.userpic)}${N}`:null,c.value=g.related[0]?.hire,p.value=g.related[0]?.social,L.value=e.value.description;const J=[S(V),S(q)],[M,T]=await Promise.allSettled(J);M.status==="fulfilled"&&M.value&&(x.value.company=M.value),T.status==="fulfilled"&&T.value&&(x.value.edu=T.value)}catch(i){console.error(i)}finally{k.value=!1}});async function S(i){const d=await fetch(i),g=await d.json();return d.ok&&g.data?.length>0?{name:g.data[0].name,logo:g.data[0].logo?`${H(g.data[0].logo)}${N}`:null}:null}const D={year:"numeric",month:"short",day:"numeric"},G=_(()=>new Date(e.value.date_created).toLocaleString("en-US",D)),O=_(()=>({city:e.value.location_city,country:e.value.location_country})),E=_(()=>{const i=[e.value.name,e.value.surname].filter(Boolean).join(" ");return i||null}),z=_(()=>`${w.FORUM}u/${e.value.username}/summary`),P=_(()=>{const i={beta:e.value.beta_since,gamma:e.value.gamma_since};return Object.keys(i).length>0?i:null});_(()=>{let i=null;return p.value?.website&&p.value.website!==""&&(i={name:le(p.value.website),link:ae(p.value.website)}),i});const I=_(()=>c.value.skills_other||c.value.skills_vvvv||c.value.contact||c.value.availableFor&&c.value.availableFor.length>0||c.value.description||c.value.image);return(i,d)=>(s(),y(u(se),{show:k.value},{default:f(()=>[e.value?(s(),n("div",Re,[a("div",Ve,[a("div",qe,[v(u(oe),{objectFit:"contain",round:"",size:F,src:C.value},null,8,["src"]),a("div",De,[a("h5",null,[b(h(e.value.username)+" ",1),a("a",{href:z.value,target:"_blank",class:"pl-2",alt:"Forum Profile"},[v(u(U),{trigger:"hover"},{trigger:f(()=>[v(u(A),null,{default:f(()=>[v(u(re))]),_:1})]),default:f(()=>[d[0]||(d[0]=b(" Open Forum Profile "))]),_:1})],8,Ge)]),E.value?(s(),n("p",ze,h(E.value),1)):o("",!0)]),a("div",Ie,[v(u(U),{trigger:"hover"},{trigger:f(()=>[v(u(A),{size:"1.2rem",class:"mr-2"},{default:f(()=>[v(u(me))]),_:1})]),default:f(()=>[d[1]||(d[1]=b(" Joined "))]),_:1}),b(" "+h(G.value),1)]),O.value?(s(),y(ue,{key:0,location:O.value},null,8,["location"])):o("",!0),Object.keys(x.value).length>0?(s(),y(Be,{key:1,data:x.value,class:"border-top pt-2 mt-4"},null,8,["data"])):o("",!0),p.value?(s(),y(ce,{key:2,class:"mt-4 mb-4 pt-3 border-top",social:p.value},null,8,["social"])):o("",!0),P.value?(s(),y(Oe,{key:3,data:P.value},null,8,["data"])):o("",!0)]),a("div",Je,[L.value?(s(),n("div",Ke,[v(ge,{text:L.value,maxLength:255,clippedLength:100},null,8,["text"])])):o("",!0),c.value&&c.value.available?(s(),n("div",Qe,[d[2]||(d[2]=a("h4",{class:"h4"},"Available for hire",-1)),I.value?(s(),n("div",We,[v(Fe,{data:c.value},null,8,["data"])])):o("",!0)])):o("",!0)])])])):o("",!0)]),_:1},8,["show"]))}};export{lt as default};
