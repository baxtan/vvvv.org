import{ab as _,ag as r,aa as h}from"./app.js";import{u as y}from"./app-BusinessListStore-DnCCvqwp.js";import{_ as v,a as B}from"./app-ListNavigation-DYrpJ1sP.js";import{_ as S}from"./app-LogoListView-D2fRsnkt.js";import{l as b,w as k,f as w,c as C,b as u,N as p,a1 as m,Q as N,u as s,F as $,o as a}from"./app-vue-Chj5ZsMy.js";import"./app-icons-CHD5PN3D.js";import"./app-lodash-Cpj98o6Y.js";import"./app-ListStoreHelper-BG-msJX6.js";import"./app-LinksHelper-CkUh4jxH.js";import"./app-PerformantEllipsis-BxHs5-4f.js";import"./app-Location-BTtBjoC8.js";import"./app-Internships-DDTlU3XH.js";const z={class:"row mb-2"},L={class:"col-12 col-lg-4"},A={__name:"BusinessList",setup(P){const n=h(),i=_(),e=y(),c=[{label:"10 per page",value:10},{label:"50 per page",value:50},{label:"100 per page",value:100}];b(async()=>{e.setSection("list"),await l(i.query)}),k(()=>i.query,async(t,o)=>{t!=o&&await l(i.query)},{deep:!0});async function l(t){if(t.b){r(t.b);return}else t.section&&e.setSection(t.section,t.type);try{await e.getData({page:0,size:c[0].value})}catch(o){console.log(o)}}function d(t){t=="connections"?n.push({name:"Businesses",query:{section:t,type:e.selectedConnection.key??"github"}}):t=="list"&&n.push({name:"Businesses",query:{section:t}})}function g(t){n.push({name:"Businesses",query:{section:e.selectedSection.key,type:t}})}const f=w(()=>{if(e.list?.list)return`${e.list.list.total} Businesses that use vvvv:`});return(t,o)=>(a(),C($,null,[u("div",z,[u("div",L,[N(v,{sections:s(e).sections,selected:s(e).selectedSection.key,onSelect:d},null,8,["sections","selected"])])]),s(e).selectedSection.key=="list"?(a(),p(S,{key:0,loading:s(e).loading,list:s(e).list?.list,title:f.value,onClick:s(r)},null,8,["loading","list","title","onClick"])):m("",!0),s(e).selectedSection.key=="connections"?(a(),p(B,{key:1,list:s(e).list?.connections,options:s(e).socialOptions,connection:s(e).selectedConnection,pageSizes:c,loading:s(e).loading,connectionKey:"business",onChange:g,onPage:s(e).getData},null,8,["list","options","connection","loading","onPage"])):m("",!0)],64))}};export{A as default};
