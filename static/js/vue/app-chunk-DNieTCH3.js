import{ac as g,$ as F,_ as p,a3 as h,a4 as w,a2 as H,a9 as N}from"./app.js";import{_ as C}from"./app-chunk-CA3p6NB0.js";import{r as f,o as _,G as o,a0 as c,H as s,I as n,P as d,Q as u,O as m,L as l,F as y,R as b,K as k,f as L}from"./app-chunk-DZzY5mmt.js";import{N as S}from"./app-chunk-UrI7pPeN.js";import{N as x}from"./app-chunk-DLXk6Puv.js";import"./app-chunk-CH2Cnt03.js";import"./app-chunk-OBQLImDs.js";import"./app-chunk-cNDEcVgS.js";const E=g("forHireList",{state:()=>({items:[],total:0,fetched:!1}),actions:{async fetch(e=!1){if(!(this.fetched&&!e))try{const{items:a,total:r}=await B();this.items=a,this.total=r,this.fetched=!0}catch{this.fetched=!1}}}}),$=F.GET_USERS+`?fields=*,related.social.contact,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value
&filter[related][hire][available][_eq]=true&sort=username&meta=filter_count`;async function B(){const e=await fetch($),a=await e.json();if(e.ok)return{items:a.data.map(t=>{const i=[t.name,t.surname].filter(Boolean).join(" ");return{username:t.username,name:i??null,contact:t.related[0].social??null,location:{city:t.location_city,country:t.location_country},hire:t.related[0].hire??null}}),total:a.meta?.filter_count??0};throw Error("Connection Error")}const O={class:"imageContainer"},T=["src","alt"],j={class:"card-body"},A={class:"card-title"},U={class:"card-text"},V=["innerHTML"],M={key:0,class:"mt-2"},P={__name:"ForHireCard",props:{data:Object},setup(e){const a=f(null);return _(()=>{e.data.hire&&(a.value={description:h(e.data.hire.description),contact:e.data.hire.contact,skills_vvvv:h(e.data.hire.skills_vvvv),skills_other:h(e.data.hire.skills_other),image:e.data.hire.image?p(e.data.hire.image):null,availableFor:e.data.hire.availableFor?e.data.hire.availableFor.map(r=>r.AvailableFor_Options_id?r.AvailableFor_Options_id.value:""):[]})}),(r,t)=>a.value?(s(),o("div",{key:0,class:"card mb-5",onClick:t[0]||(t[0]=i=>l(H)(e.data.username,i))},[n("div",O,[a.value.image?(s(),o("img",{key:0,src:a.value.image,class:"card-img-top",alt:e.data.username},null,8,T)):c("",!0)]),n("div",j,[n("h4",A,u(e.data.username),1),n("p",U,u(e.data.title),1),d(l(S),{"line-clamp":"3",tooltip:"false"},{default:m(()=>[n("span",{innerHTML:a.value.skills_vvvv},null,8,V)]),_:1}),a.value.availableFor.length>0?(s(),o("div",M,[d(l(x),null,{default:m(()=>[(s(!0),o(y,null,b(a.value.availableFor,i=>(s(),k(l(w),{bordered:!1},{default:m(()=>[L(u(i),1)]),_:2},1024))),256))]),_:1})])):c("",!0),d(C,{location:e.data.location,class:"border-top pt-2 mt-3"},null,8,["location"])])])):c("",!0)}},D={key:0},G={key:0},R={class:"row"},Y={__name:"ForHireList",setup(e){const a=f(!0),r=E();return _(async()=>{try{a.value=!0,await r.fetch()}catch(t){console.log(t)}finally{a.value=!1}}),(t,i)=>(s(),k(l(N),{show:a.value},{default:m(()=>[!a.value&&l(r)?(s(),o("div",D,[l(r).total>0?(s(),o("p",G,u(l(r).total)+" professional vvvv users available for hire:",1)):c("",!0),n("div",R,[(s(!0),o(y,null,b(l(r).items,v=>(s(),o("div",{id:"UsersForHire",class:"col-md-6 col-lg-4 col-12",key:v.username},[d(P,{data:v},null,8,["data"])]))),128))])])):c("",!0)]),_:1},8,["show"]))}};export{Y as default};
