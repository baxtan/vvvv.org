import{r as f,c as v,G as c,a0 as d,H as o,I as n,F as p,R as y,Q as h,P as u,K as g,L as m,M as w,o as k,O as b}from"./app-chunk-DZzY5mmt.js";import{_ as $,$ as x,a7 as _,a3 as B,a9 as L}from"./app.js";import{d as C}from"./app-chunk-CbgmFOV4.js";import{_ as j,a as A}from"./app-chunk-w8SK0U1n.js";import{_ as M}from"./app-chunk-CLBlEYnS.js";import{_ as P}from"./app-chunk-DqLUBY3p.js";import"./app-chunk-CH2Cnt03.js";import"./app-chunk-OBQLImDs.js";import"./app-chunk-cNDEcVgS.js";import"./app-chunk-C5HaSN46.js";const E="?withoutEnlargement=true&quality=90&fit=cover&width=120",H=x.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function R(t){const l=H+t,s=await fetch(l);if(s.ok){const e=await s.json();if(e.data.length==0)throw"Can't find a profile for this company";const a={...e.data[0]};return a.logo=a?.logo?$(a.logo)+E:null,a}else throw new Error("Can't load Profile")}const N={key:0,class:"my-3 pt-2 border-top"},S={key:0,class:"mb-1"},V=["href"],I={__name:"Links",props:["data"],setup(t){const l=t,s=f([{name:"Contact",url:_(l.data.contact_url)},{name:"Projects",url:_(l.data.projects_url)},{name:"Jobs",url:_(l.data.jobs_url)}]),e=v(()=>s.value.some(a=>a.url!=null||""));return console.log(s),(a,i)=>e.value?(o(),c("div",N,[i[0]||(i[0]=n("p",{class:"text-muted mb-2"},"Direct links:",-1)),(o(!0),c(p,null,y(s.value,r=>(o(),c(p,{key:r.name},[r.url?(o(),c("p",S,[n("a",{href:r.url,target:"_blank"},h(r.name),9,V)])):d("",!0)],64))),128))])):d("",!0)}},U=["src"],q={class:"my-3"},D={__name:"InstitutionBasics",props:["data"],setup(t){return(l,s)=>(o(),c("div",null,[n("img",{src:t.data.logo||m(C),alt:"logo",class:"img-fluid"},null,8,U),n("div",q,[n("h5",null,h(t.data.name),1)]),u(j,{data:t.data},null,8,["data"]),Object.keys(t.data.social)>0?(o(),g(M,{key:0,class:"mt-4 mb-4 pt-3 border-top",social:t.data.social},null,8,["social"])):d("",!0),u(P,{data:t.data.internships,text:"Accepting internship applications"},null,8,["data"]),u(I,{class:"links",data:t.data},null,8,["data"]),u(A,{class:"maintained mt-4 pt-3 border-top",data:t.data.owner},null,8,["data"])]))}},F={key:0},G={class:"row"},O={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},T={key:0,class:"col-12 col-md-6 col-lg-8"},J=["innerHTML"],ot={__name:"BusinessView",setup(t){const s=w().params.name,e=f(null),a=f(!1);let i;return k(async()=>{try{a.value=!0,e.value=await R(s),document.title="Profile: "+e.value.name,i=B(e.value.description)}catch(r){console.log(r)}finally{a.value=!1}}),(r,K)=>(o(),g(m(L),{show:a.value},{default:b(()=>[e.value?(o(),c("div",F,[n("div",G,[n("div",O,[u(D,{class:"mb-3",data:e.value},null,8,["data"])]),m(i)?(o(),c("div",T,[n("p",{innerHTML:m(i)},null,8,J)])):d("",!0)])])):d("",!0)]),_:1},8,["show"]))}};export{ot as default};
