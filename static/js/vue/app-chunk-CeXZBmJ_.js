import{M as w,r,o as g,c as y,K as c,O as f,L as _,H as a,a0 as l,G as u,f as b,Q as p,I as o,P as v}from"./app-chunk-DZzY5mmt.js";import{_ as k,$ as E,a3 as x,a7 as H,a8 as M,a9 as N}from"./app.js";import{_ as A}from"./app-chunk-CLBlEYnS.js";import{_ as B,a as C}from"./app-chunk-w8SK0U1n.js";import{N as I}from"./app-chunk-CCU-NQA_.js";import"./app-chunk-CH2Cnt03.js";import"./app-chunk-OBQLImDs.js";import"./app-chunk-cNDEcVgS.js";const L="?withoutEnlargement=true&quality=90&fit=cover&width=120",P=E.BASEURL+"items/Edu?fields=*,social.*,owner.username&filter[name][_eq]=";async function S(d){const m=P+d,n=await fetch(m),e=await n.json();if(n.ok){if(e.data.length==0)throw"Can't find a profile for this Educational Institution";const t={...e.data[0]};return t.logo=t?.logo?k(t.logo)+L:null,t}else throw new Error("Can't load Profile")}const V={key:1},R={class:"row"},$={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},T={class:"mb-3"},U=["src"],j={class:"my-3"},q={key:0,class:"col-12 col-md-6 col-lg-8"},G=["innerHTML"],Y={__name:"EduView",setup(d){const n=w().params.name,e=r(null),t=r(!1),i=r(null),h=["website","github","nuget","mastodon","pixelfed"];return g(async()=>{try{t.value=!0,i.value=null,e.value=await S(n),document.title="Profile: "+e.value.name,e.value.description=x(e.value.description)}catch(s){console.log(s),i.value="Something went wrong. Maybe an Institutional Institution is simply not yet confirmed."}finally{t.value=!1}}),y(()=>{let s=null;return e.value.social?.website&&e.value.social.website!==""&&(s={name:M(e.value.social.website),link:H(e.value.social.website)}),s}),(s,K)=>(a(),c(_(N),{show:t.value},{default:f(()=>[i.value?(a(),c(_(I),{key:0,title:"Hoppala",type:"warning"},{default:f(()=>[b(p(i.value),1)]),_:1})):l("",!0),e.value?(a(),u("div",V,[o("div",R,[o("div",$,[o("div",T,[e.value.logo?(a(),u("img",{key:0,src:e.value.logo,alt:"logo",class:"img-fluid"},null,8,U)):l("",!0),o("div",j,[o("h5",null,p(e.value.name),1)]),v(B,{data:e.value},null,8,["data"]),e.value.social?(a(),c(A,{key:1,class:"text-left mt-4 mb-4 pt-3 border-top",social:e.value.social,order:h},null,8,["social"])):l("",!0),v(C,{class:"text-left maintained mt-4 pt-3",data:e.value.owner},null,8,["data"])])]),e.value.description?(a(),u("div",q,[o("p",{innerHTML:e.value.description},null,8,G)])):l("",!0)])])):l("",!0)]),_:1},8,["show"]))}};export{Y as default};
