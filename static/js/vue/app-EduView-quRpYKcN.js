import{ac as w,ad as g,aq as y,r,ap as b,ay as k,b as E,aD as x,aE as N,am as c,ah as f,ai as _,aF as A,af as t,an as l,ae as u,au as C,ax as p,as as o,ag as v}from"./app.js";import{_ as H}from"./app-SocialView-Ba6d-CcE.js";import{_ as M,a as B}from"./app-LocationFull-DgV_pOB8.js";import{N as S}from"./app-Alert-BloX_4ay.js";import"./app-LocationOutline-DNQ6lrCI.js";const V="?withoutEnlargement=true&quality=90&fit=cover&width=120",I=g.BASEURL+"items/Edu?fields=*,social.*,owner.username&filter[name][_eq]=";async function L(d){const m=I+d,n=await fetch(m),e=await n.json();if(n.ok){if(e.data.length==0)throw"Can't find a profile for this Educational Institution";const a={...e.data[0]};return a.logo=a?.logo?w(a.logo)+V:null,a}else throw new Error("Can't load Profile")}const P={key:1},R={class:"row"},T={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},q={class:"mb-3"},U=["src"],$={class:"my-3"},j={key:0,class:"col-12 col-md-6 col-lg-8 profileContent"},D=["innerHTML"],Q={__name:"EduView",setup(d){const n=y().params.name,e=r(null),a=r(!1),i=r(null),h=["website","github","nuget","mastodon","pixelfed"];return b(async()=>{window.scrollTo({top:0,left:0,behavior:"smooth"});try{a.value=!0,i.value=null,e.value=await L(n),document.title="Profile: "+e.value.name,e.value.description=k(e.value.description)}catch(s){console.log(s),i.value="Something went wrong. Maybe an Institutional Institution is simply not yet confirmed."}finally{a.value=!1}}),E(()=>{let s=null;return e.value.social?.website&&e.value.social.website!==""&&(s={name:N(e.value.social.website),link:x(e.value.social.website)}),s}),(s,F)=>(t(),c(_(A),{show:a.value},{default:f(()=>[i.value?(t(),c(_(S),{key:0,title:"Hoppala",type:"warning"},{default:f(()=>[C(p(i.value),1)]),_:1})):l("",!0),e.value?(t(),u("div",P,[o("div",R,[o("div",T,[o("div",q,[e.value.logo?(t(),u("img",{key:0,src:e.value.logo,alt:"logo",class:"img-fluid"},null,8,U)):l("",!0),o("div",$,[o("h5",null,p(e.value.name),1)]),v(M,{data:e.value},null,8,["data"]),e.value.social?(t(),c(H,{key:1,class:"text-left mt-4 mb-4 pt-3 border-top",social:e.value.social,order:h},null,8,["social"])):l("",!0),v(B,{class:"text-left maintained mt-4 pt-3",data:e.value.owner},null,8,["data"])])]),e.value.description?(t(),u("div",j,[o("p",{innerHTML:e.value.description},null,8,D)])):l("",!0)])])):l("",!0)]),_:1},8,["show"]))}};export{Q as default};
