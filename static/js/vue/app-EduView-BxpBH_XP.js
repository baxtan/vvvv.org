import{ac as v,ad as w,aq as h,r as l,ap as g,aw as y,b,aC as E,aD as k,am as d,ah as m,ai as p,aE as C,af as n,an as i,ae as f,au as N,ax as A,as as r,ag as _}from"./app.js";import{_ as H,a as M}from"./app-InstitutionBasics-DFbOFfHf.js";import{N as x}from"./app-Alert-CeJ-9lDf.js";import"./app-SocialView-B3E0U6ck.js";import"./app-LocationOutline-DNQ6lrCI.js";import"./app-Internships-DTp7ZjkH.js";import"./app-CheckmarkCircle-Bc_kYk8y.js";const B="?withoutEnlargement=true&quality=90&fit=cover&width=150",S=w.BASEURL+"items/Edu?fields=*,social.*,owner.username&filter[name][_eq]=";async function V(c){const u=S+c,o=await fetch(u),e=await o.json();if(o.ok){if(e.data.length==0)throw"Can't find a profile for this Educational Institution";const a={...e.data[0]};return a.logo=a?.logo?v(a.logo)+B:null,a}else throw new Error("Can't load Profile")}const I={key:1},L={class:"row"},P={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},R={key:0,class:"col-12 col-md-6 col-lg-8 profileContent"},T=["innerHTML"],J={__name:"EduView",setup(c){const o=h().params.name,e=l(null),a=l(!1),s=l(null);return g(async()=>{window.scrollTo({top:0,left:0,behavior:"smooth"});try{a.value=!0,s.value=null,e.value=await V(o),document.title="Profile: "+e.value.name,e.value.description=y(e.value.description)}catch(t){console.log(t),s.value="Something went wrong. Maybe an Institutional Institution is simply not yet confirmed."}finally{a.value=!1}}),b(()=>{let t=null;return e.value.social?.website&&e.value.social.website!==""&&(t={name:k(e.value.social.website),link:E(e.value.social.website)}),t}),(t,q)=>(n(),d(p(C),{show:a.value},{default:m(()=>[s.value?(n(),d(p(x),{key:0,title:"Hoppala",type:"warning"},{default:m(()=>[N(A(s.value),1)]),_:1})):i("",!0),e.value?(n(),f("div",I,[r("div",L,[r("div",P,[_(H,{class:"mb-3",data:e.value},null,8,["data"])]),e.value.description?(n(),f("div",R,[r("p",{innerHTML:e.value.description},null,8,T),_(M,{class:"maintained mt-4 pt-3 border-top d-block d-md-none",data:e.value.owner},null,8,["data"])])):i("",!0)])])):i("",!0)]),_:1},8,["show"]))}};export{J as default};
