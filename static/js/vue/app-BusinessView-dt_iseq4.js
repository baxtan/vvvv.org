import{ac as _,ad as h,as as v,r as d,ar as w,aB as g,am as y,ah as k,ai as n,aJ as b,af as l,ae as u,an as f,au as t,ag as p}from"./app.js";import{_ as B,a as C}from"./app-InstitutionBasics-C0nRtizx.js";import"./app-SocialView-C3aZtlak.js";import"./app-LocationOutline-BOhip31t.js";import"./app-Internships-uRuhFmNz.js";import"./app-CheckmarkCircle-C6fpvPTS.js";const A="?withoutEnlargement=true&quality=98&fit=cover&width=300&format=png",E=h.BASEURL+"items/Company?fields=*,social.*,owner.username&filter[name][_eq]=";async function M(r){const i=E+r,a=await fetch(i);if(a.ok){const o=await a.json();if(o.data.length==0)throw"Can't find a profile for this company";const e={...o.data[0]};return e.logo=e?.logo?_(e.logo)+A:null,e}else throw new Error("Can't load Profile")}const L={key:0},N={class:"row"},P={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},R={key:0,class:"col-12 col-md-6 col-lg-8 mt-0 mt-md-3 mt-md-0 profileContent"},S=["innerHTML"],q={__name:"BusinessView",setup(r){const a=v().params?.name??"vvvv",o=d(null),e=d(!1);let s;return w(async()=>{window.scrollTo({top:0,left:0,behavior:"smooth"});try{e.value=!0,o.value=await M(a),document.title="Profile: "+o.value.name,s=g(o.value.description)}catch(c){console.log(c),error.value="Something went wrong or maybe a business you are looking for is simply not yet confirmed."}finally{e.value=!1}}),(c,m)=>(l(),y(n(b),{show:e.value},{default:k(()=>[o.value?(l(),u("div",L,[t("div",N,[t("div",P,[p(B,{class:"mb-3",data:o.value},null,8,["data"])]),n(s)?(l(),u("div",R,[m[0]||(m[0]=t("hr",{class:"d-block d-md-none"},null,-1)),t("p",{innerHTML:n(s)},null,8,S),p(C,{class:"maintained mt-4 pt-3 border-top d-block d-md-none",data:o.value.owner},null,8,["data"])])):f("",!0)])])):f("",!0)]),_:1},8,["show"]))}};export{q as default};
